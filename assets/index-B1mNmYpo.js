function dA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function fv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var uT={exports:{}},Mh={},cT={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),hA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),vA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),_A=Symbol.for("react.suspense"),wA=Symbol.for("react.memo"),bA=Symbol.for("react.lazy"),G_=Symbol.iterator;function EA(t){return t===null||typeof t!="object"?null:(t=G_&&t[G_]||t["@@iterator"],typeof t=="function"?t:null)}var dT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hT=Object.assign,fT={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=fT,this.updater=n||dT}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pT(){}pT.prototype=Qo.prototype;function pv(t,e,n){this.props=t,this.context=e,this.refs=fT,this.updater=n||dT}var mv=pv.prototype=new pT;mv.constructor=pv;hT(mv,Qo.prototype);mv.isPureReactComponent=!0;var q_=Array.isArray,mT=Object.prototype.hasOwnProperty,gv={current:null},gT={key:!0,ref:!0,__self:!0,__source:!0};function vT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mT.call(e,r)&&!gT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vu,type:t,key:s,ref:o,props:i,_owner:gv.current}}function TA(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vv(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function IA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K_=/\/+/g;function fp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IA(""+t.key):e.toString(36)}function Fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case hA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fp(o,0):r,q_(i)?(n="",t!=null&&(n=t.replace(K_,"$&/")+"/"),Fc(i,e,n,"",function(u){return u})):i!=null&&(vv(i)&&(i=TA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",q_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fp(s,a);o+=Fc(s,e,n,l,i)}else if(l=EA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fp(s,a++),o+=Fc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(t,e,n){if(t==null)return t;var r=[],i=0;return Fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function SA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},jc={transition:null},xA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:jc,ReactCurrentOwner:gv};function yT(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:oc,forEach:function(t,e,n){oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!vv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Qo;Ee.Fragment=fA;Ee.Profiler=mA;Ee.PureComponent=pv;Ee.StrictMode=pA;Ee.Suspense=_A;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;Ee.act=yT;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mT.call(e,l)&&!gT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:vA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gA,_context:t},t.Consumer=t};Ee.createElement=vT;Ee.createFactory=function(t){var e=vT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:yA,render:t}};Ee.isValidElement=vv;Ee.lazy=function(t){return{$$typeof:bA,_payload:{_status:-1,_result:t},_init:SA}};Ee.memo=function(t,e){return{$$typeof:wA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};Ee.unstable_act=yT;Ee.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ee.useContext=function(t){return nn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ee.useId=function(){return nn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Ee.useRef=function(t){return nn.current.useRef(t)};Ee.useState=function(t){return nn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return nn.current.useTransition()};Ee.version="18.3.1";cT.exports=Ee;var N=cT.exports;const Me=fv(N),vl=dA({__proto__:null,default:Me},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=N,RA=Symbol.for("react.element"),PA=Symbol.for("react.fragment"),AA=Object.prototype.hasOwnProperty,kA=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NA={key:!0,ref:!0,__self:!0,__source:!0};function _T(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AA.call(e,r)&&!NA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RA,type:t,key:s,ref:o,props:i,_owner:kA.current}}Mh.Fragment=PA;Mh.jsx=_T;Mh.jsxs=_T;uT.exports=Mh;var E=uT.exports,wT={exports:{}},In={},bT={exports:{}},ET={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var H=M.length;M.push(z);e:for(;0<H;){var X=H-1>>>1,Q=M[X];if(0<i(Q,z))M[X]=z,M[H]=Q,H=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],H=M.pop();if(H!==z){M[0]=H;e:for(var X=0,Q=M.length,ie=Q>>>1;X<ie;){var be=2*(X+1)-1,fe=M[be],Se=be+1,Be=M[Se];if(0>i(fe,H))Se<Q&&0>i(Be,fe)?(M[X]=Be,M[Se]=H,X=Se):(M[X]=fe,M[be]=H,X=be);else if(Se<Q&&0>i(Be,H))M[X]=Be,M[Se]=H,X=Se;else break e}}return z}function i(M,z){var H=M.sortIndex-z.sortIndex;return H!==0?H:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=M)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function A(M){if(T=!1,x(M),!v)if(n(l)!==null)v=!0,G(L);else{var z=n(u);z!==null&&U(A,z.startTime-M)}}function L(M,z){v=!1,T&&(T=!1,y(_),_=-1),m=!0;var H=f;try{for(x(z),h=n(l);h!==null&&(!(h.expirationTime>z)||M&&!k());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var Q=X(h.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),x(z)}else r(l);h=n(l)}if(h!==null)var ie=!0;else{var be=n(u);be!==null&&U(A,be.startTime-z),ie=!1}return ie}finally{h=null,f=H,m=!1}}var D=!1,I=null,_=-1,R=5,P=-1;function k(){return!(t.unstable_now()-P<R)}function O(){if(I!==null){var M=t.unstable_now();P=M;var z=!0;try{z=I(!0,M)}finally{z?S():(D=!1,I=null)}}else D=!1}var S;if(typeof b=="function")S=function(){b(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=O,S=function(){B.postMessage(null)}}else S=function(){w(O,0)};function G(M){I=M,D||(D=!0,S())}function U(M,z){_=w(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,G(L))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var H=f;f=z;try{return M()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=f;f=M;try{return z()}finally{f=H}},t.unstable_scheduleCallback=function(M,z,H){var X=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?X+H:X):H=X,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,M={id:d++,callback:z,priorityLevel:M,startTime:H,expirationTime:Q,sortIndex:-1},H>X?(M.sortIndex=H,e(u,M),n(l)===null&&M===n(u)&&(T?(y(_),_=-1):T=!0,U(A,H-X))):(M.sortIndex=Q,e(l,M),v||m||(v=!0,G(L))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var z=f;return function(){var H=f;f=z;try{return M.apply(this,arguments)}finally{f=H}}}})(ET);bT.exports=ET;var OA=bT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=N,Tn=OA;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TT=new Set,yl={};function Ls(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(yl[t]=e,t=0;t<e.length;t++)TT.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,LA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},Y_={};function MA(t){return bm.call(Y_,t)?!0:bm.call(Q_,t)?!1:LA.test(t)?Y_[t]=!0:(Q_[t]=!0,!1)}function VA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FA(t,e,n,r){if(e===null||typeof e>"u"||VA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yv=/[\-:]([a-z])/g;function _v(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yv,_v);Nt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yv,_v);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yv,_v);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wv(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FA(e,n,i,r)&&(n=null),r||i===null?MA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),IT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),Ev=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),Tv=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),xT=Symbol.for("react.offscreen"),Z_=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,pp;function Fa(t){if(pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pp=e&&e[1]||""}return`
`+pp+t}var mp=!1;function gp(t,e){if(!t||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function jA(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=gp(t.type,!1),t;case 11:return t=gp(t.type.render,!1),t;case 1:return t=gp(t.type,!0),t;default:return""}}function Sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case Xs:return"Portal";case Em:return"Profiler";case bv:return"StrictMode";case Tm:return"Suspense";case Im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ST:return(t.displayName||"Context")+".Consumer";case IT:return(t._context.displayName||"Context")+".Provider";case Ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tv:return e=t.displayName||null,e!==null?e:Sm(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Sm(t(e))}catch{}}return null}function UA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(e);case 8:return e===bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BA(t){var e=CT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lc(t){t._valueTracker||(t._valueTracker=BA(t))}function RT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PT(t,e){e=e.checked,e!=null&&wv(t,"checked",e,!1)}function Cm(t,e){PT(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ja=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ja(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function AT(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uc,NT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$A=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){$A.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function OT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function DT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zA=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(zA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function Iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dm=null,po=null,mo=null;function n1(t){if(t=wu(t)){if(typeof Dm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bh(e),Dm(t.stateNode,t.type,e))}}function LT(t){po?mo?mo.push(t):mo=[t]:po=t}function MT(){if(po){var t=po,e=mo;if(mo=po=null,n1(t),e)for(t=0;t<e.length;t++)n1(e[t])}}function VT(t,e){return t(e)}function FT(){}var vp=!1;function jT(t,e,n){if(vp)return t(e,n);vp=!0;try{return VT(t,e,n)}finally{vp=!1,(po!==null||mo!==null)&&(FT(),MT())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Lm=!1;if(Vr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Lm=!1}function HA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ja=!1,hd=null,fd=!1,Mm=null,WA={onError:function(t){Ja=!0,hd=t}};function GA(t,e,n,r,i,s,o,a,l){Ja=!1,hd=null,HA.apply(WA,arguments)}function qA(t,e,n,r,i,s,o,a,l){if(GA.apply(this,arguments),Ja){if(Ja){var u=hd;Ja=!1,hd=null}else throw Error(q(198));fd||(fd=!0,Mm=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r1(t){if(Ms(t)!==t)throw Error(q(188))}function KA(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r1(i),t;if(s===r)return r1(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function BT(t){return t=KA(t),t!==null?$T(t):null}function $T(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$T(t);if(e!==null)return e;t=t.sibling}return null}var zT=Tn.unstable_scheduleCallback,i1=Tn.unstable_cancelCallback,QA=Tn.unstable_shouldYield,YA=Tn.unstable_requestPaint,st=Tn.unstable_now,ZA=Tn.unstable_getCurrentPriorityLevel,Sv=Tn.unstable_ImmediatePriority,HT=Tn.unstable_UserBlockingPriority,pd=Tn.unstable_NormalPriority,XA=Tn.unstable_LowPriority,WT=Tn.unstable_IdlePriority,Vh=null,ar=null;function JA(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:nk,ek=Math.log,tk=Math.LN2;function nk(t){return t>>>=0,t===0?32:31-(ek(t)/tk|0)|0}var cc=64,dc=4194304;function Ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ua(a):(s&=o,s!==0&&(r=Ua(s)))}else o=n&~i,o!==0?r=Ua(o):s!==0&&(r=Ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GT(){var t=cc;return cc<<=1,!(cc&4194240)&&(cc=64),t}function yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function sk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function xv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function qT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KT,Cv,QT,YT,ZT,Fm=!1,hc=[],yi=null,_i=null,wi=null,bl=new Map,El=new Map,si=[],ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s1(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function Ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&Cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ak(t,e,n,r,i){switch(e){case"focusin":return yi=Ia(yi,t,e,n,r,i),!0;case"dragenter":return _i=Ia(_i,t,e,n,r,i),!0;case"mouseover":return wi=Ia(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bl.set(s,Ia(bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,El.set(s,Ia(El.get(s)||null,t,e,n,r,i)),!0}return!1}function XT(t){var e=cs(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=UT(n),e!==null){t.blockedOn=e,ZT(t.priority,function(){QT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Om=r,n.target.dispatchEvent(r),Om=null}else return e=wu(n),e!==null&&Cv(e),t.blockedOn=n,!1;e.shift()}return!0}function o1(t,e,n){Uc(t)&&n.delete(e)}function lk(){Fm=!1,yi!==null&&Uc(yi)&&(yi=null),_i!==null&&Uc(_i)&&(_i=null),wi!==null&&Uc(wi)&&(wi=null),bl.forEach(o1),El.forEach(o1)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,Fm||(Fm=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,lk)))}function Tl(t){function e(i){return Sa(i,t)}if(0<hc.length){Sa(hc[0],t);for(var n=1;n<hc.length;n++){var r=hc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Sa(yi,t),_i!==null&&Sa(_i,t),wi!==null&&Sa(wi,t),bl.forEach(e),El.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&si.shift()}var go=qr.ReactCurrentBatchConfig,gd=!0;function uk(t,e,n,r){var i=Fe,s=go.transition;go.transition=null;try{Fe=1,Rv(t,e,n,r)}finally{Fe=i,go.transition=s}}function ck(t,e,n,r){var i=Fe,s=go.transition;go.transition=null;try{Fe=4,Rv(t,e,n,r)}finally{Fe=i,go.transition=s}}function Rv(t,e,n,r){if(gd){var i=jm(t,e,n,r);if(i===null)Rp(t,e,r,vd,n),s1(t,r);else if(ak(i,t,e,n,r))r.stopPropagation();else if(s1(t,r),e&4&&-1<ok.indexOf(t)){for(;i!==null;){var s=wu(i);if(s!==null&&KT(s),s=jm(t,e,n,r),s===null&&Rp(t,e,r,vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rp(t,e,r,null,n)}}var vd=null;function jm(t,e,n,r){if(vd=null,t=Iv(r),t=cs(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZA()){case Sv:return 1;case HT:return 4;case pd:case XA:return 16;case WT:return 536870912;default:return 16}default:return 16}}var fi=null,Pv=null,Bc=null;function eI(){if(Bc)return Bc;var t,e=Pv,n=e.length,r,i="value"in fi?fi.value:fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bc=i.slice(t,1<r?1-r:void 0)}function $c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function a1(){return!1}function Sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fc:a1,this.isPropagationStopped=a1,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=Sn(Yo),_u=Je({},Yo,{view:0,detail:0}),dk=Sn(_u),_p,wp,xa,Fh=Je({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(_p=t.screenX-xa.screenX,wp=t.screenY-xa.screenY):wp=_p=0,xa=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),l1=Sn(Fh),hk=Je({},Fh,{dataTransfer:0}),fk=Sn(hk),pk=Je({},_u,{relatedTarget:0}),bp=Sn(pk),mk=Je({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),gk=Sn(mk),vk=Je({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yk=Sn(vk),_k=Je({},Yo,{data:0}),u1=Sn(_k),wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ek[t])?!!e[t]:!1}function kv(){return Tk}var Ik=Je({},_u,{key:function(t){if(t.key){var e=wk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kv,charCode:function(t){return t.type==="keypress"?$c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sk=Sn(Ik),xk=Je({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c1=Sn(xk),Ck=Je({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kv}),Rk=Sn(Ck),Pk=Je({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=Sn(Pk),kk=Je({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nk=Sn(kk),Ok=[9,13,27,32],Nv=Vr&&"CompositionEvent"in window,el=null;Vr&&"documentMode"in document&&(el=document.documentMode);var Dk=Vr&&"TextEvent"in window&&!el,tI=Vr&&(!Nv||el&&8<el&&11>=el),d1=" ",h1=!1;function nI(t,e){switch(t){case"keyup":return Ok.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function Lk(t,e){switch(t){case"compositionend":return rI(e);case"keypress":return e.which!==32?null:(h1=!0,d1);case"textInput":return t=e.data,t===d1&&h1?null:t;default:return null}}function Mk(t,e){if(eo)return t==="compositionend"||!Nv&&nI(t,e)?(t=eI(),Bc=Pv=fi=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tI&&e.locale!=="ko"?null:e.data;default:return null}}var Vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vk[t.type]:e==="textarea"}function iI(t,e,n,r){LT(r),e=yd(e,"onChange"),0<e.length&&(n=new Av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tl=null,Il=null;function Fk(t){mI(t,0)}function jh(t){var e=ro(t);if(RT(e))return t}function jk(t,e){if(t==="change")return e}var sI=!1;if(Vr){var Ep;if(Vr){var Tp="oninput"in document;if(!Tp){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),Tp=typeof p1.oninput=="function"}Ep=Tp}else Ep=!1;sI=Ep&&(!document.documentMode||9<document.documentMode)}function m1(){tl&&(tl.detachEvent("onpropertychange",oI),Il=tl=null)}function oI(t){if(t.propertyName==="value"&&jh(Il)){var e=[];iI(e,Il,t,Iv(t)),jT(Fk,e)}}function Uk(t,e,n){t==="focusin"?(m1(),tl=e,Il=n,tl.attachEvent("onpropertychange",oI)):t==="focusout"&&m1()}function Bk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jh(Il)}function $k(t,e){if(t==="click")return jh(e)}function zk(t,e){if(t==="input"||t==="change")return jh(e)}function Hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:Hk;function Sl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bm.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function g1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v1(t,e){var n=g1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g1(n)}}function aI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lI(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function Ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wk(t){var e=lI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aI(n.ownerDocument.documentElement,n)){if(r!==null&&Ov(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v1(n,s);var o=v1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gk=Vr&&"documentMode"in document&&11>=document.documentMode,to=null,Um=null,nl=null,Bm=!1;function y1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||to==null||to!==dd(r)||(r=to,"selectionStart"in r&&Ov(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nl&&Sl(nl,r)||(nl=r,r=yd(Um,"onSelect"),0<r.length&&(e=new Av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},Ip={},uI={};Vr&&(uI=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Uh(t){if(Ip[t])return Ip[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uI)return Ip[t]=e[n];return t}var cI=Uh("animationend"),dI=Uh("animationiteration"),hI=Uh("animationstart"),fI=Uh("transitionend"),pI=new Map,_1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){pI.set(t,e),Ls(e,[t])}for(var Sp=0;Sp<_1.length;Sp++){var xp=_1[Sp],qk=xp.toLowerCase(),Kk=xp[0].toUpperCase()+xp.slice(1);Wi(qk,"on"+Kk)}Wi(cI,"onAnimationEnd");Wi(dI,"onAnimationIteration");Wi(hI,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(fI,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function w1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qA(r,e,void 0,t),t.currentTarget=null}function mI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;w1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;w1(i,a,u),s=l}}}if(fd)throw t=Mm,fd=!1,Mm=null,t}function We(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(gI(e,t,2,!1),n.add(r))}function Cp(t,e,n){var r=0;e&&(r|=4),gI(n,t,r,e)}var mc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[mc]){t[mc]=!0,TT.forEach(function(n){n!=="selectionchange"&&(Qk.has(n)||Cp(n,!1,t),Cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mc]||(e[mc]=!0,Cp("selectionchange",!1,e))}}function gI(t,e,n,r){switch(JT(e)){case 1:var i=uk;break;case 4:i=ck;break;default:i=Rv}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jT(function(){var u=s,d=Iv(n),h=[];e:{var f=pI.get(t);if(f!==void 0){var m=Av,v=t;switch(t){case"keypress":if($c(n)===0)break e;case"keydown":case"keyup":m=Sk;break;case"focusin":v="focus",m=bp;break;case"focusout":v="blur",m=bp;break;case"beforeblur":case"afterblur":m=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=l1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rk;break;case cI:case dI:case hI:m=gk;break;case fI:m=Ak;break;case"scroll":m=dk;break;case"wheel":m=Nk;break;case"copy":case"cut":case"paste":m=yk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=c1}var T=(e&4)!==0,w=!T&&t==="scroll",y=T?f!==null?f+"Capture":null:f;T=[];for(var b=u,x;b!==null;){x=b;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,y!==null&&(A=wl(b,y),A!=null&&T.push(Cl(b,A,x)))),w)break;b=b.return}0<T.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Om&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Fr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?cs(v):null,v!==null&&(w=Ms(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(T=l1,A="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(T=c1,A="onPointerLeave",y="onPointerEnter",b="pointer"),w=m==null?f:ro(m),x=v==null?f:ro(v),f=new T(A,b+"leave",m,n,d),f.target=w,f.relatedTarget=x,A=null,cs(d)===u&&(T=new T(y,b+"enter",v,n,d),T.target=x,T.relatedTarget=w,A=T),w=A,m&&v)t:{for(T=m,y=v,b=0,x=T;x;x=Gs(x))b++;for(x=0,A=y;A;A=Gs(A))x++;for(;0<b-x;)T=Gs(T),b--;for(;0<x-b;)y=Gs(y),x--;for(;b--;){if(T===y||y!==null&&T===y.alternate)break t;T=Gs(T),y=Gs(y)}T=null}else T=null;m!==null&&b1(h,f,m,T,!1),v!==null&&w!==null&&b1(h,w,v,T,!0)}}e:{if(f=u?ro(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var L=jk;else if(f1(f))if(sI)L=zk;else{L=Bk;var D=Uk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=$k);if(L&&(L=L(t,u))){iI(h,L,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(D=u?ro(u):window,t){case"focusin":(f1(D)||D.contentEditable==="true")&&(to=D,Um=u,nl=null);break;case"focusout":nl=Um=to=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,y1(h,n,d);break;case"selectionchange":if(Gk)break;case"keydown":case"keyup":y1(h,n,d)}var I;if(Nv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else eo?nI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(tI&&n.locale!=="ko"&&(eo||_!=="onCompositionStart"?_==="onCompositionEnd"&&eo&&(I=eI()):(fi=d,Pv="value"in fi?fi.value:fi.textContent,eo=!0)),D=yd(u,_),0<D.length&&(_=new u1(_,t,null,n,d),h.push({event:_,listeners:D}),I?_.data=I:(I=rI(n),I!==null&&(_.data=I)))),(I=Dk?Lk(t,n):Mk(t,n))&&(u=yd(u,"onBeforeInput"),0<u.length&&(d=new u1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}mI(h,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(t,n),s!=null&&r.unshift(Cl(t,s,i)),s=wl(t,e),s!=null&&r.push(Cl(t,s,i))),t=t.return}return r}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=wl(n,s),l!=null&&o.unshift(Cl(n,l,a))):i||(l=wl(n,s),l!=null&&o.push(Cl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Yk=/\r\n?/g,Zk=/\u0000|\uFFFD/g;function E1(t){return(typeof t=="string"?t:""+t).replace(Yk,`
`).replace(Zk,"")}function gc(t,e,n){if(e=E1(e),E1(t)!==e&&n)throw Error(q(425))}function _d(){}var $m=null,zm=null;function Hm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,Xk=typeof clearTimeout=="function"?clearTimeout:void 0,T1=typeof Promise=="function"?Promise:void 0,Jk=typeof queueMicrotask=="function"?queueMicrotask:typeof T1<"u"?function(t){return T1.resolve(null).then(t).catch(eN)}:Wm;function eN(t){setTimeout(function(){throw t})}function Pp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tl(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),sr="__reactFiber$"+Zo,Rl="__reactProps$"+Zo,Fr="__reactContainer$"+Zo,Gm="__reactEvents$"+Zo,tN="__reactListeners$"+Zo,nN="__reactHandles$"+Zo;function cs(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[sr])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bh(t){return t[Rl]||null}var qm=[],io=-1;function Gi(t){return{current:t}}function qe(t){0>io||(t.current=qm[io],qm[io]=null,io--)}function ze(t,e){io++,qm[io]=t.current,t.current=e}var Di={},Gt=Gi(Di),ln=Gi(!1),_s=Di;function Ro(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function wd(){qe(ln),qe(Gt)}function S1(t,e,n){if(Gt.current!==Di)throw Error(q(168));ze(Gt,e),ze(ln,n)}function vI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,UA(t)||"Unknown",i));return Je({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,_s=Gt.current,ze(Gt,t),ze(ln,ln.current),!0}function x1(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=vI(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,qe(ln),qe(Gt),ze(Gt,t)):qe(ln),ze(ln,n)}var xr=null,$h=!1,Ap=!1;function yI(t){xr===null?xr=[t]:xr.push(t)}function rN(t){$h=!0,yI(t)}function qi(){if(!Ap&&xr!==null){Ap=!0;var t=0,e=Fe;try{var n=xr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,$h=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),zT(Sv,qi),i}finally{Fe=e,Ap=!1}}return null}var so=[],oo=0,Ed=null,Td=0,Rn=[],Pn=0,ws=null,Rr=1,Pr="";function is(t,e){so[oo++]=Td,so[oo++]=Ed,Ed=t,Td=e}function _I(t,e,n){Rn[Pn++]=Rr,Rn[Pn++]=Pr,Rn[Pn++]=ws,ws=t;var r=Rr;t=Pr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Gn(e)+i|n<<i|r,Pr=s+t}else Rr=1<<s|n<<i|r,Pr=t}function Dv(t){t.return!==null&&(is(t,1),_I(t,1,0))}function Lv(t){for(;t===Ed;)Ed=so[--oo],so[oo]=null,Td=so[--oo],so[oo]=null;for(;t===ws;)ws=Rn[--Pn],Rn[Pn]=null,Pr=Rn[--Pn],Rn[Pn]=null,Rr=Rn[--Pn],Rn[Pn]=null}var _n=null,gn=null,Ke=!1,$n=null;function wI(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,gn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:Rr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,gn=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(Ke){var e=gn;if(e){var n=e;if(!C1(t,e)){if(Km(t))throw Error(q(418));e=bi(n.nextSibling);var r=_n;e&&C1(t,e)?wI(r,n):(t.flags=t.flags&-4097|2,Ke=!1,_n=t)}}else{if(Km(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ke=!1,_n=t}}}function R1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function vc(t){if(t!==_n)return!1;if(!Ke)return R1(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hm(t.type,t.memoizedProps)),e&&(e=gn)){if(Km(t))throw bI(),Error(q(418));for(;e;)wI(t,e),e=bi(e.nextSibling)}if(R1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=_n?bi(t.stateNode.nextSibling):null;return!0}function bI(){for(var t=gn;t;)t=bi(t.nextSibling)}function Po(){gn=_n=null,Ke=!1}function Mv(t){$n===null?$n=[t]:$n.push(t)}var iN=qr.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function yc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P1(t){var e=t._init;return e(t._payload)}function EI(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Si(y,b),y.index=0,y.sibling=null,y}function s(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,x,A){return b===null||b.tag!==6?(b=Vp(x,y.mode,A),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,A){var L=x.type;return L===Js?d(y,b,x.props.children,A,x.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ri&&P1(L)===b.type)?(A=i(b,x.props),A.ref=Ca(y,b,x),A.return=y,A):(A=Qc(x.type,x.key,x.props,null,y.mode,A),A.ref=Ca(y,b,x),A.return=y,A)}function u(y,b,x,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Fp(x,y.mode,A),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function d(y,b,x,A,L){return b===null||b.tag!==7?(b=ms(x,y.mode,A,L),b.return=y,b):(b=i(b,x),b.return=y,b)}function h(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Vp(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ac:return x=Qc(b.type,b.key,b.props,null,y.mode,x),x.ref=Ca(y,null,b),x.return=y,x;case Xs:return b=Fp(b,y.mode,x),b.return=y,b;case ri:var A=b._init;return h(y,A(b._payload),x)}if(ja(b)||Ea(b))return b=ms(b,y.mode,x,null),b.return=y,b;yc(y,b)}return null}function f(y,b,x,A){var L=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return L!==null?null:a(y,b,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ac:return x.key===L?l(y,b,x,A):null;case Xs:return x.key===L?u(y,b,x,A):null;case ri:return L=x._init,f(y,b,L(x._payload),A)}if(ja(x)||Ea(x))return L!==null?null:d(y,b,x,A,null);yc(y,x)}return null}function m(y,b,x,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(x)||null,a(b,y,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ac:return y=y.get(A.key===null?x:A.key)||null,l(b,y,A,L);case Xs:return y=y.get(A.key===null?x:A.key)||null,u(b,y,A,L);case ri:var D=A._init;return m(y,b,x,D(A._payload),L)}if(ja(A)||Ea(A))return y=y.get(x)||null,d(b,y,A,L,null);yc(b,A)}return null}function v(y,b,x,A){for(var L=null,D=null,I=b,_=b=0,R=null;I!==null&&_<x.length;_++){I.index>_?(R=I,I=null):R=I.sibling;var P=f(y,I,x[_],A);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(y,I),b=s(P,b,_),D===null?L=P:D.sibling=P,D=P,I=R}if(_===x.length)return n(y,I),Ke&&is(y,_),L;if(I===null){for(;_<x.length;_++)I=h(y,x[_],A),I!==null&&(b=s(I,b,_),D===null?L=I:D.sibling=I,D=I);return Ke&&is(y,_),L}for(I=r(y,I);_<x.length;_++)R=m(I,y,_,x[_],A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?_:R.key),b=s(R,b,_),D===null?L=R:D.sibling=R,D=R);return t&&I.forEach(function(k){return e(y,k)}),Ke&&is(y,_),L}function T(y,b,x,A){var L=Ea(x);if(typeof L!="function")throw Error(q(150));if(x=L.call(x),x==null)throw Error(q(151));for(var D=L=null,I=b,_=b=0,R=null,P=x.next();I!==null&&!P.done;_++,P=x.next()){I.index>_?(R=I,I=null):R=I.sibling;var k=f(y,I,P.value,A);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(y,I),b=s(k,b,_),D===null?L=k:D.sibling=k,D=k,I=R}if(P.done)return n(y,I),Ke&&is(y,_),L;if(I===null){for(;!P.done;_++,P=x.next())P=h(y,P.value,A),P!==null&&(b=s(P,b,_),D===null?L=P:D.sibling=P,D=P);return Ke&&is(y,_),L}for(I=r(y,I);!P.done;_++,P=x.next())P=m(I,y,_,P.value,A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?_:P.key),b=s(P,b,_),D===null?L=P:D.sibling=P,D=P);return t&&I.forEach(function(O){return e(y,O)}),Ke&&is(y,_),L}function w(y,b,x,A){if(typeof x=="object"&&x!==null&&x.type===Js&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ac:e:{for(var L=x.key,D=b;D!==null;){if(D.key===L){if(L=x.type,L===Js){if(D.tag===7){n(y,D.sibling),b=i(D,x.props.children),b.return=y,y=b;break e}}else if(D.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ri&&P1(L)===D.type){n(y,D.sibling),b=i(D,x.props),b.ref=Ca(y,D,x),b.return=y,y=b;break e}n(y,D);break}else e(y,D);D=D.sibling}x.type===Js?(b=ms(x.props.children,y.mode,A,x.key),b.return=y,y=b):(A=Qc(x.type,x.key,x.props,null,y.mode,A),A.ref=Ca(y,b,x),A.return=y,y=A)}return o(y);case Xs:e:{for(D=x.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Fp(x,y.mode,A),b.return=y,y=b}return o(y);case ri:return D=x._init,w(y,b,D(x._payload),A)}if(ja(x))return v(y,b,x,A);if(Ea(x))return T(y,b,x,A);yc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,x),b.return=y,y=b):(n(y,b),b=Vp(x,y.mode,A),b.return=y,y=b),o(y)):n(y,b)}return w}var Ao=EI(!0),TI=EI(!1),Id=Gi(null),Sd=null,ao=null,Vv=null;function Fv(){Vv=ao=Sd=null}function jv(t){var e=Id.current;qe(Id),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){Sd=t,Vv=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Vv!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(Sd===null)throw Error(q(308));ao=t,Sd.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var ds=null;function Uv(t){ds===null?ds=[t]:ds.push(t)}function II(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Uv(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function Bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,Uv(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xv(t,n)}}function A1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xd(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(f=e,m=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Je({},h,f);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=h}}function k1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var bu={},lr=Gi(bu),Pl=Gi(bu),Al=Gi(bu);function hs(t){if(t===bu)throw Error(q(174));return t}function $v(t,e){switch(ze(Al,e),ze(Pl,t),ze(lr,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Am(e,t)}qe(lr),ze(lr,e)}function ko(){qe(lr),qe(Pl),qe(Al)}function xI(t){hs(Al.current);var e=hs(lr.current),n=Am(e,t.type);e!==n&&(ze(Pl,t),ze(lr,n))}function zv(t){Pl.current===t&&(qe(lr),qe(Pl))}var Ze=Gi(0);function Cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kp=[];function Hv(){for(var t=0;t<kp.length;t++)kp[t]._workInProgressVersionPrimary=null;kp.length=0}var Hc=qr.ReactCurrentDispatcher,Np=qr.ReactCurrentBatchConfig,bs=0,Xe=null,pt=null,yt=null,Rd=!1,rl=!1,kl=0,sN=0;function Vt(){throw Error(q(321))}function Wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function Gv(t,e,n,r,i,s){if(bs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?uN:cN,t=n(r,i),rl){s=0;do{if(rl=!1,kl=0,25<=s)throw Error(q(301));s+=1,yt=pt=null,e.updateQueue=null,Hc.current=dN,t=n(r,i)}while(rl)}if(Hc.current=Pd,e=pt!==null&&pt.next!==null,bs=0,yt=pt=Xe=null,Rd=!1,e)throw Error(q(300));return t}function qv(){var t=kl!==0;return kl=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=t:yt=yt.next=t,yt}function Ln(){if(pt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=yt===null?Xe.memoizedState:yt.next;if(e!==null)yt=e,pt=t;else{if(t===null)throw Error(q(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Xe.memoizedState=yt=t:yt=yt.next=t}return yt}function Nl(t,e){return typeof e=="function"?e(t):e}function Op(t){var e=Ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((bs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,Es|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CI(){}function RI(t,e){var n=Xe,r=Ln(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,Kv(kI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Ol(9,AI.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(q(349));bs&30||PI(n,e,i)}return i}function PI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AI(t,e,n,r){e.value=n,e.getSnapshot=r,NI(e)&&OI(t)}function kI(t,e,n){return n(function(){NI(e)&&OI(t)})}function NI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function OI(t){var e=jr(t,1);e!==null&&qn(e,t,1,-1)}function N1(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,Xe,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DI(){return Ln().memoizedState}function Wc(t,e,n,r){var i=nr();Xe.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function zh(t,e,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Wv(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function O1(t,e){return Wc(8390656,8,t,e)}function Kv(t,e){return zh(2048,8,t,e)}function LI(t,e){return zh(4,2,t,e)}function MI(t,e){return zh(4,4,t,e)}function VI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FI(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,VI.bind(null,e,t),n)}function Qv(){}function jI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BI(t,e,n){return bs&21?(Yn(n,e)||(n=GT(),Xe.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function oN(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Np.transition;Np.transition={};try{t(!1),e()}finally{Fe=n,Np.transition=r}}function $I(){return Ln().memoizedState}function aN(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zI(t))HI(e,n);else if(n=II(t,e,n,r),n!==null){var i=en();qn(n,t,r,i),WI(n,e,r)}}function lN(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zI(t))HI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,Uv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=II(t,e,i,r),n!==null&&(i=en(),qn(n,t,r,i),WI(n,e,r))}}function zI(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function HI(t,e){rl=Rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xv(t,n)}}var Pd={readContext:Dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},uN={readContext:Dn,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:O1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4194308,4,VI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wc(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aN.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:Qv,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=oN.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=nr();if(Ke){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),wt===null)throw Error(q(349));bs&30||PI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,O1(kI.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,AI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nr(),e=wt.identifierPrefix;if(Ke){var n=Pr,r=Rr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cN={readContext:Dn,useCallback:jI,useContext:Dn,useEffect:Kv,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:MI,useMemo:UI,useReducer:Op,useRef:DI,useState:function(){return Op(Nl)},useDebugValue:Qv,useDeferredValue:function(t){var e=Ln();return BI(e,pt.memoizedState,t)},useTransition:function(){var t=Op(Nl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:CI,useSyncExternalStore:RI,useId:$I,unstable_isNewReconciler:!1},dN={readContext:Dn,useCallback:jI,useContext:Dn,useEffect:Kv,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:MI,useMemo:UI,useReducer:Dp,useRef:DI,useState:function(){return Dp(Nl)},useDebugValue:Qv,useDeferredValue:function(t){var e=Ln();return pt===null?e.memoizedState=t:BI(e,pt.memoizedState,t)},useTransition:function(){var t=Dp(Nl)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:CI,useSyncExternalStore:RI,useId:$I,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hh={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ii(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(qn(e,t,i,r),zc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ii(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(qn(e,t,i,r),zc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Ii(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(qn(e,t,r,n),zc(e,t,r))}};function D1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sl(n,r)||!Sl(i,s):!0}function GI(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=un(e)?_s:Gt.current,r=e.contextTypes,s=(r=r!=null)?Ro(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hh.enqueueReplaceState(e,e.state,null)}function Xm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=un(e)?_s:Gt.current,i.context=Ro(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hh.enqueueReplaceState(i,i.state,null),xd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e){try{var n="",r=e;do n+=jA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hN=typeof WeakMap=="function"?WeakMap:Map;function qI(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kd||(kd=!0,ug=r),Jm(t,e)},n}function KI(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jm(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xN.bind(null,t,e,n),e.then(t,t))}function V1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var fN=qr.ReactCurrentOwner,an=!1;function Jt(t,e,n,r){e.child=t===null?TI(e,null,n,r):Ao(e,t.child,n,r)}function j1(t,e,n,r,i){n=n.render;var s=e.ref;return vo(e,i),r=Gv(t,e,n,r,s,i),n=qv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ke&&n&&Dv(e),e.flags|=1,Jt(t,e,r,i),e.child)}function U1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ry(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QI(t,e,s,r,i)):(t=Qc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function QI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sl(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return eg(t,e,n,r,i)}function YI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(uo,mn),mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(uo,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(uo,mn),mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(uo,mn),mn|=r;return Jt(t,e,i,n),e.child}function ZI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,i){var s=un(n)?_s:Gt.current;return s=Ro(e,s),vo(e,i),n=Gv(t,e,n,r,s,i),r=qv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ke&&r&&Dv(e),e.flags|=1,Jt(t,e,n,i),e.child)}function B1(t,e,n,r,i){if(un(n)){var s=!0;bd(e)}else s=!1;if(vo(e,i),e.stateNode===null)Gc(t,e),GI(e,n,r),Xm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=un(n)?_s:Gt.current,u=Ro(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&L1(e,o,r,u),ii=!1;var f=e.memoizedState;o.state=f,xd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||ln.current||ii?(typeof d=="function"&&(Zm(e,n,d,r),l=e.memoizedState),(a=ii||D1(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Un(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=un(n)?_s:Gt.current,l=Ro(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&L1(e,o,r,l),ii=!1,f=e.memoizedState,o.state=f,xd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||ln.current||ii?(typeof m=="function"&&(Zm(e,n,m,r),v=e.memoizedState),(u=ii||D1(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,s,i)}function tg(t,e,n,r,i,s){ZI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&x1(e,n,!1),Ur(t,e,s);r=e.stateNode,fN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&x1(e,n,!0),e.child}function XI(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),$v(t,e.containerInfo)}function $1(t,e,n,r,i){return Po(),Mv(i),e.flags|=256,Jt(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function JI(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ze,i&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qh(o,r,0,null),t=ms(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rg(n),e.memoizedState=ng,t):Yv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=ms(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yv(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&Mv(r),Ao(e,t.child,null,n),t=Yv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(q(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qh({mode:"visible",children:r.children},i,0,null),s=ms(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=rg(o),e.memoizedState=ng,s);if(!(e.mode&1))return _c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Lp(s,r,void 0),_c(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),qn(r,t,i,-1))}return ny(),r=Lp(Error(q(421))),_c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gn=bi(i.nextSibling),_n=e,Ke=!0,$n=null,t!==null&&(Rn[Pn++]=Rr,Rn[Pn++]=Pr,Rn[Pn++]=ws,Rr=t.id,Pr=t.overflow,ws=e),e=Yv(e,r.children),e.flags|=4096,e)}function z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function Mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z1(t,n,e);else if(t.tag===19)z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Cd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mp(e,!0,n,null,s);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mN(t,e,n){switch(e.tag){case 3:XI(e),Po();break;case 5:xI(e);break;case 1:un(e.type)&&bd(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?JI(t,e,n):(ze(Ze,Ze.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,YI(t,e,n)}return Ur(t,e,n)}var tS,ig,nS,rS;tS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};nS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(lr.current);var s=null;switch(n){case"input":i=xm(t,i),r=xm(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Pm(t,i),r=Pm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_d)}km(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gN(t,e,n){var r=e.pendingProps;switch(Lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return un(e.type)&&wd(),Ft(e),null;case 3:return r=e.stateNode,ko(),qe(ln),qe(Gt),Hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(hg($n),$n=null))),ig(t,e),Ft(e),null;case 5:zv(e);var i=hs(Al.current);if(n=e.type,t!==null&&e.stateNode!=null)nS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ft(e),null}if(t=hs(lr.current),vc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[Rl]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Ba.length;i++)We(Ba[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":X_(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":e1(r,s),We("invalid",r)}km(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,a,t),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":lc(r),J_(r,s,!0);break;case"textarea":lc(r),t1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_d)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Rl]=r,tS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nm(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ba.length;i++)We(Ba[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":X_(t,r),i=xm(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),We("invalid",t);break;case"textarea":e1(t,r),i=Pm(t,r),We("invalid",t);break;default:i=r}km(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_l(t,l):typeof l=="number"&&_l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&wv(t,s,l,o))}switch(n){case"input":lc(t),J_(t,r,!1);break;case"textarea":lc(t),t1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)rS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=hs(Al.current),hs(lr.current),vc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:gc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Ft(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&gn!==null&&e.mode&1&&!(e.flags&128))bI(),Po(),e.flags|=98560,s=!1;else if(s=vc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[sr]=e}else Po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else $n!==null&&(hg($n),$n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?mt===0&&(mt=3):ny())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ko(),ig(t,e),t===null&&xl(e.stateNode.containerInfo),Ft(e),null;case 10:return jv(e.type._context),Ft(e),null;case 17:return un(e.type)&&wd(),Ft(e),null;case 19:if(qe(Ze),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cd(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Oo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Ft(e),null}else 2*st()-s.renderingStartTime>Oo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return ty(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function vN(t,e){switch(Lv(e),e.tag){case 1:return un(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ko(),qe(ln),qe(Gt),Hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zv(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return ko(),null;case 10:return jv(e.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var wc=!1,$t=!1,yN=typeof WeakSet=="function"?WeakSet:Set,ne=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){nt(t,e,r)}}var H1=!1;function _N(t,e){if($m=gd,t=lI(),Ov(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zm={focusedElem:t,selectionRange:n},gd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,w=v.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:Un(e.type,T),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){nt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return v=H1,H1=!1,v}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sg(e,n,s)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iS(t){var e=t.alternate;e!==null&&(t.alternate=null,iS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Rl],delete e[Gm],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sS(t){return t.tag===5||t.tag===3||t.tag===4}function W1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_d));else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var St=null,Bn=!1;function ti(t,e,n){for(n=n.child;n!==null;)oS(t,e,n),n=n.sibling}function oS(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:$t||lo(n,e);case 6:var r=St,i=Bn;St=null,ti(t,e,n),St=r,Bn=i,St!==null&&(Bn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Bn?(t=St,n=n.stateNode,t.nodeType===8?Pp(t.parentNode,n):t.nodeType===1&&Pp(t,n),Tl(t)):Pp(St,n.stateNode));break;case 4:r=St,i=Bn,St=n.stateNode.containerInfo,Bn=!0,ti(t,e,n),St=r,Bn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sg(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!$t&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ti(t,e,n),$t=r):ti(t,e,n);break;default:ti(t,e,n)}}function G1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yN),e.forEach(function(r){var i=RN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Bn=!1;break e;case 3:St=a.stateNode.containerInfo,Bn=!0;break e;case 4:St=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(St===null)throw Error(q(160));oS(s,o,i),St=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aS(e,t),e=e.sibling}function aS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),tr(t),r&4){try{il(3,t,t.return),Wh(3,t)}catch(T){nt(t,t.return,T)}try{il(5,t,t.return)}catch(T){nt(t,t.return,T)}}break;case 1:jn(e,t),tr(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(jn(e,t),tr(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(T){nt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PT(i,s),Nm(a,o);var u=Nm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?DT(i,h):d==="dangerouslySetInnerHTML"?NT(i,h):d==="children"?_l(i,h):wv(i,d,h,u)}switch(a){case"input":Cm(i,s);break;case"textarea":AT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?fo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rl]=s}catch(T){nt(t,t.return,T)}}break;case 6:if(jn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){nt(t,t.return,T)}}break;case 3:if(jn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tl(e.containerInfo)}catch(T){nt(t,t.return,T)}break;case 4:jn(e,t),tr(t);break;case 13:jn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jv=st())),r&4&&G1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||d,jn(e,t),$t=u):jn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:lo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){nt(r,n,T)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){K1(h);continue}}m!==null?(m.return=f,ne=m):K1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OT("display",o))}catch(T){nt(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){nt(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(e,t),tr(t),r&4&&G1(t);break;case 21:break;default:jn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=W1(t);lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W1(t);ag(t,a,o);break;default:throw Error(q(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wN(t,e,n){ne=t,lS(t)}function lS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=wc;var u=$t;if(wc=o,($t=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Q1(i):l!==null?(l.return=o,ne=l):Q1(i);for(;s!==null;)ne=s,lS(s),s=s.sibling;ne=i,wc=a,$t=u}q1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):q1(t)}}function q1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}$t||e.flags&512&&og(e)}catch(f){nt(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function K1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Q1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{og(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{og(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var bN=Math.ceil,Ad=qr.ReactCurrentDispatcher,Zv=qr.ReactCurrentOwner,Nn=qr.ReactCurrentBatchConfig,Ae=0,wt=null,ct=null,At=0,mn=0,uo=Gi(0),mt=0,Dl=null,Es=0,Gh=0,Xv=0,sl=null,sn=null,Jv=0,Oo=1/0,Sr=null,kd=!1,ug=null,Ti=null,bc=!1,pi=null,Nd=0,ol=0,cg=null,qc=-1,Kc=0;function en(){return Ae&6?st():qc!==-1?qc:qc=st()}function Ii(t){return t.mode&1?Ae&2&&At!==0?At&-At:iN.transition!==null?(Kc===0&&(Kc=GT()),Kc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function qn(t,e,n,r){if(50<ol)throw ol=0,cg=null,Error(q(185));yu(t,n,r),(!(Ae&2)||t!==wt)&&(t===wt&&(!(Ae&2)&&(Gh|=n),mt===4&&oi(t,At)),cn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Oo=st()+500,$h&&qi()))}function cn(t,e){var n=t.callbackNode;ik(t,e);var r=md(t,t===wt?At:0);if(r===0)n!==null&&i1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i1(n),e===1)t.tag===0?rN(Y1.bind(null,t)):yI(Y1.bind(null,t)),Jk(function(){!(Ae&6)&&qi()}),n=null;else{switch(qT(r)){case 1:n=Sv;break;case 4:n=HT;break;case 16:n=pd;break;case 536870912:n=WT;break;default:n=pd}n=gS(n,uS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uS(t,e){if(qc=-1,Kc=0,Ae&6)throw Error(q(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=md(t,t===wt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Od(t,r);else{e=r;var i=Ae;Ae|=2;var s=dS();(wt!==t||At!==e)&&(Sr=null,Oo=st()+500,ps(t,e));do try{IN();break}catch(a){cS(t,a)}while(!0);Fv(),Ad.current=s,Ae=i,ct!==null?e=0:(wt=null,At=0,e=mt)}if(e!==0){if(e===2&&(i=Vm(t),i!==0&&(r=i,e=dg(t,i))),e===1)throw n=Dl,ps(t,0),oi(t,r),cn(t,st()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!EN(i)&&(e=Od(t,r),e===2&&(s=Vm(t),s!==0&&(r=s,e=dg(t,s))),e===1))throw n=Dl,ps(t,0),oi(t,r),cn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ss(t,sn,Sr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Jv+500-st(),10<e)){if(md(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wm(ss.bind(null,t,sn,Sr),e);break}ss(t,sn,Sr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bN(r/1960))-r,10<r){t.timeoutHandle=Wm(ss.bind(null,t,sn,Sr),r);break}ss(t,sn,Sr);break;case 5:ss(t,sn,Sr);break;default:throw Error(q(329))}}}return cn(t,st()),t.callbackNode===n?uS.bind(null,t):null}function dg(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=Od(t,e),t!==2&&(e=sn,sn=n,e!==null&&hg(e)),t}function hg(t){sn===null?sn=t:sn.push.apply(sn,t)}function EN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Xv,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function Y1(t){if(Ae&6)throw Error(q(327));yo();var e=md(t,0);if(!(e&1))return cn(t,st()),null;var n=Od(t,e);if(t.tag!==0&&n===2){var r=Vm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Dl,ps(t,0),oi(t,e),cn(t,st()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,sn,Sr),cn(t,st()),null}function ey(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Oo=st()+500,$h&&qi())}}function Ts(t){pi!==null&&pi.tag===0&&!(Ae&6)&&yo();var e=Ae;Ae|=1;var n=Nn.transition,r=Fe;try{if(Nn.transition=null,Fe=1,t)return t()}finally{Fe=r,Nn.transition=n,Ae=e,!(Ae&6)&&qi()}}function ty(){mn=uo.current,qe(uo)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Xk(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:ko(),qe(ln),qe(Gt),Hv();break;case 5:zv(r);break;case 4:ko();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:jv(r.type._context);break;case 22:case 23:ty()}n=n.return}if(wt=t,ct=t=Si(t.current,null),At=mn=e,mt=0,Dl=null,Xv=Gh=Es=0,sn=sl=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ds=null}return t}function cS(t,e){do{var n=ct;try{if(Fv(),Hc.current=Pd,Rd){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rd=!1}if(bs=0,yt=pt=Xe=null,rl=!1,kl=0,Zv.current=null,n===null||n.return===null){mt=1,Dl=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=V1(o);if(m!==null){m.flags&=-257,F1(m,o,a,s,e),m.mode&1&&M1(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){M1(s,u,e),ny();break e}l=Error(q(426))}}else if(Ke&&a.mode&1){var w=V1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),F1(w,o,a,s,e),Mv(No(l,a));break e}}s=l=No(l,a),mt!==4&&(mt=2),sl===null?sl=[s]:sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=qI(s,l,e);A1(s,y);break e;case 1:a=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ti===null||!Ti.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=KI(s,a,e);A1(s,A);break e}}s=s.return}while(s!==null)}fS(n)}catch(L){e=L,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function dS(){var t=Ad.current;return Ad.current=Pd,t===null?Pd:t}function ny(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(Es&268435455)&&!(Gh&268435455)||oi(wt,At)}function Od(t,e){var n=Ae;Ae|=2;var r=dS();(wt!==t||At!==e)&&(Sr=null,ps(t,e));do try{TN();break}catch(i){cS(t,i)}while(!0);if(Fv(),Ae=n,Ad.current=r,ct!==null)throw Error(q(261));return wt=null,At=0,mt}function TN(){for(;ct!==null;)hS(ct)}function IN(){for(;ct!==null&&!QA();)hS(ct)}function hS(t){var e=mS(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?fS(t):ct=e,Zv.current=null}function fS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vN(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}else if(n=gN(n,e,mn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function ss(t,e,n){var r=Fe,i=Nn.transition;try{Nn.transition=null,Fe=1,SN(t,e,n,r)}finally{Nn.transition=i,Fe=r}return null}function SN(t,e,n,r){do yo();while(pi!==null);if(Ae&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sk(t,s),t===wt&&(ct=wt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bc||(bc=!0,gS(pd,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=Fe;Fe=1;var a=Ae;Ae|=4,Zv.current=null,_N(t,n),aS(n,t),Wk(zm),gd=!!$m,zm=$m=null,t.current=n,wN(n),YA(),Ae=a,Fe=o,Nn.transition=s}else t.current=n;if(bc&&(bc=!1,pi=t,Nd=i),s=t.pendingLanes,s===0&&(Ti=null),JA(n.stateNode),cn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kd)throw kd=!1,t=ug,ug=null,t;return Nd&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===cg?ol++:(ol=0,cg=t):ol=0,qi(),null}function yo(){if(pi!==null){var t=qT(Nd),e=Nn.transition,n=Fe;try{if(Nn.transition=null,Fe=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,Nd=0,Ae&6)throw Error(q(331));var i=Ae;for(Ae|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:il(8,d,s)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var f=d.sibling,m=d.return;if(iS(d),d===u){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ne=y;break e}ne=s.return}}var b=t.current;for(ne=b;ne!==null;){o=ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ne=x;else e:for(o=b;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(L){nt(a,a.return,L)}if(a===o){ne=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ne=A;break e}ne=a.return}}if(Ae=i,qi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Fe=n,Nn.transition=e}}return!1}function Z1(t,e,n){e=No(n,e),e=qI(t,e,1),t=Ei(t,e,1),e=en(),t!==null&&(yu(t,1,e),cn(t,e))}function nt(t,e,n){if(t.tag===3)Z1(t,t,n);else for(;e!==null;){if(e.tag===3){Z1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=No(n,t),t=KI(e,t,1),e=Ei(e,t,1),t=en(),e!==null&&(yu(e,1,t),cn(e,t));break}}e=e.return}}function xN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(At&n)===n&&(mt===4||mt===3&&(At&130023424)===At&&500>st()-Jv?ps(t,0):Xv|=n),cn(t,e)}function pS(t,e){e===0&&(t.mode&1?(e=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):e=1);var n=en();t=jr(t,e),t!==null&&(yu(t,e,n),cn(t,n))}function CN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pS(t,n)}function RN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),pS(t,n)}var mS;mS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,mN(t,e,n);an=!!(t.flags&131072)}else an=!1,Ke&&e.flags&1048576&&_I(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var i=Ro(e,Gt.current);vo(e,n),i=Gv(null,e,r,t,i,n);var s=qv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(s=!0,bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bv(e),i.updater=Hh,e.stateNode=i,i._reactInternals=e,Xm(e,r,t,n),e=tg(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&Dv(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AN(r),t=Un(r,t),i){case 0:e=eg(null,e,r,t,n);break e;case 1:e=B1(null,e,r,t,n);break e;case 11:e=j1(null,e,r,t,n);break e;case 14:e=U1(null,e,r,Un(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),B1(t,e,r,i,n);case 3:e:{if(XI(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SI(t,e),xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=No(Error(q(423)),e),e=$1(t,e,r,n,i);break e}else if(r!==i){i=No(Error(q(424)),e),e=$1(t,e,r,n,i);break e}else for(gn=bi(e.stateNode.containerInfo.firstChild),_n=e,Ke=!0,$n=null,n=TI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),r===i){e=Ur(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return xI(e),t===null&&Qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hm(r,i)?o=null:s!==null&&Hm(r,s)&&(e.flags|=32),ZI(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return JI(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),j1(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Id,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!ln.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ym(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vo(e,n),i=Dn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Un(r,e.pendingProps),i=Un(r.type,i),U1(t,e,r,i,n);case 15:return QI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Gc(t,e),e.tag=1,un(r)?(t=!0,bd(e)):t=!1,vo(e,n),GI(e,r,i),Xm(e,r,i,n),tg(null,e,r,!0,t,n);case 19:return eS(t,e,n);case 22:return YI(t,e,n)}throw Error(q(156,e.tag))};function gS(t,e){return zT(t,e)}function PN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new PN(t,e,n,r)}function ry(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AN(t){if(typeof t=="function")return ry(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ev)return 11;if(t===Tv)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ry(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Js:return ms(n.children,i,s,e);case bv:o=8,i|=8;break;case Em:return t=An(12,n,e,i|2),t.elementType=Em,t.lanes=s,t;case Tm:return t=An(13,n,e,i),t.elementType=Tm,t.lanes=s,t;case Im:return t=An(19,n,e,i),t.elementType=Im,t.lanes=s,t;case xT:return qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IT:o=10;break e;case ST:o=9;break e;case Ev:o=11;break e;case Tv:o=14;break e;case ri:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=An(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ms(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=An(22,t,r,e),t.elementType=xT,t.lanes=n,t.stateNode={isHidden:!1},t}function Vp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function Fp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iy(t,e,n,r,i,s,o,a,l){return t=new kN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(s),t}function NN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vS(t){if(!t)return Di;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(un(n))return vI(t,n,e)}return e}function yS(t,e,n,r,i,s,o,a,l){return t=iy(n,r,!0,t,i,s,o,a,l),t.context=vS(null),n=t.current,r=en(),i=Ii(n),s=Dr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,yu(t,i,r),cn(t,r),t}function Kh(t,e,n,r){var i=e.current,s=en(),o=Ii(i);return n=vS(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(qn(t,i,o,s),zc(t,i,o)),o}function Dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sy(t,e){X1(t,e),(t=t.alternate)&&X1(t,e)}function ON(){return null}var _S=typeof reportError=="function"?reportError:function(t){console.error(t)};function oy(t){this._internalRoot=t}Qh.prototype.render=oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Kh(t,e,null,null)};Qh.prototype.unmount=oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Kh(null,t,null,null)}),e[Fr]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=YT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&XT(t)}};function ay(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function DN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Dd(o);s.call(u)}}var o=yS(e,r,t,0,null,!1,!1,"",J1);return t._reactRootContainer=o,t[Fr]=o.current,xl(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dd(l);a.call(u)}}var l=iy(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=l,t[Fr]=l.current,xl(t.nodeType===8?t.parentNode:t),Ts(function(){Kh(e,l,n,r)}),l}function Zh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Dd(o);a.call(l)}}Kh(e,o,t,i)}else o=DN(n,e,t,i,r);return Dd(o)}KT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ua(e.pendingLanes);n!==0&&(xv(e,n|1),cn(e,st()),!(Ae&6)&&(Oo=st()+500,qi()))}break;case 13:Ts(function(){var r=jr(t,1);if(r!==null){var i=en();qn(r,t,1,i)}}),sy(t,1)}};Cv=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=en();qn(e,t,134217728,n)}sy(t,134217728)}};QT=function(t){if(t.tag===13){var e=Ii(t),n=jr(t,e);if(n!==null){var r=en();qn(n,t,e,r)}sy(t,e)}};YT=function(){return Fe};ZT=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Dm=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bh(r);if(!i)throw Error(q(90));RT(r),Cm(r,i)}}}break;case"textarea":AT(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};VT=ey;FT=Ts;var LN={usingClientEntryPoint:!1,Events:[wu,ro,Bh,LT,MT,ey]},Pa={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MN={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BT(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Vh=Ec.inject(MN),ar=Ec}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(e))throw Error(q(200));return NN(t,e,null,n)};In.createRoot=function(t,e){if(!ay(t))throw Error(q(299));var n=!1,r="",i=_S;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iy(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,xl(t.nodeType===8?t.parentNode:t),new oy(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=BT(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return Ts(t)};In.hydrate=function(t,e,n){if(!Yh(e))throw Error(q(200));return Zh(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!ay(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_S;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yS(e,null,t,1,n??null,i,!1,s,o),t[Fr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qh(e)};In.render=function(t,e,n){if(!Yh(e))throw Error(q(200));return Zh(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(q(40));return t._reactRootContainer?(Ts(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};In.unstable_batchedUpdates=ey;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Zh(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function wS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wS)}catch(t){console.error(t)}}wS(),wT.exports=In;var Eu=wT.exports;const bS=fv(Eu);var ES,ew=Eu;ES=ew.createRoot,ew.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const tw="popstate";function VN(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Vs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Ld(s))}function r(i,s){ly(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return jN(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ly(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substr(2,8)}function nw(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vs(e):e,{state:n,key:e&&e.key||r||FN()})}function Ld(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ll({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=mi.Pop;let w=d(),y=w==null?null:w-u;u=w,l&&l({action:a,location:T.location,delta:y})}function f(w,y){a=mi.Push;let b=fg(T.location,w,y);n&&n(b,w),u=d()+1;let x=nw(b,u),A=T.createHref(b);try{o.pushState(x,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}s&&l&&l({action:a,location:T.location,delta:1})}function m(w,y){a=mi.Replace;let b=fg(T.location,w,y);n&&n(b,w),u=d();let x=nw(b,u),A=T.createHref(b);o.replaceState(x,"",A),s&&l&&l({action:a,location:T.location,delta:0})}function v(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Ld(w);return b=b.replace(/ $/,"%20"),ot(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let T={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tw,h),l=w,()=>{i.removeEventListener(tw,h),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return o.go(w)}};return T}var rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rw||(rw={}));function UN(t,e,n){return n===void 0&&(n="/"),BN(t,e,n,!1)}function BN(t,e,n,r){let i=typeof e=="string"?Vs(e):e,s=uy(i.pathname||"/",n);if(s==null)return null;let o=TS(t);$N(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=JN(s);a=ZN(o[l],u,r)}return a}function TS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:QN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of IS(s.path))i(s,o,l)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=IS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zN=/^:[\w-]+$/,HN=3,WN=2,GN=1,qN=10,KN=-2,iw=t=>t==="*";function QN(t,e){let n=t.split("/"),r=n.length;return n.some(iw)&&(r+=KN),e&&(r+=WN),n.filter(i=>!iw(i)).reduce((i,s)=>i+(zN.test(s)?HN:s===""?GN:qN),r)}function YN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:xi([s,h.pathname]),pathnameBase:rO(xi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=xi([s,h.pathnameBase]))}return o}function sw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let T=a[h]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function XN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ly(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ly(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vs(t):t;return{pathname:n?n.startsWith("/")?n:tO(n,e):e,search:iO(r),hash:sO(i)}}function tO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cy(t,e){let n=nO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vs(t):(i=Ll({},t),ot(!i.pathname||!i.pathname.includes("?"),jp("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),jp("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),jp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=eO(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),rO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SS=["post","put","patch","delete"];new Set(SS);const aO=["get",...SS];new Set(aO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}const hy=N.createContext(null),lO=N.createContext(null),Ki=N.createContext(null),Xh=N.createContext(null),Qi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),xS=N.createContext(null);function uO(t,e){let{relative:n}=e===void 0?{}:e;Xo()||ot(!1);let{basename:r,navigator:i}=N.useContext(Ki),{hash:s,pathname:o,search:a}=RS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Xo(){return N.useContext(Xh)!=null}function Tu(){return Xo()||ot(!1),N.useContext(Xh).location}function CS(t){N.useContext(Ki).static||N.useLayoutEffect(t)}function Iu(){let{isDataRoute:t}=N.useContext(Qi);return t?EO():cO()}function cO(){Xo()||ot(!1);let t=N.useContext(hy),{basename:e,future:n,navigator:r}=N.useContext(Ki),{matches:i}=N.useContext(Qi),{pathname:s}=Tu(),o=JSON.stringify(cy(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return CS(()=>{a.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=dy(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function RS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Ki),{matches:i}=N.useContext(Qi),{pathname:s}=Tu(),o=JSON.stringify(cy(i,r.v7_relativeSplatPath));return N.useMemo(()=>dy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function dO(t,e){return hO(t,e)}function hO(t,e,n,r){Xo()||ot(!1);let{navigator:i}=N.useContext(Ki),{matches:s}=N.useContext(Qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Tu(),d;if(e){var h;let w=typeof e=="string"?Vs(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||ot(!1),d=w}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=UN(t,{pathname:m}),T=vO(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:xi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:xi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&T?N.createElement(Xh.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mi.Pop}},T):T}function fO(){let t=bO(),e=oO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const pO=N.createElement(fO,null);class mO extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Qi.Provider,{value:this.props.routeContext},N.createElement(xS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gO(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(hy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Qi.Provider,{value:e},r)}function vO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,T=null,w=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||pO,l&&(u<0&&f===0?(v=!0,w=null):u===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),b=()=>{let x;return m?x=T:v?x=w:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(gO,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(mO,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var PS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PS||{}),Md=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Md||{});function yO(t){let e=N.useContext(hy);return e||ot(!1),e}function _O(t){let e=N.useContext(lO);return e||ot(!1),e}function wO(t){let e=N.useContext(Qi);return e||ot(!1),e}function AS(t){let e=wO(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function bO(){var t;let e=N.useContext(xS),n=_O(Md.UseRouteError),r=AS(Md.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EO(){let{router:t}=yO(PS.UseNavigateStable),e=AS(Md.UseNavigateStable),n=N.useRef(!1);return CS(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ml({fromRouteId:e},s)))},[t,e])}function TO(t){let{to:e,replace:n,state:r,relative:i}=t;Xo()||ot(!1);let{future:s,static:o}=N.useContext(Ki),{matches:a}=N.useContext(Qi),{pathname:l}=Tu(),u=Iu(),d=dy(e,cy(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function os(t){ot(!1)}function IO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mi.Pop,navigator:s,static:o=!1,future:a}=t;Xo()&&ot(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Ml({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Vs(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,T=N.useMemo(()=>{let w=uy(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:v},navigationType:i}},[l,d,h,f,m,v,i]);return T==null?null:N.createElement(Ki.Provider,{value:u},N.createElement(Xh.Provider,{children:n,value:T}))}function SO(t){let{children:e,location:n}=t;return dO(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,pg(r.props.children,s));return}r.type!==os&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function xO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RO(t,e){return t.button===0&&(!e||e==="_self")&&!CO(t)}const PO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AO="6";try{window.__reactRouterVersion=AO}catch{}const kO="startTransition",ow=vl[kO];function NO(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=VN({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&ow?ow(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(IO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const OO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=xO(e,PO),{basename:m}=N.useContext(Ki),v,T=!1;if(typeof u=="string"&&DO.test(u)&&(v=u,OO))try{let x=new URL(window.location.href),A=u.startsWith("//")?new URL(x.protocol+u):new URL(u),L=uy(A.pathname,m);A.origin===x.origin&&L!=null?u=L+A.search+A.hash:T=!0}catch{}let w=uO(u,{relative:i}),y=LO(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(x){r&&r(x),x.defaultPrevented||y(x)}return N.createElement("a",mg({},f,{href:v||w,onClick:T||s?r:b,ref:n,target:l}))});var aw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aw||(aw={}));var lw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lw||(lw={}));function LO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Iu(),u=Tu(),d=RS(t,{relative:o});return N.useCallback(h=>{if(RO(h,n)){h.preventDefault();let f=r!==void 0?r:Ld(u)===Ld(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new VO;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(t){const e=kS(t);return NS.encodeByteArray(e,!0)},Vd=function(t){return FO(t).replace(/\./g,"")},OS=function(t){try{return NS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=()=>jO().__FIREBASE_DEFAULTS__,BO=()=>{if(typeof process>"u"||typeof uw>"u")return;const t=uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OS(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return UO()||BO()||$O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>{var e,n;return(n=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LS=t=>{const e=DS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>{var t;return(t=Jh())===null||t===void 0?void 0:t.config},VS=t=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vd(JSON.stringify(n)),Vd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function WO(){var t;const e=(t=Jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QO(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YO(){return!WO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZO(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class Ht extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}}function eD(t,e){return t.replace(tD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tD=/\{\$([^}]+)}/g;function nD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cw(s)&&cw(o)){if(!Fd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rD(t,e){const n=new iD(t,e);return n.subscribe.bind(n)}class iD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Up),i.error===void 0&&(i.error=Up),i.complete===void 0&&(i.complete=Up);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aD(t){return t===as?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const cD={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},dD=Ie.INFO,hD={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},fD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fy{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=fD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const pD=(t,e)=>e.some(n=>t instanceof n);let dw,hw;function mD(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,gg=new WeakMap,US=new WeakMap,Bp=new WeakMap,py=new WeakMap;function vD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jS.set(n,t)}).catch(()=>{}),py.set(e,t),e}function yD(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||US.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _D(t){vg=t(vg)}function wD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($p(this),e,...n);return US.set(r,e.sort?e.sort():[e]),Ci(r)}:gD().includes(t)?function(...e){return t.apply($p(this),e),Ci(jS.get(this))}:function(...e){return Ci(t.apply($p(this),e))}}function bD(t){return typeof t=="function"?wD(t):(t instanceof IDBTransaction&&yD(t),pD(t,mD())?new Proxy(t,vg):t)}function Ci(t){if(t instanceof IDBRequest)return vD(t);if(Bp.has(t))return Bp.get(t);const e=bD(t);return e!==t&&(Bp.set(t,e),py.set(e,t)),e}const $p=t=>py.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const TD=["get","getKey","getAll","getAllKeys","count"],ID=["put","add","delete","clear"],zp=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ID.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zp.set(e,s),s}_D(t=>({...t,get:(e,n,r)=>fw(e,n)||t.get(e,n,r),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yg="@firebase/app",pw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new fy("@firebase/app"),CD="@firebase/app-compat",RD="@firebase/analytics-compat",PD="@firebase/analytics",AD="@firebase/app-check-compat",kD="@firebase/app-check",ND="@firebase/auth",OD="@firebase/auth-compat",DD="@firebase/database",LD="@firebase/data-connect",MD="@firebase/database-compat",VD="@firebase/functions",FD="@firebase/functions-compat",jD="@firebase/installations",UD="@firebase/installations-compat",BD="@firebase/messaging",$D="@firebase/messaging-compat",zD="@firebase/performance",HD="@firebase/performance-compat",WD="@firebase/remote-config",GD="@firebase/remote-config-compat",qD="@firebase/storage",KD="@firebase/storage-compat",QD="@firebase/firestore",YD="@firebase/vertexai-preview",ZD="@firebase/firestore-compat",XD="firebase",JD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",e4={[yg]:"fire-core",[CD]:"fire-core-compat",[PD]:"fire-analytics",[RD]:"fire-analytics-compat",[kD]:"fire-app-check",[AD]:"fire-app-check-compat",[ND]:"fire-auth",[OD]:"fire-auth-compat",[DD]:"fire-rtdb",[LD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[VD]:"fire-fn",[FD]:"fire-fn-compat",[jD]:"fire-iid",[UD]:"fire-iid-compat",[BD]:"fire-fcm",[$D]:"fire-fcm-compat",[zD]:"fire-perf",[HD]:"fire-perf-compat",[WD]:"fire-rc",[GD]:"fire-rc-compat",[qD]:"fire-gcs",[KD]:"fire-gcs-compat",[QD]:"fire-fst",[ZD]:"fire-fst-compat",[YD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,t4=new Map,wg=new Map;function mw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Is(t){const e=t.name;if(wg.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of jd.values())mw(n,t);for(const n of t4.values())mw(n,t);return!0}function ef(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Su("app","Firebase",n4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=JD;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=MS()),!n)throw Ri.create("no-options");const s=jd.get(i);if(s){if(Fd(n,s.options)&&Fd(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new uD(i);for(const l of wg.values())o.addComponent(l);const a=new r4(n,r,o);return jd.set(i,a),a}function my(t=_g){const e=jd.get(t);if(!e&&t===_g&&MS())return BS();if(!e)throw Ri.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let i=(r=e4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Is(new Li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="firebase-heartbeat-database",s4=1,Vl="firebase-heartbeat-store";let Hp=null;function $S(){return Hp||(Hp=ED(i4,s4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function o4(t){try{const n=(await $S()).transaction(Vl),r=await n.objectStore(Vl).get(zS(t));return await n.done,r}catch(e){if(e instanceof Ht)Br.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function gw(t,e){try{const r=(await $S()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,zS(t)),await r.done}catch(n){if(n instanceof Ht)Br.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function zS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1024,l4=30*24*60*60*1e3;class u4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=l4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:i}=c4(this._heartbeatsCache.heartbeats),s=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function vw(){return new Date().toISOString().substring(0,10)}function c4(t,e=a4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZO()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yw(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){Is(new Li("platform-logger",e=>new SD(e),"PRIVATE")),Is(new Li("heartbeat",e=>new u4(e),"PRIVATE")),ur(yg,pw,t),ur(yg,pw,"esm2017"),ur("fire-js","")}h4("");var f4="firebase",p4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(f4,p4,"app");function gy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m4=HS,WS=new Su("auth","Firebase",HS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new fy("@firebase/auth");function g4(t,...e){Ud.logLevel<=Ie.WARN&&Ud.warn(`Auth (${Fs}): ${t}`,...e)}function Yc(t,...e){Ud.logLevel<=Ie.ERROR&&Ud.error(`Auth (${Fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw vy(t,...e)}function cr(t,...e){return vy(t,...e)}function GS(t,e,n){const r=Object.assign(Object.assign({},m4()),{[e]:n});return new Su("auth","Firebase",r).create(e,{appName:t.name})}function Lr(t){return GS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WS.create(t,...e)}function pe(t,e,...n){if(!t)throw vy(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function $r(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v4(){return _w()==="http:"||_w()==="https:"}function _w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||qO()||"connection"in navigator)?navigator.onLine:!0}function _4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=HO()||KO()}get(){return y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Cu(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qr(t,e,n,r,i={}){return KS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return GO()||(u.referrerPolicy="no-referrer"),qS.fetch()(QS(t,t.config.apiHost,n,a),u)})}async function KS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w4),e);try{const i=new T4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Tc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Tc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GS(t,d,u);Zn(t,d)}}catch(i){if(i instanceof Ht)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function Ru(t,e,n,r,i={}){const s=await Qr(t,e,n,r,i);return"mfaPendingCredential"in s&&Zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function QS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yy(t.config,i):`${t.config.apiScheme}://${i}`}function E4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),b4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function ww(t){return t!==void 0&&t.enterprise!==void 0}class I4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function S4(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function YS(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C4(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=_y(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:al(Wp(i.auth_time)),issuedAtTime:al(Wp(i.iat)),expirationTime:al(Wp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wp(t){return Number(t)*1e3}function _y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const i=OS(n);return i?JSON.parse(i):(Yc("Failed to decode base64 JWT payload"),null)}catch(i){return Yc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bw(t){const e=_y(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ht&&R4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fl(t,YS(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZS(s.providerUserInfo):[],a=k4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function A4(t){const e=at(t);await Bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZS(t){return t.map(e=>{var{providerId:n}=e,r=gy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){const n=await KS(t,{},async()=>{const r=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O4(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await N4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _o;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C4(this,e)}reload(){return A4(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Fl(this,x4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:A,isAnonymous:L,providerData:D,stsTokenManager:I}=n;pe(x&&I,e,"internal-error");const _=_o.fromJSON(this.name,I);pe(typeof x=="string",e,"internal-error"),ni(h,e.name),ni(f,e.name),pe(typeof A=="boolean",e,"internal-error"),pe(typeof L=="boolean",e,"internal-error"),ni(m,e.name),ni(v,e.name),ni(T,e.name),ni(w,e.name),ni(y,e.name),ni(b,e.name);const R=new kr({uid:x,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:L,photoURL:v,phoneNumber:m,tenantId:T,stsTokenManager:_,createdAt:y,lastLoginAt:b});return D&&Array.isArray(D)&&(R.providerData=D.map(P=>Object.assign({},P))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new _o;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _o;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;function Nr(t){$r(t instanceof Function,"Expected a class definition");let e=Ew.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ew.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XS.type="NONE";const Tw=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(Nr(Tw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(Tw);const o=Zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=kr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ix(e))return"Blackberry";if(sx(e))return"Webos";if(ex(e))return"Safari";if((e.includes("chrome/")||tx(e))&&!e.includes("edge/"))return"Chrome";if(rx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JS(t=qt()){return/firefox\//i.test(t)}function ex(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tx(t=qt()){return/crios\//i.test(t)}function nx(t=qt()){return/iemobile/i.test(t)}function rx(t=qt()){return/android/i.test(t)}function ix(t=qt()){return/blackberry/i.test(t)}function sx(t=qt()){return/webos/i.test(t)}function wy(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D4(t=qt()){var e;return wy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L4(){return QO()&&document.documentMode===10}function ox(t=qt()){return wy(t)||rx(t)||sx(t)||ix(t)||/windows phone/i.test(t)||nx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e=[]){let n;switch(t){case"Browser":n=Iw(qt());break;case"Worker":n=`${Iw(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=6;class j4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new M4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YS(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Lr(this));const n=e?at(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V4(this),n=new j4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await O4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ax(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&g4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return at(t)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=rD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(t){tf=t}function lx(t){return tf.loadJS(t)}function $4(){return tf.recaptchaEnterpriseScript}function z4(){return tf.gapiScript}function H4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const W4="recaptcha-enterprise",G4="NO_RECAPTCHA";class q4{constructor(e){this.type=W4,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{S4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new I4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ww(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(G4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ww(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$4();l.length!==0&&(l+=a),lx(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function xw(t,e,n,r=!1){const i=new q4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $d(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e){const n=ef(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fd(s,e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}function Q4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y4(t,e,n){const r=Yi(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ux(e),{host:o,port:a}=Z4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),X4()}function ux(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z4(t){const e=ux(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Cw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Cw(o)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function J4(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function tL(t,e){return Qr(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function nL(t,e){return tL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function iL(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends by{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,n,"signInWithPassword",eL);case"emailLink":return rL(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $d(e,r,"signUpPassword",J4);case"emailLink":return iL(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="http://localhost";class Ss extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:sL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aL(t){const e=$a(za(t)).link,n=e?$a(za(e)).deep_link_id:null,r=$a(za(t)).deep_link_id;return(r?$a(za(r)).link:null)||r||n||e||t}class Ey{constructor(e){var n,r,i,s,o,a;const l=$a(za(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=oL((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aL(e);try{return new Ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ey.parseLink(n);return pe(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Pu{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Pu{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Pu{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return Ru(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=Rw(r);return new xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rw(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Ht{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zd(e,n,r,i)}}function dx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(t,s,e,r):s})}async function uL(t,e,n=!1){const r=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const s=await Fl(t,dx(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=_y(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e,n=!1){if(or(t.app))return Promise.reject(Lr(t));const r="signIn",i=await dx(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dL(t,e){return hx(Yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hL(t,e,n){const r=Yi(t);await $d(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nL)}async function fL(t,e,n){if(or(t.app))return Promise.reject(Lr(t));const r=Yi(t),o=await $d(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fx(t),l}),a=await xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Pw(t,e,n){return or(t.app)?Promise.reject(Lr(t)):dL(at(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fx(t),r})}function pL(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function mL(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function gL(t){return at(t).signOut()}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=1e3,yL=10;class mx extends px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ox(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);L4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mx.type="LOCAL";const _L=mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gx.type="SESSION";const vx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await wL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ty("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function EL(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function TL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SL(){return yx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",xL=1,Wd="firebaseLocalStorage",wx="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([Wd],e?"readwrite":"readonly").objectStore(Wd)}function CL(){const t=indexedDB.deleteDatabase(_x);return new Au(t).toPromise()}function Tg(){const t=indexedDB.open(_x,xL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wd,{keyPath:wx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wd)?e(r):(r.close(),await CL(),e(await Tg()))})})}async function Aw(t,e,n){const r=rf(t,!0).put({[wx]:e,value:n});return new Au(r).toPromise()}async function RL(t,e){const n=rf(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function kw(t,e){const n=rf(t,!0).delete(e);return new Au(n).toPromise()}const PL=800,AL=3;class bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(SL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TL(),!this.activeServiceWorker)return;this.sender=new bL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await Aw(e,Hd,"1"),await kw(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rf(i,!1).getAll();return new Au(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bx.type="LOCAL";const kL=bx;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){return e?Nr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OL(t){return hx(t.auth,new Iy(t),t.bypassAuthState)}function DL(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),cL(n,new Iy(t),t.bypassAuthState)}async function LL(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),uL(n,new Iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OL;case"linkViaPopup":case"linkViaRedirect":return LL;case"reauthViaPopup":case"reauthViaRedirect":return DL;default:Zn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Cu(2e3,1e4);class co extends Ex{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ML.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="pendingRedirect",Xc=new Map;class FL extends Ex{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await jL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jL(t,e){const n=$L(e),r=BL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UL(t,e){Xc.set(t._key(),e)}function BL(t){return Nr(t._redirectPersistence)}function $L(t){return Zc(VL,t.config.apiKey,t.name)}async function zL(t,e,n=!1){if(or(t.app))return Promise.reject(Lr(t));const r=Yi(t),i=NL(r,e),o=await new FL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=10*60*1e3;class WL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QL=/^https?/;async function YL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qL(t);for(const n of e)try{if(ZL(n))return}catch{}Zn(t,"unauthorized-domain")}function ZL(t){const e=bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!QL.test(n))return!1;if(KL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Cu(3e4,6e4);function Ow(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JL(t){return new Promise((e,n)=>{var r,i,s;function o(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(cr(t,"network-request-failed"))},timeout:XL.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dr().gapi)===null||s===void 0)&&s.load)o();else{const a=H4("iframefcb");return dr()[a]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},lx(`${z4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function eM(t){return Jc=Jc||JL(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Cu(5e3,15e3),nM="__/auth/iframe",rM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oM(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yy(e,rM):`https://${t.config.authDomain}/${nM}`,r={apiKey:e.apiKey,appName:t.name,v:Fs},i=sM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xu(r).slice(1)}`}async function aM(t){const e=await eM(t),n=dr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:oM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=dr().setTimeout(()=>{s(o)},tM.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,cM=600,dM="_blank",hM="http://localhost";class Dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fM(t,e,n,r=uM,i=cM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qt().toLowerCase();n&&(a=tx(u)?dM:n),JS(u)&&(e=e||hM,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(D4(u)&&a!=="_self")return pM(e||"",a),new Dw(null);const h=window.open(e||"",a,d);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new Dw(h)}function pM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="__/auth/handler",gM="emulator/auth/handler",vM=encodeURIComponent("fac");async function Lw(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fs,eventId:i};if(e instanceof cx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Pu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${vM}=${encodeURIComponent(l)}`:"";return`${yM(t)}?${xu(a).slice(1)}${u}`}function yM({config:t}){return t.emulator?yy(t,gM):`https://${t.authDomain}/${mM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="webStorageSupport";class _M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vx,this._completeRedirectFn=zL,this._overrideRedirectResult=UL}async _openPopup(e,n,r,i){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Lw(e,n,r,bg(),i);return fM(e,o,Ty())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Lw(e,n,r,bg(),i);return EL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aM(e),r=new WL(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gp,{type:Gp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gp];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ox()||ex()||wy()}}const wM=_M;var Mw="@firebase/auth",Vw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TM(t){Is(new Li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ax(t)},u=new U4(r,i,s,l);return Q4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Is(new Li("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new bM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(Mw,Vw,EM(t)),ur(Mw,Vw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=5*60,SM=VS("authIdTokenMaxAge")||IM;let Fw=null;const xM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SM)return;const i=n==null?void 0:n.token;Fw!==i&&(Fw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CM(t=my()){const e=ef(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K4(t,{popupRedirectResolver:wM,persistence:[kL,_L,vx]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=xM(s.toString());mL(n,o,()=>o(n.currentUser)),pL(n,a=>o(a))}}const i=DS("auth");return i&&Y4(n,`http://${i}`),n}function RM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TM("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,Ix;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function R(){}R.prototype=_.prototype,I.D=_.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(P,k,O){for(var S=Array(arguments.length-2),F=2;F<arguments.length;F++)S[F-2]=arguments[F];return _.prototype[k].apply(P,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,R){R||(R=0);var P=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)P[k]=_.charCodeAt(R++)|_.charCodeAt(R++)<<8|_.charCodeAt(R++)<<16|_.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=_[R++]|_[R++]<<8|_[R++]<<16|_[R++]<<24;_=I.g[0],R=I.g[1],k=I.g[2];var O=I.g[3],S=_+(O^R&(k^O))+P[0]+3614090360&4294967295;_=R+(S<<7&4294967295|S>>>25),S=O+(k^_&(R^k))+P[1]+3905402710&4294967295,O=_+(S<<12&4294967295|S>>>20),S=k+(R^O&(_^R))+P[2]+606105819&4294967295,k=O+(S<<17&4294967295|S>>>15),S=R+(_^k&(O^_))+P[3]+3250441966&4294967295,R=k+(S<<22&4294967295|S>>>10),S=_+(O^R&(k^O))+P[4]+4118548399&4294967295,_=R+(S<<7&4294967295|S>>>25),S=O+(k^_&(R^k))+P[5]+1200080426&4294967295,O=_+(S<<12&4294967295|S>>>20),S=k+(R^O&(_^R))+P[6]+2821735955&4294967295,k=O+(S<<17&4294967295|S>>>15),S=R+(_^k&(O^_))+P[7]+4249261313&4294967295,R=k+(S<<22&4294967295|S>>>10),S=_+(O^R&(k^O))+P[8]+1770035416&4294967295,_=R+(S<<7&4294967295|S>>>25),S=O+(k^_&(R^k))+P[9]+2336552879&4294967295,O=_+(S<<12&4294967295|S>>>20),S=k+(R^O&(_^R))+P[10]+4294925233&4294967295,k=O+(S<<17&4294967295|S>>>15),S=R+(_^k&(O^_))+P[11]+2304563134&4294967295,R=k+(S<<22&4294967295|S>>>10),S=_+(O^R&(k^O))+P[12]+1804603682&4294967295,_=R+(S<<7&4294967295|S>>>25),S=O+(k^_&(R^k))+P[13]+4254626195&4294967295,O=_+(S<<12&4294967295|S>>>20),S=k+(R^O&(_^R))+P[14]+2792965006&4294967295,k=O+(S<<17&4294967295|S>>>15),S=R+(_^k&(O^_))+P[15]+1236535329&4294967295,R=k+(S<<22&4294967295|S>>>10),S=_+(k^O&(R^k))+P[1]+4129170786&4294967295,_=R+(S<<5&4294967295|S>>>27),S=O+(R^k&(_^R))+P[6]+3225465664&4294967295,O=_+(S<<9&4294967295|S>>>23),S=k+(_^R&(O^_))+P[11]+643717713&4294967295,k=O+(S<<14&4294967295|S>>>18),S=R+(O^_&(k^O))+P[0]+3921069994&4294967295,R=k+(S<<20&4294967295|S>>>12),S=_+(k^O&(R^k))+P[5]+3593408605&4294967295,_=R+(S<<5&4294967295|S>>>27),S=O+(R^k&(_^R))+P[10]+38016083&4294967295,O=_+(S<<9&4294967295|S>>>23),S=k+(_^R&(O^_))+P[15]+3634488961&4294967295,k=O+(S<<14&4294967295|S>>>18),S=R+(O^_&(k^O))+P[4]+3889429448&4294967295,R=k+(S<<20&4294967295|S>>>12),S=_+(k^O&(R^k))+P[9]+568446438&4294967295,_=R+(S<<5&4294967295|S>>>27),S=O+(R^k&(_^R))+P[14]+3275163606&4294967295,O=_+(S<<9&4294967295|S>>>23),S=k+(_^R&(O^_))+P[3]+4107603335&4294967295,k=O+(S<<14&4294967295|S>>>18),S=R+(O^_&(k^O))+P[8]+1163531501&4294967295,R=k+(S<<20&4294967295|S>>>12),S=_+(k^O&(R^k))+P[13]+2850285829&4294967295,_=R+(S<<5&4294967295|S>>>27),S=O+(R^k&(_^R))+P[2]+4243563512&4294967295,O=_+(S<<9&4294967295|S>>>23),S=k+(_^R&(O^_))+P[7]+1735328473&4294967295,k=O+(S<<14&4294967295|S>>>18),S=R+(O^_&(k^O))+P[12]+2368359562&4294967295,R=k+(S<<20&4294967295|S>>>12),S=_+(R^k^O)+P[5]+4294588738&4294967295,_=R+(S<<4&4294967295|S>>>28),S=O+(_^R^k)+P[8]+2272392833&4294967295,O=_+(S<<11&4294967295|S>>>21),S=k+(O^_^R)+P[11]+1839030562&4294967295,k=O+(S<<16&4294967295|S>>>16),S=R+(k^O^_)+P[14]+4259657740&4294967295,R=k+(S<<23&4294967295|S>>>9),S=_+(R^k^O)+P[1]+2763975236&4294967295,_=R+(S<<4&4294967295|S>>>28),S=O+(_^R^k)+P[4]+1272893353&4294967295,O=_+(S<<11&4294967295|S>>>21),S=k+(O^_^R)+P[7]+4139469664&4294967295,k=O+(S<<16&4294967295|S>>>16),S=R+(k^O^_)+P[10]+3200236656&4294967295,R=k+(S<<23&4294967295|S>>>9),S=_+(R^k^O)+P[13]+681279174&4294967295,_=R+(S<<4&4294967295|S>>>28),S=O+(_^R^k)+P[0]+3936430074&4294967295,O=_+(S<<11&4294967295|S>>>21),S=k+(O^_^R)+P[3]+3572445317&4294967295,k=O+(S<<16&4294967295|S>>>16),S=R+(k^O^_)+P[6]+76029189&4294967295,R=k+(S<<23&4294967295|S>>>9),S=_+(R^k^O)+P[9]+3654602809&4294967295,_=R+(S<<4&4294967295|S>>>28),S=O+(_^R^k)+P[12]+3873151461&4294967295,O=_+(S<<11&4294967295|S>>>21),S=k+(O^_^R)+P[15]+530742520&4294967295,k=O+(S<<16&4294967295|S>>>16),S=R+(k^O^_)+P[2]+3299628645&4294967295,R=k+(S<<23&4294967295|S>>>9),S=_+(k^(R|~O))+P[0]+4096336452&4294967295,_=R+(S<<6&4294967295|S>>>26),S=O+(R^(_|~k))+P[7]+1126891415&4294967295,O=_+(S<<10&4294967295|S>>>22),S=k+(_^(O|~R))+P[14]+2878612391&4294967295,k=O+(S<<15&4294967295|S>>>17),S=R+(O^(k|~_))+P[5]+4237533241&4294967295,R=k+(S<<21&4294967295|S>>>11),S=_+(k^(R|~O))+P[12]+1700485571&4294967295,_=R+(S<<6&4294967295|S>>>26),S=O+(R^(_|~k))+P[3]+2399980690&4294967295,O=_+(S<<10&4294967295|S>>>22),S=k+(_^(O|~R))+P[10]+4293915773&4294967295,k=O+(S<<15&4294967295|S>>>17),S=R+(O^(k|~_))+P[1]+2240044497&4294967295,R=k+(S<<21&4294967295|S>>>11),S=_+(k^(R|~O))+P[8]+1873313359&4294967295,_=R+(S<<6&4294967295|S>>>26),S=O+(R^(_|~k))+P[15]+4264355552&4294967295,O=_+(S<<10&4294967295|S>>>22),S=k+(_^(O|~R))+P[6]+2734768916&4294967295,k=O+(S<<15&4294967295|S>>>17),S=R+(O^(k|~_))+P[13]+1309151649&4294967295,R=k+(S<<21&4294967295|S>>>11),S=_+(k^(R|~O))+P[4]+4149444226&4294967295,_=R+(S<<6&4294967295|S>>>26),S=O+(R^(_|~k))+P[11]+3174756917&4294967295,O=_+(S<<10&4294967295|S>>>22),S=k+(_^(O|~R))+P[2]+718787259&4294967295,k=O+(S<<15&4294967295|S>>>17),S=R+(O^(k|~_))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var R=_-this.blockSize,P=this.B,k=this.h,O=0;O<_;){if(k==0)for(;O<=R;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<_;)if(P[k++]=I.charCodeAt(O++),k==this.blockSize){i(this,P),k=0;break}}else for(;O<_;)if(P[k++]=I[O++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var R=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=R&255,R/=256;for(this.u(I),I=Array(16),_=R=0;4>_;++_)for(var P=0;32>P;P+=8)I[R++]=this.g[_]>>>P&255;return I};function s(I,_){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=_(I)}function o(I,_){this.h=_;for(var R=[],P=!0,k=I.length-1;0<=k;k--){var O=I[k]|0;P&&O==_||(R[k]=O,P=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return w(u(-I));for(var _=[],R=1,P=0;I>=R;P++)_[P]=I/R|0,R*=4294967296;return new o(_,0)}function d(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return w(d(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(_,8)),P=h,k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k),S=parseInt(I.substring(k,k+O),_);8>O?(O=u(Math.pow(_,O)),P=P.j(O).add(u(S))):(P=P.j(R),P=P.add(u(S)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-w(this).m();for(var I=0,_=1,R=0;R<this.g.length;R++){var P=this.i(R);I+=(0<=P?P:4294967296+P)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(T(this))return"-"+w(this).toString(I);for(var _=u(Math.pow(I,6)),R=this,P="";;){var k=A(R,_).g;R=y(R,k.j(_));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,v(R))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=y(this,I),T(I)?-1:v(I)?0:1};function w(I){for(var _=I.g.length,R=[],P=0;P<_;P++)R[P]=~I.g[P];return new o(R,~I.h).add(f)}t.abs=function(){return T(this)?w(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),R=[],P=0,k=0;k<=_;k++){var O=P+(this.i(k)&65535)+(I.i(k)&65535),S=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=S>>>16,O&=65535,S&=65535,R[k]=S<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function y(I,_){return I.add(w(_))}t.j=function(I){if(v(this)||v(I))return h;if(T(this))return T(I)?w(this).j(w(I)):w(w(this).j(I));if(T(I))return w(this.j(w(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var _=this.g.length+I.g.length,R=[],P=0;P<2*_;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<I.g.length;k++){var O=this.i(P)>>>16,S=this.i(P)&65535,F=I.i(k)>>>16,B=I.i(k)&65535;R[2*P+2*k]+=S*B,b(R,2*P+2*k),R[2*P+2*k+1]+=O*B,b(R,2*P+2*k+1),R[2*P+2*k+1]+=S*F,b(R,2*P+2*k+1),R[2*P+2*k+2]+=O*F,b(R,2*P+2*k+2)}for(P=0;P<_;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=_;P<2*_;P++)R[P]=0;return new o(R,0)};function b(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function x(I,_){this.g=I,this.h=_}function A(I,_){if(v(_))throw Error("division by zero");if(v(I))return new x(h,h);if(T(I))return _=A(w(I),_),new x(w(_.g),w(_.h));if(T(_))return _=A(I,w(_)),new x(w(_.g),_.h);if(30<I.g.length){if(T(I)||T(_))throw Error("slowDivide_ only works with positive integers.");for(var R=f,P=_;0>=P.l(I);)R=L(R),P=L(P);var k=D(R,1),O=D(P,1);for(P=D(P,2),R=D(R,2);!v(P);){var S=O.add(P);0>=S.l(I)&&(k=k.add(R),O=S),P=D(P,1),R=D(R,1)}return _=y(I,k.j(_)),new x(k,_)}for(k=h;0<=I.l(_);){for(R=Math.max(1,Math.floor(I.m()/_.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(R),S=O.j(_);T(S)||0<S.l(I);)R-=P,O=u(R),S=O.j(_);v(O)&&(O=f),k=k.add(O),I=y(I,S)}return new x(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)&I.i(P);return new o(R,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)|I.i(P);return new o(R,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)^I.i(P);return new o(R,this.h^I.h)};function L(I){for(var _=I.g.length+1,R=[],P=0;P<_;P++)R[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(R,I.h)}function D(I,_){var R=_>>5;_%=32;for(var P=I.g.length-R,k=[],O=0;O<P;O++)k[O]=0<_?I.i(O+R)>>>_|I.i(O+R+1)<<32-_:I.i(O+R);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ix=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gs=o}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sx,Ha,xx,ed,Ig,Cx,Rx,Px;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var V=c[C];if(!(V in g))break e;g=g[V]}c=c[c.length-1],C=g[c],p=p(C),p!=C&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,C=!1,V={next:function(){if(!C&&g<c.length){var j=g++;return{value:p(j,c[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,C),c.apply(p,V)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function v(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(C,V,j){for(var Z=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Z[$e-2]=arguments[$e];return p.prototype[V].apply(C,Z)}}function T(c){const p=c.length;if(0<p){const g=Array(p);for(let C=0;C<p;C++)g[C]=c[C];return g}return[]}function w(c,p){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(l(C)){const V=c.length||0,j=C.length||0;c.length=V+j;for(let Z=0;Z<j;Z++)c[V+Z]=C[Z]}else c.push(C)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var L=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function D(c,p,g){for(const C in c)p.call(g,c[C],C,c)}function I(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function _(c){const p={};for(const g in c)p[g]=c[g];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,p){let g,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(g in C)c[g]=C[g];for(let j=0;j<R.length;j++)g=R[j],Object.prototype.hasOwnProperty.call(C,g)&&(c[g]=C[g])}}function k(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function S(){var c=z;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class F{constructor(){this.h=this.g=null}add(p,g){const C=B.get();C.set(p,g),this.h?this.h.next=C:this.g=C,this.h=C}}var B=new y(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let U,M=!1,z=new F,H=()=>{const c=a.Promise.resolve(void 0);U=()=>{c.then(X)}};var X=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(g){O(g)}var p=B;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}M=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function fe(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(L){e:{try{A(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}v(fe,ie);var Se={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function Mn(c,p,g,C,V){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!C,this.ha=V,this.key=++Tt,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zr(c){this.src=c,this.g={},this.h=0}Zr.prototype.add=function(c,p,g,C,V){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var Z=Vn(c,p,C,V);return-1<Z?(p=c[Z],g||(p.fa=!1)):(p=new Mn(p,this.src,j,!!C,V),p.fa=g,c.push(p)),p};function ht(c,p){var g=p.type;if(g in c.g){var C=c.g[g],V=Array.prototype.indexOf.call(C,p,void 0),j;(j=0<=V)&&Array.prototype.splice.call(C,V,1),j&&(er(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Vn(c,p,g,C){for(var V=0;V<c.length;++V){var j=c[V];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==C)return V}return-1}var Bs="closure_lm_"+(1e6*Math.random()|0),la={};function q0(c,p,g,C,V){if(Array.isArray(p)){for(var j=0;j<p.length;j++)q0(c,p[j],g,C,V);return null}return g=Y0(g),c&&c[Be]?c.K(p,g,u(C)?!!C.capture:!!C,V):MP(c,p,g,!1,C,V)}function MP(c,p,g,C,V,j){if(!p)throw Error("Invalid event type");var Z=u(V)?!!V.capture:!!V,$e=Qf(c);if($e||(c[Bs]=$e=new Zr(c)),g=$e.add(p,g,C,Z,j),g.proxy)return g;if(C=VP(),g.proxy=C,C.src=c,C.listener=g,c.addEventListener)be||(V=Z),V===void 0&&(V=!1),c.addEventListener(p.toString(),C,V);else if(c.attachEvent)c.attachEvent(Q0(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function VP(){function c(g){return p.call(c.src,c.listener,g)}const p=FP;return c}function K0(c,p,g,C,V){if(Array.isArray(p))for(var j=0;j<p.length;j++)K0(c,p[j],g,C,V);else C=u(C)?!!C.capture:!!C,g=Y0(g),c&&c[Be]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],g=Vn(j,g,C,V),-1<g&&(er(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Qf(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Vn(p,g,C,V)),(g=-1<c?p[c]:null)&&Kf(g))}function Kf(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Be])ht(p.i,c);else{var g=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(g,C,c.capture):p.detachEvent?p.detachEvent(Q0(g),C):p.addListener&&p.removeListener&&p.removeListener(C),(g=Qf(p))?(ht(g,c),g.h==0&&(g.src=null,p[Bs]=null)):er(c)}}}function Q0(c){return c in la?la[c]:la[c]="on"+c}function FP(c,p){if(c.da)c=!0;else{p=new fe(p,this);var g=c.listener,C=c.ha||c.src;c.fa&&Kf(c),c=g.call(C,p)}return c}function Qf(c){return c=c[Bs],c instanceof Zr?c:null}var Yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y0(c){return typeof c=="function"?c:(c[Yf]||(c[Yf]=function(p){return c.handleEvent(p)}),c[Yf])}function Dt(){Q.call(this),this.i=new Zr(this),this.M=this,this.F=null}v(Dt,Q),Dt.prototype[Be]=!0,Dt.prototype.removeEventListener=function(c,p,g,C){K0(this,c,p,g,C)};function Qt(c,p){var g,C=c.F;if(C)for(g=[];C;C=C.F)g.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var V=p;p=new ie(C,c),P(p,V)}if(V=!0,g)for(var j=g.length-1;0<=j;j--){var Z=p.g=g[j];V=Hu(Z,C,!0,p)&&V}if(Z=p.g=c,V=Hu(Z,C,!0,p)&&V,V=Hu(Z,C,!1,p)&&V,g)for(j=0;j<g.length;j++)Z=p.g=g[j],V=Hu(Z,C,!1,p)&&V}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],C=0;C<g.length;C++)er(g[C]);delete c.g[p],c.h--}}this.F=null},Dt.prototype.K=function(c,p,g,C){return this.i.add(String(c),p,!1,g,C)},Dt.prototype.L=function(c,p,g,C){return this.i.add(String(c),p,!0,g,C)};function Hu(c,p,g,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,j=0;j<p.length;++j){var Z=p[j];if(Z&&!Z.da&&Z.capture==g){var $e=Z.listener,It=Z.ha||Z.src;Z.fa&&ht(c.i,Z),V=$e.call(It,C)!==!1&&V}}return V&&!C.defaultPrevented}function Z0(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function X0(c){c.g=Z0(()=>{c.g=null,c.i&&(c.i=!1,X0(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class jP extends Q{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:X0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){Q.call(this),this.h=c,this.g={}}v(ua,Q);var J0=[];function e_(c){D(c.g,function(p,g){this.g.hasOwnProperty(g)&&Kf(p)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),e_(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zf=a.JSON.stringify,UP=a.JSON.parse,BP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Xf(){}Xf.prototype.h=null;function t_(c){return c.h||(c.h=c.i())}function n_(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jf(){ie.call(this,"d")}v(Jf,ie);function ep(){ie.call(this,"c")}v(ep,ie);var Ji={},r_=null;function Wu(){return r_=r_||new Dt}Ji.La="serverreachability";function i_(c){ie.call(this,Ji.La,c)}v(i_,ie);function da(c){const p=Wu();Qt(p,new i_(p))}Ji.STAT_EVENT="statevent";function s_(c,p){ie.call(this,Ji.STAT_EVENT,c),this.stat=p}v(s_,ie);function Yt(c){const p=Wu();Qt(p,new s_(p,c))}Ji.Ma="timingevent";function o_(c,p){ie.call(this,Ji.Ma,c),this.size=p}v(o_,ie);function ha(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function $P(c,p,g,C,V,j){c.info(function(){if(c.g)if(j)for(var Z="",$e=j.split("&"),It=0;It<$e.length;It++){var ke=$e[It].split("=");if(1<ke.length){var Lt=ke[0];ke=ke[1];var Mt=Lt.split("_");Z=2<=Mt.length&&Mt[1]=="type"?Z+(Lt+"="+ke+"&"):Z+(Lt+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+p+`
`+g+`
`+Z})}function zP(c,p,g,C,V,j,Z){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+p+`
`+g+`
`+j+" "+Z})}function $s(c,p,g,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+WP(c,g)+(C?" "+C:"")})}function HP(c,p){c.info(function(){return"TIMEOUT: "+p})}fa.prototype.info=function(){};function WP(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var C=g[c];if(!(2>C.length)){var V=C[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return Zf(g)}catch{return p}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tp;function qu(){}v(qu,Xf),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},tp=new qu;function Xr(c,p,g,C){this.j=c,this.i=p,this.l=g,this.R=C||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}var u_={},np={};function rp(c,p,g){c.L=1,c.v=Zu(Er(p)),c.m=g,c.P=!0,c_(c,null)}function c_(c,p){c.F=Date.now(),Ku(c),c.A=Er(c.v);var g=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),I_(g.i,"t",C),c.C=0,g=c.j.J,c.h=new l_,c.g=$_(c.j,g?p:null,!c.m),0<c.O&&(c.M=new jP(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,C=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(J0[0]=V.toString()),V=J0);for(var j=0;j<V.length;j++){var Z=q0(g,V[j],C||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),da(),$P(c.i,c.u,c.A,c.l,c.R,c.m)}Xr.prototype.ca=function(c){c=c.target;const p=this.M;p&&Tr(c)==3?p.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Tr(this.g);var p=this.g.Ba();const Ws=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||Mt!=4||p==7||(p==8||0>=Ws?da(3):da(2)),ip(this);var g=this.g.Z();this.X=g;t:if(d_(this)){var C=k_(this.g);c="";var V=C.length,j=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),pa(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(j&&p==V-1)});C.length=0,this.h.g+=c,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,zP(this.i,this.u,this.A,this.l,this.R,Mt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,It=this.g;if(($e=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b($e)){var ke=$e;break t}}ke=null}if(g=ke)$s(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sp(this,g);else{this.o=!1,this.s=3,Yt(12),es(this),pa(this);break e}}if(this.P){g=!0;let Fn;for(;!this.J&&this.C<Z.length;)if(Fn=GP(this,Z),Fn==np){Mt==4&&(this.s=4,Yt(14),g=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==u_){this.s=4,Yt(15),$s(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else $s(this.i,this.l,Fn,null),sp(this,Fn);if(d_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||Z.length!=0||this.h.h||(this.s=1,Yt(16),g=!1),this.o=this.o&&g,!g)$s(this.i,this.l,Z,"[Invalid Chunked Response]"),es(this),pa(this);else if(0<Z.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),dp(Lt),Lt.M=!0,Yt(11))}}else $s(this.i,this.l,Z,null),sp(this,Z);Mt==4&&es(this),this.o&&!this.J&&(Mt==4?F_(this.j,this):(this.o=!1,Ku(this)))}else uA(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),es(this),pa(this)}}}catch{}finally{}};function d_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GP(c,p){var g=c.C,C=p.indexOf(`
`,g);return C==-1?np:(g=Number(p.substring(g,C)),isNaN(g)?u_:(C+=1,C+g>p.length?np:(p=p.slice(C,C+g),c.C=C+g,p)))}Xr.prototype.cancel=function(){this.J=!0,es(this)};function Ku(c){c.S=Date.now()+c.I,h_(c,c.I)}function h_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ha(f(c.ba,c),p)}function ip(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(HP(this.i,this.A),this.L!=2&&(da(),Yt(17)),es(this),this.s=2,pa(this)):h_(this,this.S-c)};function pa(c){c.j.G==0||c.J||F_(c.j,c)}function es(c){ip(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,e_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function sp(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||op(g.h,c))){if(!c.K&&op(g.h,c)&&g.G==3){try{var C=g.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)rc(g),tc(g);else break e;cp(g),Yt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=ha(f(g.Za,g),6e3));if(1>=m_(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ns(g,11)}else if((c.K||g.g==c)&&rc(g),!b(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let ke=V[p];if(g.T=ke[0],ke=ke[1],g.G==2)if(ke[0]=="c"){g.K=ke[1],g.ia=ke[2];const Lt=ke[3];Lt!=null&&(g.la=Lt,g.j.info("VER="+g.la));const Mt=ke[4];Mt!=null&&(g.Aa=Mt,g.j.info("SVER="+g.Aa));const Ws=ke[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(C=1.5*Ws,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const Fn=c.g;if(Fn){const sc=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sc){var j=C.h;j.g||sc.indexOf("spdy")==-1&&sc.indexOf("quic")==-1&&sc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ap(j,j.h),j.h=null))}if(C.D){const hp=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;hp&&(C.ya=hp,He(C.I,C.D,hp))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var Z=c;if(C.qa=B_(C,C.J?C.ia:null,C.W),Z.K){g_(C.h,Z);var $e=Z,It=C.L;It&&($e.I=It),$e.B&&(ip($e),Ku($e)),C.g=Z}else M_(C);0<g.i.length&&nc(g)}else ke[0]!="stop"&&ke[0]!="close"||ns(g,7);else g.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?ns(g,7):up(g):ke[0]!="noop"&&g.l&&g.l.ta(ke),g.v=0)}}da(4)}catch{}}var qP=class{constructor(c,p){this.g=c,this.map=p}};function f_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function m_(c){return c.h?1:c.g?c.g.size:0}function op(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ap(c,p){c.g?c.g.add(p):c.h=p}function g_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}f_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function v_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return T(c.i)}function KP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,C=0;C<g;C++)p.push(c[C]);return p}p=[],g=0;for(C in c)p[g++]=c[C];return p}function QP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const C in c)p[g++]=C;return p}}}function y_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=QP(c),C=KP(c),V=C.length,j=0;j<V;j++)p.call(void 0,C[j],g&&g[j],c)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YP(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var C=c[g].indexOf("="),V=null;if(0<=C){var j=c[g].substring(0,C);V=c[g].substring(C+1)}else j=c[g];p(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ts(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ts){this.h=c.h,Qu(this,c.j),this.o=c.o,this.g=c.g,Yu(this,c.s),this.l=c.l;var p=c.i,g=new va;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),w_(this,g),this.m=c.m}else c&&(p=String(c).match(__))?(this.h=!1,Qu(this,p[1]||"",!0),this.o=ma(p[2]||""),this.g=ma(p[3]||"",!0),Yu(this,p[4]),this.l=ma(p[5]||"",!0),w_(this,p[6]||"",!0),this.m=ma(p[7]||"")):(this.h=!1,this.i=new va(null,this.h))}ts.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ga(p,b_,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ga(p,b_,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ga(g,g.charAt(0)=="/"?JP:XP,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ga(g,tA)),c.join("")};function Er(c){return new ts(c)}function Qu(c,p,g){c.j=g?ma(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Yu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function w_(c,p,g){p instanceof va?(c.i=p,nA(c.i,c.h)):(g||(p=ga(p,eA)),c.i=new va(p,c.h))}function He(c,p,g){c.i.set(p,g)}function Zu(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ma(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,ZP),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var b_=/[#\/\?@]/g,XP=/[#\?:]/g,JP=/[#\?]/g,eA=/[#\?@]/g,tA=/#/g;function va(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&YP(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=va.prototype,t.add=function(c,p){Jr(this),this.i=null,c=zs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function E_(c,p){Jr(c),p=zs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function T_(c,p){return Jr(c),p=zs(c,p),c.g.has(p)}t.forEach=function(c,p){Jr(this),this.g.forEach(function(g,C){g.forEach(function(V){c.call(p,V,C,this)},this)},this)},t.na=function(){Jr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let C=0;C<p.length;C++){const V=c[C];for(let j=0;j<V.length;j++)g.push(p[C])}return g},t.V=function(c){Jr(this);let p=[];if(typeof c=="string")T_(this,c)&&(p=p.concat(this.g.get(zs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Jr(this),this.i=null,c=zs(this,c),T_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function I_(c,p,g){E_(c,p),0<g.length&&(c.i=null,c.g.set(zs(c,p),T(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var C=p[g];const j=encodeURIComponent(String(C)),Z=this.V(C);for(C=0;C<Z.length;C++){var V=j;Z[C]!==""&&(V+="="+encodeURIComponent(String(Z[C]))),c.push(V)}}return this.i=c.join("&")};function zs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function nA(c,p){p&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(g,C){var V=C.toLowerCase();C!=V&&(E_(this,C),I_(this,V,g))},c)),c.j=p}function rA(c,p){const g=new fa;if(a.Image){const C=new Image;C.onload=m(ei,g,"TestLoadImage: loaded",!0,p,C),C.onerror=m(ei,g,"TestLoadImage: error",!1,p,C),C.onabort=m(ei,g,"TestLoadImage: abort",!1,p,C),C.ontimeout=m(ei,g,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function iA(c,p){const g=new fa,C=new AbortController,V=setTimeout(()=>{C.abort(),ei(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(j=>{clearTimeout(V),j.ok?ei(g,"TestPingServer: ok",!0,p):ei(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),ei(g,"TestPingServer: error",!1,p)})}function ei(c,p,g,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(g)}catch{}}function sA(){this.g=new BP}function oA(c,p,g){const C=g||"";try{y_(c,function(V,j){let Z=V;u(V)&&(Z=Zf(V)),p.push(C+j+"="+encodeURIComponent(Z))})}catch(V){throw p.push(C+"type="+encodeURIComponent("_badmap")),V}}function Xu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Xu,Xf),Xu.prototype.g=function(){return new Ju(this.l,this.j)},Xu.prototype.i=function(c){return function(){return c}}({});function Ju(c,p){Dt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ju,Dt),t=Ju.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,_a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;S_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function S_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ya(this):_a(this),this.readyState==3&&S_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Qa=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_a(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function _a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function x_(c){let p="";return D(c,function(g,C){p+=C,p+=":",p+=g,p+=`\r
`}),p}function lp(c,p,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=x_(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):He(c,p,g))}function tt(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(tt,Dt);var aA=/^https?$/i,lA=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tp.g(),this.v=this.o?t_(this.o):t_(tp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){C_(this,j);return}if(c=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)g.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())g.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lA,p,void 0))||C||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of g)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A_(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){C_(this,j)}};function C_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,R_(c),ec(c)}function R_(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P_(this):this.bb())},t.bb=function(){P_(this)};function P_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Tr(c)!=4||c.Z()!=2)){if(c.u&&Tr(c)==4)Z0(c.Ea,0,c);else if(Qt(c,"readystatechange"),Tr(c)==4){c.h=!1;try{const Z=c.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var C;if(C=Z===0){var V=String(c.D).match(__)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),C=!aA.test(V?V.toLowerCase():"")}g=C}if(g)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var j=2<Tr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",R_(c)}}finally{ec(c)}}}}function ec(c,p){if(c.g){A_(c);const g=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qt(c,"ready");try{g.onreadystatechange=C}catch{}}}function A_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),UP(p)}};function k_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uA(c){const p={};c=(c.g&&2<=Tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(b(c[C]))continue;var g=k(c[C]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[V]||[];p[V]=j,j.push(g)}I(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function N_(c){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,c),this.cb=wa("retryDelaySeedMs",1e4,c),this.Wa=wa("forwardChannelMaxRetries",2,c),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new f_(c&&c.concurrentRequestLimit),this.Da=new sA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N_.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,C){Yt(0),this.W=c,this.H=p||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=B_(this,null,this.W),nc(this)};function up(c){if(O_(c),c.G==3){var p=c.U++,g=Er(c.I);if(He(g,"SID",c.K),He(g,"RID",p),He(g,"TYPE","terminate"),ba(c,g),p=new Xr(c,c.j,p),p.L=2,p.v=Zu(Er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=$_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ku(p)}U_(c)}function tc(c){c.g&&(dp(c),c.g.cancel(),c.g=null)}function O_(c){tc(c),c.u&&(a.clearTimeout(c.u),c.u=null),rc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function nc(c){if(!p_(c.h)&&!c.s){c.s=!0;var p=c.Ga;U||H(),M||(U(),M=!0),z.add(p,c),c.B=0}}function cA(c,p){return m_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ha(f(c.Ga,c,p),j_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Xr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=_(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=L_(this,V,p),g=Er(this.I),He(g,"RID",c),He(g,"CVER",22),this.D&&He(g,"X-HTTP-Session-Id",this.D),ba(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(x_(j)))+"&"+p:this.m&&lp(g,this.m,j)),ap(this.h,V),this.Ua&&He(g,"TYPE","init"),this.P?(He(g,"$req",p),He(g,"SID","null"),V.T=!0,rp(V,g,null)):rp(V,g,p),this.G=2}}else this.G==3&&(c?D_(this,c):this.i.length==0||p_(this.h)||D_(this))};function D_(c,p){var g;p?g=p.l:g=c.U++;const C=Er(c.I);He(C,"SID",c.K),He(C,"RID",g),He(C,"AID",c.T),ba(c,C),c.m&&c.o&&lp(C,c.m,c.o),g=new Xr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=L_(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ap(c.h,g),rp(g,C,p)}function ba(c,p){c.H&&D(c.H,function(g,C){He(p,C,g)}),c.l&&y_({},function(g,C){He(p,C,g)})}function L_(c,p,g){g=Math.min(c.i.length,g);var C=c.l?f(c.l.Na,c.l,c):null;e:{var V=c.i;let j=-1;for(;;){const Z=["count="+g];j==-1?0<g?(j=V[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let $e=!0;for(let It=0;It<g;It++){let ke=V[It].g;const Lt=V[It].map;if(ke-=j,0>ke)j=Math.max(0,V[It].g-100),$e=!1;else try{oA(Lt,Z,"req"+ke+"_")}catch{C&&C(Lt)}}if($e){C=Z.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,C}function M_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;U||H(),M||(U(),M=!0),z.add(p,c),c.v=0}}function cp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ha(f(c.Fa,c),j_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ha(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),tc(this),V_(this))};function dp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function V_(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Er(c.qa);He(p,"RID","rpc"),He(p,"SID",c.K),He(p,"AID",c.T),He(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(p,"TO",c.ja),He(p,"TYPE","xmlhttp"),ba(c,p),c.m&&c.o&&lp(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Zu(Er(p)),g.m=null,g.P=!0,c_(g,c)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),cp(this),Yt(19))};function rc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function F_(c,p){var g=null;if(c.g==p){rc(c),dp(c),c.g=null;var C=2}else if(op(c.h,p))g=p.D,g_(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=c.B;C=Wu(),Qt(C,new o_(C,g)),nc(c)}else M_(c);else if(V=p.s,V==3||V==0&&0<p.X||!(C==1&&cA(c,p)||C==2&&cp(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),V){case 1:ns(c,5);break;case 4:ns(c,10);break;case 3:ns(c,6);break;default:ns(c,2)}}}function j_(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function ns(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),C=c.Xa;const V=!C;C=new ts(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(C,"https"),Zu(C),V?rA(C.toString(),g):iA(C.toString(),g)}else Yt(2);c.G=0,c.l&&c.l.sa(p),U_(c),O_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function U_(c){if(c.G=0,c.ka=[],c.l){const p=v_(c.h);(p.length!=0||c.i.length!=0)&&(w(c.ka,p),w(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function B_(c,p,g){var C=g instanceof ts?Er(g):new ts(g);if(C.g!="")p&&(C.g=p+"."+C.g),Yu(C,C.s);else{var V=a.location;C=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var j=new ts(null);C&&Qu(j,C),p&&(j.g=p),V&&Yu(j,V),g&&(j.l=g),C=j}return g=c.D,p=c.ya,g&&p&&He(C,g,p),He(C,"VER",c.la),ba(c,C),C}function $_(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new tt(new Xu({eb:g})):new tt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z_(){}t=z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ic(){}ic.prototype.g=function(c,p){return new pn(c,p)};function pn(c,p){Dt.call(this),this.g=new N_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!b(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Hs(this)}v(pn,Dt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){up(this.g)},pn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Zf(c),c=g);p.i.push(new qP(p.Ya++,c)),p.G==3&&nc(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,pn.aa.N.call(this)};function H_(c){Jf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}v(H_,Jf);function W_(){ep.call(this),this.status=1}v(W_,ep);function Hs(c){this.g=c}v(Hs,z_),Hs.prototype.ua=function(){Qt(this.g,"a")},Hs.prototype.ta=function(c){Qt(this.g,new H_(c))},Hs.prototype.sa=function(c){Qt(this.g,new W_)},Hs.prototype.ra=function(){Qt(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Px=function(){return new ic},Rx=function(){return Wu()},Cx=Ji,Ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,ed=Gu,a_.COMPLETE="complete",xx=a_,n_.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Ha=n_,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Sx=tt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Uw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new fy("@firebase/firestore");function Aa(){return Cs.logLevel}function re(t,...e){if(Cs.logLevel<=Ie.DEBUG){const n=e.map(Sy);Cs.debug(`Firestore (${ea}): ${t}`,...n)}}function zr(t,...e){if(Cs.logLevel<=Ie.ERROR){const n=e.map(Sy);Cs.error(`Firestore (${ea}): ${t}`,...n)}}function Do(t,...e){if(Cs.logLevel<=Ie.WARN){const n=e.map(Sy);Cs.warn(`Firestore (${ea}): ${t}`,...n)}}function Sy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function je(t,e){t||ge()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class AM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kM{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Ax(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Bt(e)}}class NM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new NM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new DM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Qe(0,0))}static max(){return new ve(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Ul{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const VM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Ul{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return VM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ge.fromString(e))}static fromName(e){return new le(Ge.fromString(e).popFirst(5))}static empty(){return new le(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ge(e.slice()))}}function FM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Mi(i,le.empty(),e)}function jM(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(ve.min(),le.empty(),-1)}static max(){return new Mi(ve.max(),le.empty(),-1)}}function UM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==BM)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function zM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xy.oe=-1;function sf(t){return t==null}function Gd(t){return t===0&&1/t==-1/0}function HM(t){return typeof t=="number"&&Number.isInteger(t)&&!Gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $w(this.data.getIterator())}getIteratorFrom(e){return new $w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class $w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new kt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ox("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const WM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(je(!!t),typeof t=="string"){let e=0;const n=WM.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ry(t){const e=t.mapValue.fields.__previous_value__;return Cy(e)?Ry(e):e}function Bl(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cy(t)?4:KM(t)?9007199254740991:qM(t)?10:11:ge()}function gr(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vi(i.timestampValue),a=Vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rs(i.bytesValue).isEqual(Rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=it(i.doubleValue),a=it(s.doubleValue);return o===a?Gd(o)===Gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Bw(o)!==Bw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function zl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=it(s.integerValue||s.doubleValue),l=it(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(Bl(t),Bl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Rs(s),l=Rs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ne(a[u],l[u]);if(d!==0)return d}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ne(it(s.latitude),it(o.latitude));return a!==0?a:Ne(it(s.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=Ne(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:Hw(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xc.mapValue&&o===xc.mapValue)return 0;if(s===xc.mapValue)return 1;if(o===xc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ne(l[h],d[h]);if(f!==0)return f;const m=Mo(a[l[h]],u[d[h]]);if(m!==0)return m}return Ne(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Vi(t),r=Vi(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Hw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mo(n[i],r[i]);if(s)return s}return Ne(n.length,r.length)}function Vo(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sg(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function Py(t){return!!t&&"arrayValue"in t}function Gw(t){return!!t&&"nullValue"in t}function qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function qM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(ll(this.value))}}function Dx(t){const e=[];return js(t.fields,(n,r)=>{const i=new Rt([n]);if(td(r)){const s=Dx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ve.min(),ve.min(),ve.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ve.min(),ve.min(),on.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ve.min(),ve.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function Kw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function QM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{}class dt extends Lx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZM(e,n,r):n==="array-contains"?new e6(e,r):n==="in"?new t6(e,r):n==="not-in"?new n6(e,r):n==="array-contains-any"?new r6(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XM(e,r):new JM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Lx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return Mx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mx(t){return t.op==="and"}function Vx(t){return YM(t)&&Mx(t)}function YM(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Cg(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(Vx(t))return t.filters.map(e=>Cg(e)).join(",");{const e=t.filters.map(n=>Cg(n)).join(",");return`${t.op}(${e})`}}function Fx(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Fx(o,i.filters[a]),!0):!1}(t,e):void ge()}function jx(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(jx).join(" ,")+"}"}(t):"Filter"}class ZM extends dt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class XM extends dt{constructor(e,n){super(e,"in",n),this.keys=Ux("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JM extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Ux("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ux(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class e6 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Py(n)&&zl(n.arrayValue,this.value)}}class t6 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class n6 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class r6 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Yw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new i6(t,e,n,r,i,s,o)}function Ay(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.ue=n}return e.ue}function ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qw(t.startAt,e.startAt)&&Qw(t.endAt,e.endAt)}function Rg(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function s6(t,e,n,r,i,s,o,a){return new ta(t,e,n,r,i,s,o,a)}function Ny(t){return new ta(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bx(t){return t.collectionGroup!==null}function ul(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Hl(s,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Hl(Rt.keyField(),r))}return e.ce}function hr(t){const e=ye(t);return e.le||(e.le=o6(e,ul(t))),e.le}function o6(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Hl(i.field,s)});const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kd(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return ky(hr(t),hr(e))&&t.limitType===e.limitType}function $x(t){return`${Ay(hr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jx(i)).join(", ")}]`),sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vo(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ul(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Kw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ul(r),i)||r.endAt&&!function(o,a,l){const u=Kw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ul(r),i))}(t,e)}function a6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zx(t){return(e,n)=>{let r=!1;for(const i of ul(t)){const s=l6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function l6(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Mo(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new et(le.comparator);function Hr(){return u6}const Hx=new et(le.comparator);function Wa(...t){let e=Hx;for(const n of t)e=e.insert(n.key,n);return e}function Wx(t){let e=Hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return cl()}function Gx(){return cl()}function cl(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const c6=new et(le.comparator),d6=new kt(le.comparator);function Te(...t){let e=d6;for(const n of t)e=e.add(n);return e}const h6=new kt(Ne);function f6(){return h6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function qx(t){return{integerValue:""+t}}function p6(t,e){return HM(e)?qx(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function m6(t,e,n){return t instanceof Qd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cy(s)&&(s=Ry(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wl?Qx(t,e):t instanceof Gl?Yx(t,e):function(i,s){const o=Kx(i,s),a=Xw(o)+Xw(i.Pe);return xg(o)&&xg(i.Pe)?qx(a):Oy(i.serializer,a)}(t,e)}function g6(t,e,n){return t instanceof Wl?Qx(t,e):t instanceof Gl?Yx(t,e):n}function Kx(t,e){return t instanceof Yd?function(r){return xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qd extends lf{}class Wl extends lf{constructor(e){super(),this.elements=e}}function Qx(t,e){const n=Zx(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends lf{constructor(e){super(),this.elements=e}}function Yx(t,e){let n=Zx(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Yd extends lf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xw(t){return it(t.integerValue||t.doubleValue)}function Zx(t){return Py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function v6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wl&&i instanceof Wl||r instanceof Gl&&i instanceof Gl?Lo(r.elements,i.elements,gr):r instanceof Yd&&i instanceof Yd?gr(r.Pe,i.Pe):r instanceof Qd&&i instanceof Qd}(t.transform,e.transform)}class y6{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uf{}function Xx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cf(t.key,dn.none()):new Ou(t.key,t.data,dn.none());{const n=t.data,r=on.empty();let i=new kt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new vn(i.toArray()),dn.none())}}function _6(t,e,n){t instanceof Ou?function(i,s,o){const a=i.value.clone(),l=eb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!nd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Jx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof Ou?function(s,o,a,l){if(!nd(s.precondition,o))return a;const u=s.value.clone(),d=tb(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!nd(s.precondition,o))return a;const u=tb(s.fieldTransforms,l,o),d=o.data;return d.setAll(Jx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return nd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Kx(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(s,o)=>v6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends uf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,g6(o,a,n[i]))}return r}function tb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,m6(s,o,e))}return r}class cf extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b6 extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Xx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>Jw(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>Jw(n,r))}}class Dy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return c6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,xe;function S6(t){switch(t){default:return ge();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function eC(t){if(t===void 0)return zr("GRPC error has no .code"),$.UNKNOWN;switch(t){case lt.OK:return $.OK;case lt.CANCELLED:return $.CANCELLED;case lt.UNKNOWN:return $.UNKNOWN;case lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case lt.INTERNAL:return $.INTERNAL;case lt.UNAVAILABLE:return $.UNAVAILABLE;case lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case lt.NOT_FOUND:return $.NOT_FOUND;case lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case lt.ABORTED:return $.ABORTED;case lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case lt.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(xe=lt||(lt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new gs([4294967295,4294967295],0);function nb(t){const e=x6().encode(t),n=new Ix;return n.update(e),new Uint8Array(n.digest())}function rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gs([n,r],0),new gs([i,s],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(r<0)throw new Ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=gs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(gs.fromNumber(r)));return i.compare(C6)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nb(e),[r,i]=rb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ly(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=nb(e),[r,i]=rb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new df(ve.min(),i,new et(Ne),Hr(),Te())}}class Du{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tC{constructor(e,n){this.targetId=e,this.me=n}}class nC{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ib{constructor(){this.fe=0,this.ge=ob(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Du(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ob()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class R6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=sb(),this.Qe=new et(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Rg(s))if(r===0){const o=new le(s.path);this.Ue(n,o,zt.newNoDocument(o,ve.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Rs(r).toUint8Array()}catch(l){if(l instanceof Ox)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ly(o,i,s)}catch(l){return Do(l instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Rg(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,zt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new df(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=sb(),this.Qe=new et(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ib,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ib),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sb(){return new et(le.comparator)}function ob(){return new et(le.comparator)}const P6={asc:"ASCENDING",desc:"DESCENDING"},A6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k6={and:"AND",or:"OR"};class N6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function Zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O6(t,e){return Zd(t,e.toTimestamp())}function fr(t){return je(!!t),ve.fromTimestamp(function(n){const r=Vi(n);return new Qe(r.seconds,r.nanos)}(t))}function My(t,e){return kg(t,e).canonicalString()}function kg(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=Ge.fromString(t);return je(uC(e)),e}function Ng(t,e){return My(t.databaseId,e.path)}function qp(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(oC(n))}function sC(t,e){return My(t.databaseId,e)}function D6(t){const e=iC(t);return e.length===4?Ge.emptyPath():oC(e)}function Og(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oC(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ab(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function L6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(je(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:eC(u.code);return new te(d,u.message||"")}(o);n=new nC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qp(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):ve.min(),a=new on({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new rd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qp(t,r.document),s=r.readTime?fr(r.readTime):ve.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qp(t,r.document),s=r.removedTargetIds||[];n=new rd([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new I6(i,s),a=r.targetId;n=new tC(a,o)}}return n}function M6(t,e){let n;if(e instanceof Ou)n={update:ab(t,e.key,e.value)};else if(e instanceof cf)n={delete:Ng(t,e.key)};else if(e instanceof Zi)n={update:ab(t,e.key,e.data),updateMask:W6(e.fieldMask)};else{if(!(e instanceof b6))return ge();n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function V6(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(ve.min())&&(o=fr(s)),new y6(o,i.transformResults||[])}(n,e))):[]}function F6(t,e){return{documents:[sC(t,e.path)]}}function j6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sC(t,i);const s=function(u){if(u.length!==0)return lC(Xn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Qs(f.field),direction:$6(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ag(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function U6(t){let e=D6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=aC(h);return f instanceof Xn&&Vx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Hl(Ys(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,sf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new qd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new qd(m,f)}(n.endAt)),s6(e,i,o,s,a,"F",l,u)}function B6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ys(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ys(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>aC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function $6(t){return P6[t]}function z6(t){return A6[t]}function H6(t){return k6[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Rt.fromServerFormat(t.fieldPath)}function lC(t){return t instanceof dt?function(n){if(n.op==="=="){if(qw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(Gw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(Gw(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:z6(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(i=>lC(i));return r.length===1?r[0]:{compositeFilter:{op:H6(n.op),filters:r}}}(t):ge()}function W6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.ct=e}}function q6(t){const e=U6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.un=new Q6}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Mi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class Q6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fo(0)}static kn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,vn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=cl(),a=function(){return cl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),dl(d.mutation,u,d.mutation.getFieldMask(),Qe.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new Z6(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let i=new et((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Gx();d.forEach(f=>{if(!s.has(f)){const m=Xx(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(fs());let a=-1,l=s;return o.next(u=>W.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Te())).next(d=>({batchId:a,changes:Wx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,s).next(a=>W.forEach(a,l=>{const u=function(h,f){return new ta(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=Wa();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&dl(d.mutation,u,vn.empty(),Qe.now()),af(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:q6(i.bundledQuery),readTime:fr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.overlays=new et(le.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=fs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return W.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Tr=new kt(vt.Er),this.dr=new kt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Ge([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Ge([])),r=new vt(n,e),i=new vt(n,e+1);let s=Te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(vt.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ne);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new vt(new le(s),0);let a=new kt(Ne);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),W.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vt(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.Mr=e,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||UM(jM(d),r)<=0||(i.has(d.key)||af(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iV(this)}getSize(e){return W.resolve(this.size)}}class iV extends Y6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.persistence=e,this.Nr=new na(n=>Ay(n),ky),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vy,this.targetCount=0,this.kr=Fo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xy(0),this.Kr=!1,this.Kr=!0,this.$r=new tV,this.referenceDelegate=e(this),this.Ur=new sV(this),this.indexManager=new K6,this.remoteDocumentCache=function(i){return new rV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new G6(n),this.Gr=new J6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new aV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class aV extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Jr=new Vy,this.Yr=null}static Zr(e){return new Fy(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YO()?8:zM(qt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Aa()<=Ie.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(Aa()<=Ie.DEBUG&&re("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Aa()<=Ie.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):W.resolve())}Yi(e,n){if(Zw(n))return W.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kd(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Kd(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Zw(n)||i.isEqual(ve.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?W.resolve(null):(Aa()<=Ie.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(n)),this.rs(e,o,n,FM(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(zx(e));return n.forEach((i,s)=>{af(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Aa()<=Ie.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Ne),this._s=new na(s=>Ay(s),ky),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function dV(t,e,n,r){return new cV(t,e,n,r)}async function cC(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function hV(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=W.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(T=>{const w=u.docVersions.get(v);je(w!==null),T.version.compareTo(w)<0&&(h.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dC(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function fV(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(T,w,y){return T.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Hr(),u=Te();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(pV(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ve.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function pV(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function mV(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gV(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Dg(t,e,n){const r=ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nu(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function lb(t,e,n){const r=ye(t);let i=ve.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ye(l),f=h._s.get(d);return f!==void 0?W.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Te())).next(a=>(vV(r,a6(e),a),{documents:a,Ts:s})))}function vV(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ub{constructor(){this.activeTargetIds=f6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yV{constructor(){this.so=new ub,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ub,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function Kp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class EV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Kp(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(re("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=wV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Kp();return new Promise((o,a)=>{const l=new Sx;l.setWithCredentials(!0),l.listenOnce(xx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ed.NO_ERROR:const d=l.getResponseJson();re(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ed.TIMEOUT:re(jt,`RPC '${e}' ${s} timed out`),a(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const h=l.getStatus();if(re(jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(m.status);a(new te(v,m.message))}else a(new te($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re(jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(jt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Kp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Px(),a=Rx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(jt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const v=new bV({Io:w=>{m?re(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(re(jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(jt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},To:()=>h.close()}),T=(w,y,b)=>{w.listen(y,x=>{try{b(x)}catch(A){setTimeout(()=>{throw A},0)}})};return T(h,Ha.EventType.OPEN,()=>{m||(re(jt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),T(h,Ha.EventType.CLOSE,()=>{m||(m=!0,re(jt,`RPC '${e}' stream ${i} transport closed`),v.So())}),T(h,Ha.EventType.ERROR,w=>{m||(m=!0,Do(jt,`RPC '${e}' stream ${i} transport errored:`,w),v.So(new te($.UNAVAILABLE,"The operation could not be completed")))}),T(h,Ha.EventType.MESSAGE,w=>{var y;if(!m){const b=w.data[0];je(!!b);const x=b,A=x.error||((y=x[0])===null||y===void 0?void 0:y.error);if(A){re(jt,`RPC '${e}' stream ${i} received error:`,A);const L=A.status;let D=function(R){const P=lt[R];if(P!==void 0)return eC(P)}(L),I=A.message;D===void 0&&(D=$.INTERNAL,I="Unknown error status: "+L+" with message "+A.message),m=!0,v.So(new te(D,I)),h.close()}else re(jt,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),T(a,Cx.STAT_EVENT,w=>{w.stat===Ig.PROXY?re(jt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Ig.NOPROXY&&re(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return new N6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TV extends fC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=L6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?fr(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Og(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Rg(l)?{documents:F6(s,l)}:{query:j6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rC(s,o.resumeToken);const u=Ag(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Zd(s,o.snapshotVersion.toTimestamp());const u=Ag(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=B6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.a_(n)}}class IV extends fC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=V6(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Og(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>M6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,kg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,kg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Us(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.L_.add(4),await Lu(u),u.q_.set("Unknown"),u.L_.delete(4),await ff(u)}(this))})}),this.q_=new xV(r,i)}}async function ff(t){if(Us(t))for(const e of t.B_)await e(!0)}async function Lu(t){for(const e of t.B_)await e(!1)}function pC(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),zy(n)?$y(n):ra(n).r_()&&By(n,e))}function Uy(t,e){const n=ye(t),r=ra(n);n.N_.delete(e),r.r_()&&mC(n,e),n.N_.size===0&&(r.r_()?r.o_():Us(n)&&n.q_.set("Unknown"))}function By(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).A_(e)}function mC(t,e){t.Q_.xe(e),ra(t).R_(e)}function $y(t){t.Q_=new R6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.q_.v_()}function zy(t){return Us(t)&&!ra(t).n_()&&t.N_.size>0}function Us(t){return ye(t).L_.size===0}function gC(t){t.Q_=void 0}async function RV(t){t.q_.set("Online")}async function PV(t){t.N_.forEach((e,n)=>{By(t,e)})}async function AV(t,e){gC(t),zy(t)?(t.q_.M_(e),$y(t)):t.q_.set("Unknown")}async function kV(t,e,n){if(t.q_.set("Online"),e instanceof nC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xd(t,r)}else if(e instanceof rd?t.Q_.Ke(e):e instanceof tC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await dC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),mC(s,l);const h=new gi(d.target,l,u,d.sequenceNumber);By(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Xd(t,r)}}async function Xd(t,e,n){if(!Nu(e))throw e;t.L_.add(1),await Lu(t),t.q_.set("Offline"),n||(n=()=>dC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ff(t)})}function vC(t,e){return e().catch(n=>Xd(t,n,e))}async function pf(t){const e=ye(t),n=Fi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NV(e);)try{const i=await mV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,OV(e,i)}catch(i){await Xd(e,i)}yC(e)&&_C(e)}function NV(t){return Us(t)&&t.O_.length<10}function OV(t,e){t.O_.push(e);const n=Fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yC(t){return Us(t)&&!Fi(t).n_()&&t.O_.length>0}function _C(t){Fi(t).start()}async function DV(t){Fi(t).p_()}async function LV(t){const e=Fi(t);for(const n of t.O_)e.m_(n.mutations)}async function MV(t,e,n){const r=t.O_.shift(),i=Dy.from(r,e,n);await vC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pf(t)}async function VV(t,e){e&&Fi(t).V_&&await async function(r,i){if(function(o){return S6(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Fi(r).s_(),await vC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pf(r)}}(t,e),yC(t)&&_C(t)}async function db(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Us(n);n.L_.add(3),await Lu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ff(n)}async function FV(t,e){const n=ye(t);e?(n.L_.delete(2),await ff(n)):e||(n.L_.add(2),await Lu(n),n.q_.set("Unknown"))}function ra(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.w_(),new TV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:RV.bind(null,t),Ro:PV.bind(null,t),mo:AV.bind(null,t),d_:kV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),zy(t)?$y(t):t.q_.set("Unknown")):(await t.K_.stop(),gC(t))})),t.K_}function Fi(t){return t.U_||(t.U_=function(n,r,i){const s=ye(n);return s.w_(),new IV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DV.bind(null,t),mo:VV.bind(null,t),f_:LV.bind(null,t),g_:MV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await pf(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Nu(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.W_=new et(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jo(e,n,Eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class UV{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=fb(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new te($.ABORTED,"Firestore shutting down"))}}function fb(){return new na(t=>$x(t),of)}async function wC(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Wy(o,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Gy(n)}async function bC(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BV(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Gy(n)}function $V(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Gy(t){t.Y_.forEach(e=>{e.next()})}var Lg,pb;(pb=Lg||(Lg={})).ea="default",pb.Cache="cache";class EC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.key=e}}class IC{constructor(e){this.key=e}}class zV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=zx(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new hb,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=af(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?v!==T&&(r.track({type:3,doc:m}),w=!0):this.ga(f,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const T=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return T(m)-T(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new jo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new IC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return jo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WV{constructor(e){this.key=e,this.va=!1}}class GV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new na(a=>$x(a),of),this.Ma=new Map,this.xa=new Set,this.Oa=new et(le.comparator),this.Na=new Map,this.La=new Vy,this.Ba={},this.ka=new Map,this.qa=Fo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function qV(t,e,n=!0){const r=AC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await SC(r,e,n,!0),i}async function KV(t,e){const n=AC(t);await SC(n,e,!0,!1)}async function SC(t,e,n,r){const i=await gV(t.localStore,hr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await QV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&pC(t.remoteStore,i),a}async function QV(t,e,n,r,i){t.Ka=(h,f,m)=>async function(T,w,y,b){let x=w.view.ma(y);x.ns&&(x=await lb(T.localStore,w.query,!1).then(({documents:I})=>w.view.ma(I,x)));const A=b&&b.targetChanges.get(w.targetId),L=b&&b.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(x,T.isPrimaryClient,A,L);return gb(T,w.targetId,D.wa),D.snapshot}(t,h,f,m);const s=await lb(t.localStore,e,!0),o=new zV(e,s.Ts),a=o.ma(s.documents),l=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);gb(t,n,u.wa);const d=new HV(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function YV(t,e,n){const r=ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!of(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uy(r.remoteStore,i.targetId),Mg(r,i.targetId)}).catch(ku)):(Mg(r,i.targetId),await Dg(r.localStore,i.targetId,!0))}async function ZV(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uy(n.remoteStore,r.targetId))}async function XV(t,e,n){const r=s3(t);try{const i=await function(o,a){const l=ye(o),u=Qe.now(),d=a.reduce((m,v)=>m.add(v.key),Te());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Hr(),T=Te();return l.cs.getEntries(m,d).next(w=>{v=w,v.forEach((y,b)=>{b.isValidDocument()||(T=T.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{h=w;const y=[];for(const b of a){const x=w6(b,h.get(b.key).overlayedDocument);x!=null&&y.push(new Zi(b.key,x,Dx(x.value.mapValue),dn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,a)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Wx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new et(Ne)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Mu(r,i.changes),await pf(r.remoteStore)}catch(i){const s=Wy(i,"Failed to persist write");n.reject(s)}}async function xC(t,e){const n=ye(t);try{const r=await fV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await Mu(n,r,e)}catch(r){await ku(r)}}function mb(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Gy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JV(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(le.comparator);o=o.insert(s,zt.newNoDocument(s,ve.min()));const a=Te().add(s),l=new df(ve.min(),new Map,new et(Ne),o,a);await xC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),qy(r)}else await Dg(r.localStore,e,!1).then(()=>Mg(r,e,n)).catch(ku)}async function e3(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await hV(n.localStore,e);RC(n,r,null),CC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,i)}catch(i){await ku(i)}}async function t3(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(je(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);RC(r,e,n),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,i)}catch(i){await ku(i)}}function CC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function RC(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||PC(t,r)})}function PC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Uy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qy(t))}function gb(t,e,n){for(const r of n)r instanceof TC?(t.La.addReference(r.key,e),n3(t,r)):r instanceof IC?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||PC(t,r.key)):ge()}function n3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),qy(t))}function qy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new WV(n)),t.Oa=t.Oa.insert(n,r),pC(t.remoteStore,new gi(hr(Ny(n.path)),r,"TargetPurposeLimboResolution",xy.oe))}}async function Mu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=jy.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(u,f=>W.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>W.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Nu(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),v=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,T)}}}(r.localStore,s))}async function r3(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await cC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new te($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.hs)}}function i3(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function AC(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.Ca.d_=BV.bind(null,e.eventManager),e.Ca.$a=$V.bind(null,e.eventManager),e}function s3(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t3.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return dV(this.persistence,new uV,e.initialUser,this.serializer)}Ga(e){return new oV(Fy.Zr,this.serializer)}Wa(e){return new yV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UV}()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),r=function(s){return new EV(s)}(e.databaseInfo);return function(s,o,a,l){return new SV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new CV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mb(this.syncEngine,n,0),function(){return cb.D()?new cb:new _V}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new GV(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Lu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=kx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yp(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a3(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>db(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>db(e.remoteStore,i)),t._onlineComponents=e}async function a3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Yp(t,new Jd)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Yp(t,new Jd);return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await vb(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await vb(t,new Vg))),t._onlineComponents}function l3(t){return NC(t).then(e=>e.syncEngine)}async function Fg(t){const e=await NC(t),n=e.eventManager;return n.onListen=qV.bind(null,e.syncEngine),n.onUnlisten=YV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZV.bind(null,e.syncEngine),n}function u3(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new kC({next:f=>{d.Za(),o.enqueueAndForget(()=>bC(s,h)),f.fromCache&&l.source==="server"?u.reject(new te($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new EC(a,d,{includeMetadataChanges:!0,_a:!0});return wC(s,h)}(await Fg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c3(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _b(t){if(!le.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wb(t){if(le.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PM;switch(r.type){case"firstParty":return new OM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yb.get(n);r&&(re("ComponentProvider","Removing Datastore"),yb.delete(n),r.terminate())}(this),Promise.resolve()}}function d3(t,e,n,r={}){var i;const s=(t=Kn(t,gf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Bt.MOCK_USER;else{a=FS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bt(u)}t._authCredentials=new AM(new Ax(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ai extends Yr{constructor(e,n,r){super(e,n,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new le(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Or(t,e,...n){if(t=at(t),DC("collection","path",e),t instanceof gf){const r=Ge.fromString(e,...n);return wb(r),new Ai(t,null,r)}{if(!(t instanceof hn||t instanceof Ai))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return wb(r),new Ai(t.firestore,null,r)}}function Cr(t,e,...n){if(t=at(t),arguments.length===1&&(e=kx.newId()),DC("doc","path",e),t instanceof gf){const r=Ge.fromString(e,...n);return _b(r),new hn(t,null,new le(r))}{if(!(t instanceof hn||t instanceof Ai))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return _b(r),new hn(t.firestore,t instanceof Ai?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hC(this,"async_queue_retry"),this.Vu=()=>{const r=Qp();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Hy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Tb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Eb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function LC(t,e){const n=typeof t=="object"?t:my(),r=typeof t=="string"?t:"(default)",i=ef(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LS("firestore");s&&d3(i,...s)}return i}function vf(t){if(t._terminated)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h3(t),t._firestoreClient}function h3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new GM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new o3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Ot.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^__.*__$/;class p3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Zy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Zy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VC(this.Cu)&&f3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class m3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hf(e)}Qu(e,n,r,i=!1){return new Zy({Cu:e,methodName:n,qu:r,path:Rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(t){const e=t._freezeSettings(),n=hf(t._databaseId);return new m3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FC(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Xy("Data must be an object, but it was:",o,r);const a=BC(r,o);let l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=jg(e,h,n);if(!o.contains(f))throw new te($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zC(d,f)||d.push(f)}l=new vn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new p3(new on(a),l,u)}class _f extends Ky{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function jC(t,e,n,r){const i=t.Qu(1,e,n);Xy("Data must be an object, but it was:",i,r);const s=[],o=on.empty();js(r,(l,u)=>{const d=Jy(e,l,n);u=at(u);const h=i.Nu(d);if(u instanceof _f)s.push(d);else{const f=Fu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new vn(s);return new MC(o,a,i.fieldTransforms)}function UC(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[jg(e,r,n)],l=[i];if(s.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(jg(e,s[f])),l.push(s[f+1]);const u=[],d=on.empty();for(let f=a.length-1;f>=0;--f)if(!zC(u,a[f])){const m=a[f];let v=l[f];v=at(v);const T=o.Nu(m);if(v instanceof _f)u.push(m);else{const w=Fu(v,T);w!=null&&(u.push(m),d.set(m,w))}}const h=new vn(u);return new MC(d,h,o.fieldTransforms)}function g3(t,e,n,r=!1){return Fu(n,t.Qu(r?4:3,e))}function Fu(t,e){if($C(t=at(t)))return Xy("Unsupported field value:",e,t),BC(t,e);if(t instanceof Ky)return function(r,i){if(!VC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Fu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:Zd(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zd(i.serializer,s)}}if(r instanceof Qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:rC(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:My(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Oy(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${mf(r)}`)}(t,e)}function BC(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const s=Fu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $C(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Qy||t instanceof Uo||t instanceof hn||t instanceof Ky||t instanceof Yy)}function Xy(t,e,n){if(!$C(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jg(t,e,n){if((e=at(e))instanceof Vu)return e._internalPath;if(typeof e=="string")return Jy(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const v3=new RegExp("[~\\*/\\[\\]]");function Jy(t,e,n){if(e.search(v3)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vu(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te($.INVALID_ARGUMENT,a+t+l)}function zC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y3 extends HC{data(){return super.data()}}function wf(t,e){return typeof e=="string"?Jy(t,e):e instanceof Vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class t0 extends e0{}function vs(t,e,...n){let r=[];e instanceof e0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof n0).length,a=s.filter(l=>l instanceof bf).length;if(o>1||o>0&&a>0)throw new te($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bf extends t0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return GC(e._query,n),new Yr(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=yf(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Sb(h,d);const m=[];for(const v of h)m.push(Ib(l,s,v));f={arrayValue:{values:m}}}else f=Ib(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Sb(h,d),f=g3(a,o,h,d==="in"||d==="not-in");return dt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vi(t,e,n){const r=e,i=wf("where",t);return bf._create(i,r,n)}class n0 extends e0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)GC(o,l),o=Pg(o,l)}(e._query,n),new Yr(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class r0 extends t0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new r0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(s,o)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ta(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Ug(t,e="asc"){const n=e,r=wf("orderBy",t);return r0._create(r,n)}class i0 extends t0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new i0(e,n,r)}_apply(e){return new Yr(e.firestore,e.converter,Kd(e._query,this._limit,this._limitType))}}function _3(t){return i0._create("limit",t,"F")}function Ib(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new te($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bx(e)&&n.indexOf("/")!==-1)throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!le.isDocumentKey(r))throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ww(t,new le(r))}if(n instanceof hn)return Ww(t,n._key);throw new te($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function Sb(t,e){if(!Array.isArray(t)||t.length===0)throw new te($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w3{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return js(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>it(o.doubleValue));return new Yy(s)}convertGeoPoint(e){return new Qy(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);je(uC(r));const i=new $l(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KC extends HC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class id extends KC{data(e={}){return super.data(e)}}class QC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new id(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:b3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class s0 extends w3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Zp(t){t=Kn(t,Yr);const e=Kn(t.firestore,ji),n=vf(e),r=new s0(e);return WC(t._query),u3(n,t._query).then(i=>new QC(e,r,t,i))}function o0(t,e,n,...r){t=Kn(t,hn);const i=Kn(t.firestore,ji),s=yf(i);let o;return o=typeof(e=at(e))=="string"||e instanceof Vu?UC(s,"updateDoc",t._key,e,n,r):jC(s,"updateDoc",t._key,e),Ef(i,[o.toMutation(t._key,dn.exists(!0))])}function YC(t){return Ef(Kn(t.firestore,ji),[new cf(t._key,dn.none())])}function ZC(t,e){const n=Kn(t.firestore,ji),r=Cr(t),i=qC(t.converter,e);return Ef(n,[FC(yf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function hl(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Tb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Tb(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof hn)u=Kn(t.firestore,ji),d=Ny(t._key.path),l={next:h=>{e[o]&&e[o](E3(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Kn(t,Yr);u=Kn(h.firestore,ji),d=h._query;const f=new s0(u);l={next:m=>{e[o]&&e[o](new QC(u,f,h,m))},error:e[o+1],complete:e[o+2]},WC(t._query)}return function(f,m,v,T){const w=new kC(T),y=new EC(m,w,v);return f.asyncQueue.enqueueAndForget(async()=>wC(await Fg(f),y)),()=>{w.Za(),f.asyncQueue.enqueueAndForget(async()=>bC(await Fg(f),y))}}(vf(u),d,a,l)}function Ef(t,e){return function(r,i){const s=new Pi;return r.asyncQueue.enqueueAndForget(async()=>XV(await l3(r),i,s)),s.promise}(vf(t),e)}function E3(t,e,n){const r=n.docs.get(e._key),i=new s0(t);return new KC(t,i,e._key,r,new qa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yf(e)}set(e,n,r){this._verifyNotCommitted();const i=Xp(e,this._firestore),s=qC(i.converter,n,r),o=FC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Xp(e,this._firestore);let o;return o=typeof(n=at(n))=="string"||n instanceof Vu?UC(this._dataReader,"WriteBatch.update",s._key,n,r,i):jC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xp(e,this._firestore);return this._mutations=this._mutations.concat(new cf(n._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xp(t,e){if((t=at(t)).firestore!==e)throw new te($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return vf(t=Kn(t,ji)),new T3(t,e=>Ef(t,e))}(function(e,n=!0){(function(i){ea=i})(Fs),Is(new Li("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ji(new kM(r.getProvider("auth-internal")),new LM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ur(Uw,"4.7.3",e),ur(Uw,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebasestorage.googleapis.com",S3="storageBucket",x3=2*60*1e3,C3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ht{constructor(e,n,r=0){super(Jp(e),`Firebase Storage: ${n} (${Jp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function Jp(t){return"storage/"+t}function R3(){const t="An unknown error occurred, please check the error payload for server response.";return new wr(vr.UNKNOWN,t)}function P3(){return new wr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A3(){return new wr(vr.CANCELED,"User canceled the upload/download.")}function k3(t){return new wr(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function N3(t){return new wr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xb(t){return new wr(vr.INVALID_ARGUMENT,t)}function JC(){return new wr(vr.APP_DELETED,"The Firebase app was deleted.")}function O3(t){return new wr(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zn.makeFromUrl(e,n)}catch{return new zn(e,"")}if(r.path==="")return r;throw N3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},T=n===XC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${T}/${i}/${w}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:m,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<x.length;A++){const L=x[A],D=L.regex.exec(e);if(D){const I=D[L.indices.bucket];let _=D[L.indices.path];_||(_=""),r=new zn(I,_),L.postModify(r);break}}if(r==null)throw k3(e);return r}}class D3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(m,l())},w)}function f(){s&&clearTimeout(s)}function m(w,...y){if(u){f();return}if(w){f(),d.call(null,w,...y);return}if(l()||o){f(),d.call(null,w,...y);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let v=!1;function T(w){v||(v=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function M3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){return t!==void 0}function Cb(t,e,n,r){if(r<e)throw xb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xb(`Invalid value for '${t}'. Expected ${n} or less.`)}function F3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var th;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(th||(th={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===th.NO_ERROR,l=s.getStatus();if(!a||j3(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===th.ABORT;r(!1,new Rc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Rc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());V3(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=R3();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?JC():A3();o(l)}else{const l=P3();o(l)}};this.canceled_?n(!1,new Rc(!1,null,!0)):this.backoffId_=L3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function B3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W3(t,e,n,r,i,s,o=!0){const a=F3(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return z3(u,e),B3(u,n),$3(u,s),H3(u,r),new U3(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nh(e,n)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q3(this._location.path)}get storage(){return this._service}get parent(){const e=G3(this._location.path);if(e===null)return null;const n=new zn(this._location.bucket,e);return new nh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw O3(e)}}function Rb(t,e){const n=e==null?void 0:e[S3];return n==null?null:zn.makeFromBucketSpec(n,t)}function K3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:FS(i,t.app.options.projectId))}class Q3{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=XC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x3,this._maxUploadRetryTime=C3,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=Rb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new D3(JC());{const o=W3(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Pb="@firebase/storage",Ab="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="storage";function Y3(t=my(),e){t=at(t);const r=ef(t,e2).getImmediate({identifier:e}),i=LS("storage");return i&&Z3(r,...i),r}function Z3(t,e,n,r={}){K3(t,e,n,r)}function X3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Q3(n,r,i,e,Fs)}function J3(){Is(new Li(e2,X3,"PUBLIC").setMultipleInstances(!0)),ur(Pb,Ab,""),ur(Pb,Ab,"esm2017")}J3();const eF={apiKey:"AIzaSyDIdfV4qdAUg1pBWl7PGgwnMeE5n7zpUZQ",authDomain:"kanban-29a8e.firebaseapp.com",projectId:"kanban-29a8e",storageBucket:"kanban-29a8e.appspot.com",messagingSenderId:"828301283650",appId:"1:828301283650:web:385e59aa3d54431beab8db"},Tf=BS(eF),To=CM(Tf);LC(Tf);Y3(Tf);const _t=LC(Tf);var Ce;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ce||(Ce={}));var Bg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bg||(Bg={}));const ee=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),di=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},K=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tF=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Wt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wt.create=t=>new Wt(t);const Bo=(t,e)=>{let n;switch(t.code){case K.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case K.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case K.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(t)}return{message:n}};let t2=Bo;function nF(t){t2=t}function rh(){return t2}const ih=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},rF=[];function J(t,e){const n=rh(),r=ih({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Bo?void 0:Bo].filter(i=>!!i)});t.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Kt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),ho=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),$g=t=>t.status==="aborted",zg=t=>t.status==="dirty",ql=t=>t.status==="valid",Kl=t=>typeof Promise<"u"&&t instanceof Promise;function sh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function n2(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));var Ka,Qa;class yr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kb=(t,e)=>{if(ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wt(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class we{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return di(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},s=this._parseSync({data:e,path:i.path,parent:i});return kb(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Kl(i)?i:Promise.resolve(i));return kb(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:K.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Jn({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pr.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qn.create(this,this._def)}promise(){return zo.create(this,this._def)}or(e){return Xl.create([this,e],this._def)}and(e){return Jl.create(this,e,this._def)}transform(e){return new Jn({..._e(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iu({..._e(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new a0({typeName:he.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new su({..._e(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ju.create(this,e)}readonly(){return ou.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iF=/^c[^\s-]{8,}$/i,sF=/^[0-9a-z]+$/,oF=/^[0-9A-HJKMNP-TV-Z]{26}$/,aF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lF=/^[a-z0-9_-]{21}$/i,uF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let em;const hF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,pF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,r2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mF=new RegExp(`^${r2}$`);function i2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function gF(t){return new RegExp(`^${i2(t)}$`)}function s2(t){let e=`${r2}T${i2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function vF(t,e){return!!((e==="v4"||!e)&&hF.test(t)||(e==="v6"||!e)&&fF.test(t))}class Hn extends we{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return J(s,{code:K.invalid_type,expected:ee.string,received:s.parsedType}),me}const r=new Kt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?J(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&J(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")cF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"email",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")em||(em=new RegExp(dF,"u")),em.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"emoji",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")aF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"uuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")lF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"nanoid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")iF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"cuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")sF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"cuid2",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")oF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"ulid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),J(i,{validation:"url",code:K.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"regex",code:K.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?s2(s).test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?mF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?gF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:K.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?uF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"duration",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?vF(e.data,s.version)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"ip",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?pF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"base64",code:K.invalid_string,message:s.message}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:K.invalid_string,...se.errToObj(r)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>{var e;return new Hn({checks:[],typeName:he.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};function yF(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ui extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return J(s,{code:K.invalid_type,expected:ee.number,received:s.parsedType}),me}let r;const i=new Kt;for(const s of this._def.checks)s.kind==="int"?Ce.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:K.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?yF(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:K.not_finite,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new Ui({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ui.create=t=>new Ui({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class Bi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return J(s,{code:K.invalid_type,expected:ee.bigint,received:s.parsedType}),me}let r;const i=new Kt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new Bi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Bi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Bi.create=t=>{var e;return new Bi({checks:[],typeName:he.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};class Ql extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.boolean,received:r.parsedType}),me}return tn(e.data)}}Ql.create=t=>new Ql({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class As extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return J(s,{code:K.invalid_type,expected:ee.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return J(s,{code:K.invalid_date}),me}const r=new Kt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:K.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:K.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new As({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}As.create=t=>new As({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,..._e(t)});class oh extends we{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.symbol,received:r.parsedType}),me}return tn(e.data)}}oh.create=t=>new oh({typeName:he.ZodSymbol,..._e(t)});class Yl extends we{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.undefined,received:r.parsedType}),me}return tn(e.data)}}Yl.create=t=>new Yl({typeName:he.ZodUndefined,..._e(t)});class Zl extends we{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.null,received:r.parsedType}),me}return tn(e.data)}}Zl.create=t=>new Zl({typeName:he.ZodNull,..._e(t)});class $o extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}$o.create=t=>new $o({typeName:he.ZodAny,..._e(t)});class ys extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}ys.create=t=>new ys({typeName:he.ZodUnknown,..._e(t)});class Wr extends we{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:K.invalid_type,expected:ee.never,received:n.parsedType}),me}}Wr.create=t=>new Wr({typeName:he.ZodNever,..._e(t)});class ah extends we{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.void,received:r.parsedType}),me}return tn(e.data)}}ah.create=t=>new ah({typeName:he.ZodVoid,..._e(t)});class Qn extends we{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ee.array)return J(n,{code:K.invalid_type,expected:ee.array,received:n.parsedType}),me;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(J(n,{code:o?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(J(n,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(J(n,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new yr(n,o,n.path,a)))).then(o=>Kt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new yr(n,o,n.path,a)));return Kt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Qn({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new Qn({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new Qn({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}Qn.create=(t,e)=>new Qn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,..._e(e)});function Zs(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pr.create(Zs(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof Qn?new Qn({...t._def,type:Zs(t.element)}):t instanceof pr?pr.create(Zs(t.unwrap())):t instanceof zi?zi.create(Zs(t.unwrap())):t instanceof _r?_r.create(t.items.map(e=>Zs(e))):t}class Ye extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const u=this._getOrReturnCtx(e);return J(u,{code:K.invalid_type,expected:ee.object,received:u.parsedType}),me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wr&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new yr(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Wr){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(J(i,{code:K.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new yr(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(r,u)):Kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Ce.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Zs(this)}partial(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof pr;)s=s._def.innerType;n[r]=s}}),new Ye({...this._def,shape:()=>n})}keyof(){return o2(Ce.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});class Xl extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Wt(a.ctx.common.issues));return J(n,{code:K.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Wt(l));return J(n,{code:K.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}Xl.create=(t,e)=>new Xl({options:t,typeName:he.ZodUnion,..._e(e)});const Ir=t=>t instanceof tu?Ir(t.schema):t instanceof Jn?Ir(t.innerType()):t instanceof nu?[t.value]:t instanceof $i?t.options:t instanceof ru?Ce.objectValues(t.enum):t instanceof iu?Ir(t._def.innerType):t instanceof Yl?[void 0]:t instanceof Zl?[null]:t instanceof pr?[void 0,...Ir(t.unwrap())]:t instanceof zi?[null,...Ir(t.unwrap())]:t instanceof a0||t instanceof ou?Ir(t.unwrap()):t instanceof su?Ir(t._def.innerType):[];class If extends we{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return J(n,{code:K.invalid_type,expected:ee.object,received:n.parsedType}),me;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ir(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new If({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,..._e(r)})}}function Hg(t,e){const n=di(t),r=di(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const i=Ce.objectKeys(e),s=Ce.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Hg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Hg(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jl extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if($g(s)||$g(o))return me;const a=Hg(s.value,o.value);return a.valid?((zg(s)||zg(o))&&n.dirty(),{status:n.value,value:a.data}):(J(r,{code:K.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Jl.create=(t,e,n)=>new Jl({left:t,right:e,typeName:he.ZodIntersection,..._e(n)});class _r extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return J(r,{code:K.invalid_type,expected:ee.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return J(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new yr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Kt.mergeArray(n,o)):Kt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new _r({...this._def,rest:e})}}_r.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _r({items:t,typeName:he.ZodTuple,rest:null,..._e(e)})};class eu extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return J(r,{code:K.invalid_type,expected:ee.object,received:r.parsedType}),me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new yr(r,a,r.path,a)),value:o._parse(new yr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kt.mergeObjectAsync(n,i):Kt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof we?new eu({keyType:e,valueType:n,typeName:he.ZodRecord,..._e(r)}):new eu({keyType:Hn.create(),valueType:e,typeName:he.ZodRecord,..._e(n)})}}class lh extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return J(r,{code:K.invalid_type,expected:ee.map,received:r.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new yr(r,a,r.path,[u,"key"])),value:s._parse(new yr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}lh.create=(t,e,n)=>new lh({valueType:e,keyType:t,typeName:he.ZodMap,..._e(n)});class ks extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return J(r,{code:K.invalid_type,expected:ee.set,received:r.parsedType}),me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(J(r,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(J(r,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new yr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new ks({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new ks({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ks.create=(t,e)=>new ks({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,..._e(e)});class Io extends we{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return J(n,{code:K.invalid_type,expected:ee.function,received:n.parsedType}),me;function r(a,l){return ih({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rh(),Bo].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:l}})}function i(a,l){return ih({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rh(),Bo].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof zo){const a=this;return tn(async function(...l){const u=new Wt([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const a=this;return tn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Wt([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new Wt([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Io({...this._def,args:_r.create(e).rest(ys.create())})}returns(e){return new Io({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Io({args:e||_r.create([]).rest(ys.create()),returns:n||ys.create(),typeName:he.ZodFunction,..._e(r)})}}class tu extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tu.create=(t,e)=>new tu({getter:t,typeName:he.ZodLazy,..._e(e)});class nu extends we{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}nu.create=(t,e)=>new nu({value:t,typeName:he.ZodLiteral,..._e(e)});function o2(t,e){return new $i({values:t,typeName:he.ZodEnum,..._e(e)})}class $i extends we{constructor(){super(...arguments),Ka.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Ce.joinValues(r),received:n.parsedType,code:K.invalid_type}),me}if(sh(this,Ka)||n2(this,Ka,new Set(this._def.values)),!sh(this,Ka).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:K.invalid_enum_value,options:r}),me}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $i.create(e,{...this._def,...n})}exclude(e,n=this._def){return $i.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ka=new WeakMap;$i.create=o2;class ru extends we{constructor(){super(...arguments),Qa.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const i=Ce.objectValues(n);return J(r,{expected:Ce.joinValues(i),received:r.parsedType,code:K.invalid_type}),me}if(sh(this,Qa)||n2(this,Qa,new Set(Ce.getValidEnumValues(this._def.values))),!sh(this,Qa).has(e.data)){const i=Ce.objectValues(n);return J(r,{received:r.data,code:K.invalid_enum_value,options:i}),me}return tn(e.data)}get enum(){return this._def.values}}Qa=new WeakMap;ru.create=(t,e)=>new ru({values:t,typeName:he.ZodNativeEnum,..._e(e)});class zo extends we{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return J(n,{code:K.invalid_type,expected:ee.promise,received:n.parsedType}),me;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return tn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}zo.create=(t,e)=>new zo({type:t,typeName:he.ZodPromise,..._e(e)});class Jn extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{J(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?ho(l.value):l});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?ho(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ql(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ql(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Ce.assertNever(i)}}Jn.create=(t,e,n)=>new Jn({schema:t,typeName:he.ZodEffects,effect:e,..._e(n)});Jn.createWithPreprocess=(t,e,n)=>new Jn({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,..._e(n)});class pr extends we{_parse(e){return this._getType(e)===ee.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pr.create=(t,e)=>new pr({innerType:t,typeName:he.ZodOptional,..._e(e)});class zi extends we{_parse(e){return this._getType(e)===ee.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:he.ZodNullable,..._e(e)});class iu extends we{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class su extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kl(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class uh extends we{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return J(r,{code:K.invalid_type,expected:ee.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}uh.create=t=>new uh({typeName:he.ZodNaN,..._e(t)});const _F=Symbol("zod_brand");class a0 extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ju extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),ho(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new ju({in:e,out:n,typeName:he.ZodPipeline})}}class ou extends we{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ql(i)&&(i.value=Object.freeze(i.value)),i);return Kl(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:he.ZodReadonly,..._e(e)});function a2(t,e={},n){return t?$o.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):$o.create()}const wF={object:Ye.lazycreate};var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const bF=(t,e={message:`Input not instance of ${t.name}`})=>a2(n=>n instanceof t,e),l2=Hn.create,u2=Ui.create,EF=uh.create,TF=Bi.create,c2=Ql.create,IF=As.create,SF=oh.create,xF=Yl.create,CF=Zl.create,RF=$o.create,PF=ys.create,AF=Wr.create,kF=ah.create,NF=Qn.create,OF=Ye.create,DF=Ye.strictCreate,LF=Xl.create,MF=If.create,VF=Jl.create,FF=_r.create,jF=eu.create,UF=lh.create,BF=ks.create,$F=Io.create,zF=tu.create,HF=nu.create,WF=$i.create,GF=ru.create,qF=zo.create,Nb=Jn.create,KF=pr.create,QF=zi.create,YF=Jn.createWithPreprocess,ZF=ju.create,XF=()=>l2().optional(),JF=()=>u2().optional(),e5=()=>c2().optional(),t5={string:t=>Hn.create({...t,coerce:!0}),number:t=>Ui.create({...t,coerce:!0}),boolean:t=>Ql.create({...t,coerce:!0}),bigint:t=>Bi.create({...t,coerce:!0}),date:t=>As.create({...t,coerce:!0})},n5=me;var fl=Object.freeze({__proto__:null,defaultErrorMap:Bo,setErrorMap:nF,getErrorMap:rh,makeIssue:ih,EMPTY_PATH:rF,addIssueToContext:J,ParseStatus:Kt,INVALID:me,DIRTY:ho,OK:tn,isAborted:$g,isDirty:zg,isValid:ql,isAsync:Kl,get util(){return Ce},get objectUtil(){return Bg},ZodParsedType:ee,getParsedType:di,ZodType:we,datetimeRegex:s2,ZodString:Hn,ZodNumber:Ui,ZodBigInt:Bi,ZodBoolean:Ql,ZodDate:As,ZodSymbol:oh,ZodUndefined:Yl,ZodNull:Zl,ZodAny:$o,ZodUnknown:ys,ZodNever:Wr,ZodVoid:ah,ZodArray:Qn,ZodObject:Ye,ZodUnion:Xl,ZodDiscriminatedUnion:If,ZodIntersection:Jl,ZodTuple:_r,ZodRecord:eu,ZodMap:lh,ZodSet:ks,ZodFunction:Io,ZodLazy:tu,ZodLiteral:nu,ZodEnum:$i,ZodNativeEnum:ru,ZodPromise:zo,ZodEffects:Jn,ZodTransformer:Jn,ZodOptional:pr,ZodNullable:zi,ZodDefault:iu,ZodCatch:su,ZodNaN:uh,BRAND:_F,ZodBranded:a0,ZodPipeline:ju,ZodReadonly:ou,custom:a2,Schema:we,ZodSchema:we,late:wF,get ZodFirstPartyTypeKind(){return he},coerce:t5,any:RF,array:NF,bigint:TF,boolean:c2,date:IF,discriminatedUnion:MF,effect:Nb,enum:WF,function:$F,instanceof:bF,intersection:VF,lazy:zF,literal:HF,map:UF,nan:EF,nativeEnum:GF,never:AF,null:CF,nullable:QF,number:u2,object:OF,oboolean:e5,onumber:JF,optional:KF,ostring:XF,pipeline:ZF,preprocess:YF,promise:qF,record:jF,set:BF,strictObject:DF,string:l2,symbol:SF,transformer:Nb,tuple:FF,undefined:xF,union:LF,unknown:PF,void:kF,NEVER:n5,ZodIssueCode:K,quotelessJson:tF,ZodError:Wt});const r5=fl.object({email:fl.string().email({message:"Invalid email address"}),password:fl.string().min(6,{message:"Password must be at least 6 characters"})}),i5=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),o=Iu(),a=async l=>{l.preventDefault(),s("");try{const u=r5.parse({email:t,password:n});await fL(To,u.email,u.password),o("/dashboard")}catch(u){if(u instanceof Wt){const d=u.errors.map(h=>h.message).join(" ");s(d)}else u instanceof Ht||u instanceof Error?s(u.message):s("An unexpected error occurred.")}};return E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100",children:E.jsxs("form",{onSubmit:a,className:"bg-white p-6 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full md:max-w-[35vw] rounded-lg",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold  mb-4 text-center ",children:"Sign Up"}),i&&E.jsx("div",{className:"mb-4 text-red-500 text-sm",children:i}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Email"}),E.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border mt-1 rounded-lg",value:t,onChange:l=>e(l.target.value),placeholder:"Email"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Password"}),E.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border rounded-lg mt-1",value:n,onChange:l=>r(l.target.value),placeholder:"Password"})]}),E.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white text-lg py-2 rounded-lg hover:bg-blue-700 hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Sign Up"}),E.jsxs("p",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",E.jsx(ft,{to:"/login",className:"text-blue-500 hover:underline","aria-label":"Sign Up",children:"Login"})]})]})})};var d2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ob=Me.createContext&&Me.createContext(d2),s5=["attr","size","title"];function o5(t,e){if(t==null)return{};var n=a5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function Db(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(n),!0).forEach(function(r){l5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l5(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=c5(t,"string");return typeof e=="symbol"?e:e+""}function c5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h2(t){return t&&t.map((e,n)=>Me.createElement(e.tag,dh({key:n},e.attr),h2(e.child)))}function Re(t){return e=>Me.createElement(d5,ch({attr:dh({},t.attr)},e),h2(t.child))}function d5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=o5(t,s5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Me.createElement("svg",ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:dh(dh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),t.children)};return Ob!==void 0?Me.createElement(Ob.Consumer,null,n=>e(n)):e(d2)}function Lb(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function h5(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function f2(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function f5(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function p5(t){return Re({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function hh(t){return Re({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Wg(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function m5(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(t)}function p2(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function g5(t){return Re({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function v5(t){return Re({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function Gg(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function y5(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function _5(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function qg(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Mb(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function Vb(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function m2(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function fh(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function l0(t){return Re({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function g2(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function w5(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Fb(t){return Re({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function jb(t){return Re({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function u0(t){return Re({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function b5(t,e){N.useEffect(()=>{const n=r=>{const i=t==null?void 0:t.current;!i||i.contains(r.target)||e(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}var v2={exports:{}},E5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",T5=E5,I5=T5;function y2(){}function _2(){}_2.resetWarningCache=y2;var S5=function(){function t(r,i,s,o,a,l){if(l!==I5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_2,resetWarningCache:y2};return n.PropTypes=n,n};v2.exports=S5();var x5=v2.exports;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var w2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ph=w2.join(","),b2=typeof Element>"u",Ns=b2?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mh=!b2&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},gh=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},C5=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},E2=function(e,n,r){if(gh(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(ph));return n&&Ns.call(e,ph)&&i.unshift(e),i=i.filter(r),i},T2=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!gh(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var d=Ns.call(o,ph);d&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!gh(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&f){var m=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},I2=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},hi=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||C5(e))&&!I2(e)?0:e.tabIndex},R5=function(e,n){var r=hi(e);return r<0&&n&&!I2(e)?0:r},P5=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},S2=function(e){return e.tagName==="INPUT"},A5=function(e){return S2(e)&&e.type==="hidden"},k5=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},N5=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},O5=function(e){if(!e.name)return!0;var n=e.form||mh(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=N5(i,e.form);return!s||s===e},D5=function(e){return S2(e)&&e.type==="radio"},L5=function(e){return D5(e)&&!O5(e)},M5=function(e){var n,r=e&&mh(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var u,d,h;r=mh(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((d=i)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},Ub=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},V5=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Ns.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Ns.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,u=mh(e);if(l&&!l.shadowRoot&&i(l)===!0)return Ub(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(M5(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ub(e);return!1},F5=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Ns.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},vh=function(e,n){return!(n.disabled||gh(n)||A5(n)||V5(n,e)||k5(n)||F5(n))},Kg=function(e,n){return!(L5(n)||hi(n)<0||!vh(e,n))},j5=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},U5=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=R5(a,o),u=o?t(i.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),r.sort(P5).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},x2=function(e,n){n=n||{};var r;return n.getShadowRoot?r=T2([e],n.includeContainer,{filter:Kg.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:j5}):r=E2(e,n.includeContainer,Kg.bind(null,n)),U5(r)},C2=function(e,n){n=n||{};var r;return n.getShadowRoot?r=T2([e],n.includeContainer,{filter:vh.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=E2(e,n.includeContainer,vh.bind(null,n)),r},ls=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ns.call(e,ph)===!1?!1:Kg(n,e)},B5=w2.concat("iframe").join(","),sd=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ns.call(e,B5)===!1?!1:vh(n,e)};const $5=Object.freeze(Object.defineProperty({__proto__:null,focusable:C2,getTabIndex:hi,isFocusable:sd,isTabbable:ls,tabbable:x2},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function z5(t,e,n){return(e=W5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(n),!0).forEach(function(r){z5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W5(t){var e=H5(t,"string");return typeof e=="symbol"?e:e+""}var zb={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},G5=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},q5=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},pl=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},K5=function(e){return pl(e)&&!e.shiftKey},Q5=function(e){return pl(e)&&e.shiftKey},Hb=function(e){return setTimeout(e,0)},Wb=function(e,n){var r=-1;return e.every(function(i,s){return n(i)?(r=s,!1):!0}),r},ka=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Pc=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Y5=[],Z5=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||Y5,s=$b({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:K5,isKeyBackward:Q5},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(S,F,B){return S&&S[F]!==void 0?S[F]:s[B||F]},u=function(S,F){var B=typeof(F==null?void 0:F.composedPath)=="function"?F.composedPath():void 0;return o.containerGroups.findIndex(function(G){var U=G.container,M=G.tabbableNodes;return U.contains(S)||(B==null?void 0:B.includes(U))||M.find(function(z){return z===S})})},d=function(S){var F=s[S];if(typeof F=="function"){for(var B=arguments.length,G=new Array(B>1?B-1:0),U=1;U<B;U++)G[U-1]=arguments[U];F=F.apply(void 0,G)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(S,"` was specified but was not a node, or did not return a node"))}var M=F;if(typeof F=="string"&&(M=r.querySelector(F),!M))throw new Error("`".concat(S,"` as selector refers to no known node"));return M},h=function(){var S=d("initialFocus");if(S===!1)return!1;if(S===void 0||!sd(S,s.tabbableOptions))if(u(r.activeElement)>=0)S=r.activeElement;else{var F=o.tabbableGroups[0],B=F&&F.firstTabbableNode;S=B||d("fallbackFocus")}if(!S)throw new Error("Your focus-trap needs to have at least one focusable element");return S},f=function(){if(o.containerGroups=o.containers.map(function(S){var F=x2(S,s.tabbableOptions),B=C2(S,s.tabbableOptions),G=F.length>0?F[0]:void 0,U=F.length>0?F[F.length-1]:void 0,M=B.find(function(X){return ls(X)}),z=B.slice().reverse().find(function(X){return ls(X)}),H=!!F.find(function(X){return hi(X)>0});return{container:S,tabbableNodes:F,focusableNodes:B,posTabIndexesFound:H,firstTabbableNode:G,lastTabbableNode:U,firstDomTabbableNode:M,lastDomTabbableNode:z,nextTabbableNode:function(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,be=F.indexOf(Q);return be<0?ie?B.slice(B.indexOf(Q)+1).find(function(fe){return ls(fe)}):B.slice(0,B.indexOf(Q)).reverse().find(function(fe){return ls(fe)}):F[be+(ie?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(S){return S.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(S){return S.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(S){var F=S.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?m(F.shadowRoot):F},v=function(S){if(S!==!1&&S!==m(document)){if(!S||!S.focus){v(h());return}S.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=S,G5(S)&&S.select()}},T=function(S){var F=d("setReturnFocus",S);return F||(F===!1?!1:S)},w=function(S){var F=S.target,B=S.event,G=S.isBackward,U=G===void 0?!1:G;F=F||Pc(B),f();var M=null;if(o.tabbableGroups.length>0){var z=u(F,B),H=z>=0?o.containerGroups[z]:void 0;if(z<0)U?M=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:M=o.tabbableGroups[0].firstTabbableNode;else if(U){var X=Wb(o.tabbableGroups,function(Be){var Tt=Be.firstTabbableNode;return F===Tt});if(X<0&&(H.container===F||sd(F,s.tabbableOptions)&&!ls(F,s.tabbableOptions)&&!H.nextTabbableNode(F,!1))&&(X=z),X>=0){var Q=X===0?o.tabbableGroups.length-1:X-1,ie=o.tabbableGroups[Q];M=hi(F)>=0?ie.lastTabbableNode:ie.lastDomTabbableNode}else pl(B)||(M=H.nextTabbableNode(F,!1))}else{var be=Wb(o.tabbableGroups,function(Be){var Tt=Be.lastTabbableNode;return F===Tt});if(be<0&&(H.container===F||sd(F,s.tabbableOptions)&&!ls(F,s.tabbableOptions)&&!H.nextTabbableNode(F))&&(be=z),be>=0){var fe=be===o.tabbableGroups.length-1?0:be+1,Se=o.tabbableGroups[fe];M=hi(F)>=0?Se.firstTabbableNode:Se.firstDomTabbableNode}else pl(B)||(M=H.nextTabbableNode(F))}}else M=d("fallbackFocus");return M},y=function(S){var F=Pc(S);if(!(u(F,S)>=0)){if(ka(s.clickOutsideDeactivates,S)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}ka(s.allowOutsideClick,S)||S.preventDefault()}},b=function(S){var F=Pc(S),B=u(F,S)>=0;if(B||F instanceof Document)B&&(o.mostRecentlyFocusedNode=F);else{S.stopImmediatePropagation();var G,U=!0;if(o.mostRecentlyFocusedNode)if(hi(o.mostRecentlyFocusedNode)>0){var M=u(o.mostRecentlyFocusedNode),z=o.containerGroups[M].tabbableNodes;if(z.length>0){var H=z.findIndex(function(X){return X===o.mostRecentlyFocusedNode});H>=0&&(s.isKeyForward(o.recentNavEvent)?H+1<z.length&&(G=z[H+1],U=!1):H-1>=0&&(G=z[H-1],U=!1))}}else o.containerGroups.some(function(X){return X.tabbableNodes.some(function(Q){return hi(Q)>0})})||(U=!1);else U=!1;U&&(G=w({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),v(G||o.mostRecentlyFocusedNode||h())}o.recentNavEvent=void 0},x=function(S){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=S;var B=w({event:S,isBackward:F});B&&(pl(S)&&S.preventDefault(),v(B))},A=function(S){(s.isKeyForward(S)||s.isKeyBackward(S))&&x(S,s.isKeyBackward(S))},L=function(S){q5(S)&&ka(s.escapeDeactivates,S)!==!1&&(S.preventDefault(),a.deactivate())},D=function(S){var F=Pc(S);u(F,S)>=0||ka(s.clickOutsideDeactivates,S)||ka(s.allowOutsideClick,S)||(S.preventDefault(),S.stopImmediatePropagation())},I=function(){if(o.active)return zb.activateTrap(i,a),o.delayInitialFocusTimer=s.delayInitialFocus?Hb(function(){v(h())}):v(h()),r.addEventListener("focusin",b,!0),r.addEventListener("mousedown",y,{capture:!0,passive:!1}),r.addEventListener("touchstart",y,{capture:!0,passive:!1}),r.addEventListener("click",D,{capture:!0,passive:!1}),r.addEventListener("keydown",A,{capture:!0,passive:!1}),r.addEventListener("keydown",L),a},_=function(){if(o.active)return r.removeEventListener("focusin",b,!0),r.removeEventListener("mousedown",y,!0),r.removeEventListener("touchstart",y,!0),r.removeEventListener("click",D,!0),r.removeEventListener("keydown",A,!0),r.removeEventListener("keydown",L),a},R=function(S){var F=S.some(function(B){var G=Array.from(B.removedNodes);return G.some(function(U){return U===o.mostRecentlyFocusedNode})});F&&v(h())},P=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(R):void 0,k=function(){P&&(P.disconnect(),o.active&&!o.paused&&o.containers.map(function(S){P.observe(S,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(S){if(o.active)return this;var F=l(S,"onActivate"),B=l(S,"onPostActivate"),G=l(S,"checkCanFocusTrap");G||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,F==null||F();var U=function(){G&&f(),I(),k(),B==null||B()};return G?(G(o.containers.concat()).then(U,U),this):(U(),this)},deactivate:function(S){if(!o.active)return this;var F=$b({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},S);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,_(),o.active=!1,o.paused=!1,k(),zb.deactivateTrap(i,a);var B=l(F,"onDeactivate"),G=l(F,"onPostDeactivate"),U=l(F,"checkCanReturnFocus"),M=l(F,"returnFocus","returnFocusOnDeactivate");B==null||B();var z=function(){Hb(function(){M&&v(T(o.nodeFocusedBeforeActivation)),G==null||G()})};return M&&U?(U(T(o.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(S){if(o.paused||!o.active)return this;var F=l(S,"onPause"),B=l(S,"onPostPause");return o.paused=!0,F==null||F(),_(),k(),B==null||B(),this},unpause:function(S){if(!o.paused||!o.active)return this;var F=l(S,"onUnpause"),B=l(S,"onPostUnpause");return o.paused=!1,F==null||F(),f(),I(),k(),B==null||B(),this},updateContainerElements:function(S){var F=[].concat(S).filter(Boolean);return o.containers=F.map(function(B){return typeof B=="string"?r.querySelector(B):B}),o.active&&f(),k(),this}},a.updateContainerElements(e),a};const X5=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Z5},Symbol.toStringTag,{value:"Module"})),J5=lT(X5),e9=lT($5);function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function t9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function r9(t,e,n){return e&&n9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i9(t,e,n){return e=yh(e),s9(t,R2()?Reflect.construct(e,n||[],yh(t).constructor):e.apply(t,n))}function s9(t,e){if(e&&(Ho(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9(t)}function o9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}function a9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qg(t,e)}function l9(t,e,n){return(e=P2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=u9(t,"string");return Ho(e)=="symbol"?e:e+""}function u9(t,e){if(Ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ac=N,de=x5,c9=J5,d9=c9.createFocusTrap,h9=e9,f9=h9.isFocusable,c0=function(t){function e(n){var r;t9(this,e),r=i9(this,e,[n]),l9(r,"getNodeForOption",function(o){var a,l=(a=this.internalOptions[o])!==null&&a!==void 0?a:this.originalOptions[o];if(typeof l=="function"){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];l=l.apply(void 0,d)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var f=l;if(typeof l=="string"){var m;if(f=(m=this.getDocument())===null||m===void 0?void 0:m.querySelector(l),!f)throw new Error("`".concat(o,"` as selector refers to no known node"))}return f}),r.handleDeactivate=r.handleDeactivate.bind(r),r.handlePostDeactivate=r.handlePostDeactivate.bind(r),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(r),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var i=n.focusTrapOptions;for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){r.originalOptions[s]=i[s];continue}r.internalOptions[s]=i[s]}return r.outsideClick=null,r.focusTrapElements=n.containerElements||[],r.updatePreviousElement(),r}return a9(e,t),r9(e,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var r=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return r||(r===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var r=this.getDocument();r&&(this.previouslyFocusedElement=r.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(r){var i=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,r):this.originalOptions.clickOutsideDeactivates;return i&&(this.outsideClick={target:r.target,allowDeactivation:i}),i}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var r=this,i=function(){var o=r.getReturnFocusNode(),a=!!(r.originalOptions.returnFocusOnDeactivate&&o!==null&&o!==void 0&&o.focus&&(!r.outsideClick||r.outsideClick.allowDeactivation&&!f9(r.outsideClick.target,r.internalOptions.tabbableOptions))),l=r.internalOptions.preventScroll,u=l===void 0?!1:l;a&&o.focus({preventScroll:u}),r.originalOptions.onPostDeactivate&&r.originalOptions.onPostDeactivate.call(null),r.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(i,i):i()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var r=this.focusTrapElements.some(Boolean);r&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(r){if(this.focusTrap){r.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var i=!r.active&&this.props.active,s=r.active&&!this.props.active,o=!r.paused&&this.props.paused,a=r.paused&&!this.props.paused;if(i&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}o&&this.focusTrap.pause(),a&&this.focusTrap.unpause()}else r.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var r=this,i=this.props.children?Ac.Children.only(this.props.children):void 0;if(i){if(i.type&&i.type===Ac.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(l){var u=r.props.containerElements;i&&(typeof i.ref=="function"?i.ref(l):i.ref&&(i.ref.current=l)),r.focusTrapElements=u||[l]},o=Ac.cloneElement(i,{ref:s});return o}return null}}])}(Ac.Component),Na=typeof Element>"u"?Function:Element;c0.propTypes={active:de.bool,paused:de.bool,focusTrapOptions:de.shape({document:de.object,onActivate:de.func,onPostActivate:de.func,checkCanFocusTrap:de.func,onPause:de.func,onPostPause:de.func,onUnpause:de.func,onPostUnpause:de.func,onDeactivate:de.func,onPostDeactivate:de.func,checkCanReturnFocus:de.func,initialFocus:de.oneOfType([de.instanceOf(Na),de.string,de.bool,de.func]),fallbackFocus:de.oneOfType([de.instanceOf(Na),de.string,de.func]),escapeDeactivates:de.oneOfType([de.bool,de.func]),clickOutsideDeactivates:de.oneOfType([de.bool,de.func]),returnFocusOnDeactivate:de.bool,setReturnFocus:de.oneOfType([de.instanceOf(Na),de.string,de.bool,de.func]),allowOutsideClick:de.oneOfType([de.bool,de.func]),preventScroll:de.bool,tabbableOptions:de.shape({displayCheck:de.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:de.oneOfType([de.bool,de.func])}),trapStack:de.array,isKeyForward:de.func,isKeyBackward:de.func}),containerElements:de.arrayOf(de.instanceOf(Na)),children:de.oneOfType([de.element,de.instanceOf(Na)])};c0.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:d9};var p9=c0;const m9=fv(p9),Sf=({isOpen:t,onClose:e,ariaLabel:n,children:r})=>{const i=N.useRef(null);return b5(i,e),N.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="auto"}},[t,e]),t?bS.createPortal(E.jsx(m9,{children:E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity",role:"dialog","aria-modal":"true","aria-label":n,children:E.jsxs("div",{ref:i,className:"bg-white rounded-lg w-full max-w-3xl mx-4 md:mx-0 relative shadow-lg transform transition-all",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none","aria-label":"Close Modal",children:E.jsx(l0,{size:20})}),E.jsx("div",{className:"p-6 overflow-y-auto md:overflow-y-visible max-h-[95vh] md:h-fit",children:r})]})})}),document.body):null},Gb=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(!1),[l,u]=N.useState(""),[d,h]=N.useState(""),f=Iu(),m=fl.string().email({message:"Invalid email address"}),v=fl.string().min(6,{message:"Password must be at least 6 characters"}),T=async A=>{A.preventDefault(),s("");try{const L=m.parse(t),D=v.parse(n);await Pw(To,L,D),f("/summary")}catch(L){if(L instanceof Wt){const D=L.errors.map(I=>I.message).join(" ");s(D)}else L instanceof Ht||L instanceof Error?s(L.message):s("An unexpected error occurred.")}},w=async()=>{s("");try{await Pw(To,"guest@gmail.com","guestpassword"),f("/summary")}catch(A){A instanceof Ht||A instanceof Error?s(A.message):s("Failed to log in as guest. Please try again.")}},y=()=>{u(""),h(""),a(!0)},b=()=>{a(!1)},x=async A=>{A.preventDefault(),h(""),s("");try{const L=m.parse(l);await hL(To,L),h("Password reset email sent. Please check your inbox.")}catch(L){if(L instanceof Wt){const D=L.errors.map(I=>I.message).join(" ");s(D)}else L instanceof Ht||L instanceof Error?s(L.message):s("An unexpected error occurred.")}};return E.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100 p-4",role:"main","aria-labelledby":"login-heading",children:[E.jsxs("form",{onSubmit:T,className:"bg-white p-8 rounded-lg shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full max-w-md min-w-[35vw]","aria-labelledby":"login-heading",children:[E.jsx("h2",{id:"login-heading",className:"text-3xl md:text-4xl mb-6 text-center font-bold flex items-center justify-center",children:"Log In"}),i&&E.jsx("div",{className:"mb-4 text-red-500 text-md",role:"alert",children:i}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"login-email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"login-email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:A=>e(A.target.value),placeholder:"Email","aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"login-password",className:"block text-gray-700 text-lg font-medium mb-2",children:"Password"}),E.jsxs("div",{className:"relative",children:[E.jsx(y5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"login-password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:A=>r(A.target.value),placeholder:"Password","aria-required":"true"})]})]}),E.jsx("div",{className:"mb-6 text-right",children:E.jsx("button",{type:"button",onClick:y,className:"text-blue-600 hover:text-blue-800 hover:underline text-md font-medium","aria-label":"Forgot Password",children:"Forgot Password?"})}),E.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":"Log In",children:"Log In"}),E.jsx("button",{type:"button",onClick:w,className:"w-full outline-[1px] border border-gray-700 py-3 rounded-lg hover:outline-0 hover:text-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Continue as Guest",children:"Continue as Guest"}),E.jsxs("p",{className:"mt-6 text-center text-md",children:["Don't have an account?"," ",E.jsx(ft,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-medium hover:underline","aria-label":"Sign Up",children:"Sign Up"})]})]}),E.jsx(Sf,{isOpen:o,onClose:b,ariaLabel:"Password Reset Modal",children:E.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded-lg","aria-labelledby":"reset-password-heading",children:[E.jsx("h2",{id:"reset-password-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:"Reset Password"}),i&&E.jsx("div",{className:"mb-4 text-red-500 text-md",role:"alert",children:i}),d&&E.jsx("div",{className:"mb-4 text-green-500 text-md",role:"status",children:d}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"reset-email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"reset-email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:A=>u(A.target.value),placeholder:"Email","aria-required":"true"})]})]}),E.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Send Password Reset Email",children:"Send Reset Email"}),E.jsx("button",{type:"button",onClick:b,className:"w-full border-gray-700 border-[1px] hover:text-blue-700 py-3 rounded-lg hover:border-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Cancel Password Reset",children:"Cancel"})]})})]})},Xi=N.createContext({currentUser:null,loading:!0}),g9=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(!0);return N.useEffect(()=>{const s=To.onAuthStateChanged(o=>{n(o),i(!1)});return()=>{s()}},[]),E.jsx(Xi.Provider,{value:{currentUser:e,loading:r},children:t})};function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function v9(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A2(t){var e=v9(t,"string");return Os(e)=="symbol"?e:e+""}function Ya(t,e,n){return(e=A2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qb(Object(n),!0).forEach(function(r){Ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y9(t){if(Array.isArray(t))return t}function _9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function k2(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yg(t,e):void 0}}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(t,e){return y9(t)||_9(t,e)||k2(t,e)||w9()}function b9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function br(t,e){if(t==null)return{};var n,r,i=b9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var E9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function N2(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,m=t.value,v=br(t,E9),T=N.useState(a!==void 0?a:n),w=Mr(T,2),y=w[0],b=w[1],x=N.useState(l!==void 0?l:i),A=Mr(x,2),L=A[0],D=A[1],I=N.useState(m!==void 0?m:o),_=Mr(I,2),R=_[0],P=_[1],k=N.useCallback(function(M,z){typeof u=="function"&&u(M,z),P(M)},[u]),O=N.useCallback(function(M,z){var H;typeof d=="function"&&(H=d(M,z)),b(H!==void 0?H:M)},[d]),S=N.useCallback(function(){typeof f=="function"&&f(),D(!0)},[f]),F=N.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),B=a!==void 0?a:y,G=l!==void 0?l:L,U=m!==void 0?m:R;return ae(ae({},v),{},{inputValue:B,menuIsOpen:G,onChange:k,onInputChange:O,onMenuClose:F,onMenuOpen:S,value:U})}function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(null,arguments)}function T9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A2(r.key),r)}}function I9(t,e,n){return e&&Kb(t.prototype,e),n&&Kb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zg(t,e)}function S9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}function O2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O2=function(){return!!t})()}function x9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(t,e){if(e&&(Os(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x9(t)}function R9(t){var e=O2();return function(){var n,r=_h(t);if(e){var i=_h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C9(this,n)}}function P9(t){if(Array.isArray(t))return Yg(t)}function A9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function So(t){return P9(t)||A9(t)||k2(t)||k9()}var N9=!1;function O9(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function D9(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L9=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!N9:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(D9(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=O9(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ut="-ms-",wh="-moz-",Oe="-webkit-",D2="comm",d0="rule",h0="decl",M9="@import",L2="@keyframes",V9="@layer",F9=Math.abs,xf=String.fromCharCode,j9=Object.assign;function U9(t,e){return Ct(t,0)^45?(((e<<2^Ct(t,0))<<2^Ct(t,1))<<2^Ct(t,2))<<2^Ct(t,3):0}function M2(t){return t.trim()}function B9(t,e){return(t=e.exec(t))?t[0]:t}function De(t,e,n){return t.replace(e,n)}function Xg(t,e){return t.indexOf(e)}function Ct(t,e){return t.charCodeAt(e)|0}function au(t,e,n){return t.slice(e,n)}function rr(t){return t.length}function f0(t){return t.length}function kc(t,e){return e.push(t),t}function $9(t,e){return t.map(e).join("")}var Cf=1,Wo=1,V2=0,fn=0,ut=0,ia="";function Rf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cf,column:Wo,length:o,return:""}}function Oa(t,e){return j9(Rf("",null,null,"",null,null,0),t,{length:-t.length},e)}function z9(){return ut}function H9(){return ut=fn>0?Ct(ia,--fn):0,Wo--,ut===10&&(Wo=1,Cf--),ut}function wn(){return ut=fn<V2?Ct(ia,fn++):0,Wo++,ut===10&&(Wo=1,Cf++),ut}function mr(){return Ct(ia,fn)}function od(){return fn}function Uu(t,e){return au(ia,t,e)}function lu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F2(t){return Cf=Wo=1,V2=rr(ia=t),fn=0,[]}function j2(t){return ia="",t}function ad(t){return M2(Uu(fn-1,Jg(t===91?t+2:t===40?t+1:t)))}function W9(t){for(;(ut=mr())&&ut<33;)wn();return lu(t)>2||lu(ut)>3?"":" "}function G9(t,e){for(;--e&&wn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return Uu(t,od()+(e<6&&mr()==32&&wn()==32))}function Jg(t){for(;wn();)switch(ut){case t:return fn;case 34:case 39:t!==34&&t!==39&&Jg(ut);break;case 40:t===41&&Jg(t);break;case 92:wn();break}return fn}function q9(t,e){for(;wn()&&t+ut!==57;)if(t+ut===84&&mr()===47)break;return"/*"+Uu(e,fn-1)+"*"+xf(t===47?t:wn())}function K9(t){for(;!lu(mr());)wn();return Uu(t,fn)}function Q9(t){return j2(ld("",null,null,null,[""],t=F2(t),0,[0],t))}function ld(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,v=0,T=1,w=1,y=1,b=0,x="",A=i,L=s,D=r,I=x;w;)switch(v=b,b=wn()){case 40:if(v!=108&&Ct(I,h-1)==58){Xg(I+=De(ad(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:I+=ad(b);break;case 9:case 10:case 13:case 32:I+=W9(v);break;case 92:I+=G9(od()-1,7);continue;case 47:switch(mr()){case 42:case 47:kc(Y9(q9(wn(),od()),e,n),l);break;default:I+="/"}break;case 123*T:a[u++]=rr(I)*y;case 125*T:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+d:y==-1&&(I=De(I,/\f/g,"")),m>0&&rr(I)-h&&kc(m>32?Yb(I+";",r,n,h-1):Yb(De(I," ","")+";",r,n,h-2),l);break;case 59:I+=";";default:if(kc(D=Qb(I,e,n,u,d,i,a,x,A=[],L=[],h),s),b===123)if(d===0)ld(I,e,D,D,A,s,h,a,L);else switch(f===99&&Ct(I,3)===110?100:f){case 100:case 108:case 109:case 115:ld(t,D,D,r&&kc(Qb(t,D,D,0,0,i,a,x,i,A=[],h),L),i,L,h,a,r?A:L);break;default:ld(I,D,D,D,[""],L,0,a,L)}}u=d=m=0,T=y=1,x=I="",h=o;break;case 58:h=1+rr(I),m=v;default:if(T<1){if(b==123)--T;else if(b==125&&T++==0&&H9()==125)continue}switch(I+=xf(b),b*T){case 38:y=d>0?1:(I+="\f",-1);break;case 44:a[u++]=(rr(I)-1)*y,y=1;break;case 64:mr()===45&&(I+=ad(wn())),f=mr(),d=h=rr(x=I+=K9(od())),b++;break;case 45:v===45&&rr(I)==2&&(T=0)}}return s}function Qb(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=f0(f),v=0,T=0,w=0;v<r;++v)for(var y=0,b=au(t,h+1,h=F9(T=o[v])),x=t;y<m;++y)(x=M2(T>0?f[y]+" "+b:De(b,/&\f/g,f[y])))&&(l[w++]=x);return Rf(t,e,n,i===0?d0:a,l,u,d)}function Y9(t,e,n){return Rf(t,e,n,D2,xf(z9()),au(t,2,-2),0)}function Yb(t,e,n,r){return Rf(t,e,n,h0,au(t,0,r),au(t,r+1,-1),r)}function xo(t,e){for(var n="",r=f0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Z9(t,e,n,r){switch(t.type){case V9:if(t.children.length)break;case M9:case h0:return t.return=t.return||t.value;case D2:return"";case L2:return t.return=t.value+"{"+xo(t.children,r)+"}";case d0:t.value=t.props.join(",")}return rr(n=xo(t.children,r))?t.return=t.value+"{"+n+"}":""}function X9(t){var e=f0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function J9(t){return function(e){e.root||(e=e.return)&&t(e)}}function ej(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var tj=function(e,n,r){for(var i=0,s=0;i=s,s=mr(),i===38&&s===12&&(n[r]=1),!lu(s);)wn();return Uu(e,fn)},nj=function(e,n){var r=-1,i=44;do switch(lu(i)){case 0:i===38&&mr()===12&&(n[r]=1),e[r]+=tj(fn-1,n,r);break;case 2:e[r]+=ad(i);break;case 4:if(i===44){e[++r]=mr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xf(i)}while(i=wn());return e},rj=function(e,n){return j2(nj(F2(e),n))},Zb=new WeakMap,ij=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Zb.get(r))&&!i){Zb.set(e,!0);for(var s=[],o=rj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},sj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function U2(t,e){switch(U9(t,e)){case 5103:return Oe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+t+wh+t+Ut+t+t;case 6828:case 4268:return Oe+t+Ut+t+t;case 6165:return Oe+t+Ut+"flex-"+t+t;case 5187:return Oe+t+De(t,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+Ut+"flex-$1$2")+t;case 5443:return Oe+t+Ut+"flex-item-"+De(t,/flex-|-self/,"")+t;case 4675:return Oe+t+Ut+"flex-line-pack"+De(t,/align-content|flex-|-self/,"")+t;case 5548:return Oe+t+Ut+De(t,"shrink","negative")+t;case 5292:return Oe+t+Ut+De(t,"basis","preferred-size")+t;case 6060:return Oe+"box-"+De(t,"-grow","")+Oe+t+Ut+De(t,"grow","positive")+t;case 4554:return Oe+De(t,/([^-])(transform)/g,"$1"+Oe+"$2")+t;case 6187:return De(De(De(t,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),t,"")+t;case 5495:case 3959:return De(t,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return De(De(t,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+Ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+t+t;case 4095:case 3583:case 4068:case 2532:return De(t,/(.+)-inline(.+)/,Oe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rr(t)-1-e>6)switch(Ct(t,e+1)){case 109:if(Ct(t,e+4)!==45)break;case 102:return De(t,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+wh+(Ct(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Xg(t,"stretch")?U2(De(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ct(t,e+1)!==115)break;case 6444:switch(Ct(t,rr(t)-3-(~Xg(t,"!important")&&10))){case 107:return De(t,":",":"+Oe)+t;case 101:return De(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+(Ct(t,14)===45?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+Ut+"$2box$3")+t}break;case 5936:switch(Ct(t,e+11)){case 114:return Oe+t+Ut+De(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Oe+t+Ut+De(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Oe+t+Ut+De(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Oe+t+Ut+t+t}return t}var oj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case h0:e.return=U2(e.value,e.length);break;case L2:return xo([Oa(e,{value:De(e.value,"@","@"+Oe)})],i);case d0:if(e.length)return $9(e.props,function(s){switch(B9(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xo([Oa(e,{props:[De(s,/:(read-\w+)/,":"+wh+"$1")]})],i);case"::placeholder":return xo([Oa(e,{props:[De(s,/:(plac\w+)/,":"+Oe+"input-$1")]}),Oa(e,{props:[De(s,/:(plac\w+)/,":"+wh+"$1")]}),Oa(e,{props:[De(s,/:(plac\w+)/,Ut+"input-$1")]})],i)}return""})}},aj=[oj],lj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var w=T.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||aj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var w=T.getAttribute("data-emotion").split(" "),y=1;y<w.length;y++)s[w[y]]=!0;a.push(T)});var l,u=[ij,sj];{var d,h=[Z9,J9(function(T){d.insert(T)})],f=X9(u.concat(i,h)),m=function(w){return xo(Q9(w),f)};l=function(w,y,b,x){d=b,m(w?w+"{"+y.styles+"}":y.styles),x&&(v.inserted[y.name]=!0)}}var v={key:n,sheet:new L9({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},B2={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,p0=Et?Symbol.for("react.element"):60103,m0=Et?Symbol.for("react.portal"):60106,Pf=Et?Symbol.for("react.fragment"):60107,Af=Et?Symbol.for("react.strict_mode"):60108,kf=Et?Symbol.for("react.profiler"):60114,Nf=Et?Symbol.for("react.provider"):60109,Of=Et?Symbol.for("react.context"):60110,g0=Et?Symbol.for("react.async_mode"):60111,Df=Et?Symbol.for("react.concurrent_mode"):60111,Lf=Et?Symbol.for("react.forward_ref"):60112,Mf=Et?Symbol.for("react.suspense"):60113,uj=Et?Symbol.for("react.suspense_list"):60120,Vf=Et?Symbol.for("react.memo"):60115,Ff=Et?Symbol.for("react.lazy"):60116,cj=Et?Symbol.for("react.block"):60121,dj=Et?Symbol.for("react.fundamental"):60117,hj=Et?Symbol.for("react.responder"):60118,fj=Et?Symbol.for("react.scope"):60119;function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p0:switch(t=t.type,t){case g0:case Df:case Pf:case kf:case Af:case Mf:return t;default:switch(t=t&&t.$$typeof,t){case Of:case Lf:case Ff:case Vf:case Nf:return t;default:return e}}case m0:return e}}}function $2(t){return xn(t)===Df}Ue.AsyncMode=g0;Ue.ConcurrentMode=Df;Ue.ContextConsumer=Of;Ue.ContextProvider=Nf;Ue.Element=p0;Ue.ForwardRef=Lf;Ue.Fragment=Pf;Ue.Lazy=Ff;Ue.Memo=Vf;Ue.Portal=m0;Ue.Profiler=kf;Ue.StrictMode=Af;Ue.Suspense=Mf;Ue.isAsyncMode=function(t){return $2(t)||xn(t)===g0};Ue.isConcurrentMode=$2;Ue.isContextConsumer=function(t){return xn(t)===Of};Ue.isContextProvider=function(t){return xn(t)===Nf};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p0};Ue.isForwardRef=function(t){return xn(t)===Lf};Ue.isFragment=function(t){return xn(t)===Pf};Ue.isLazy=function(t){return xn(t)===Ff};Ue.isMemo=function(t){return xn(t)===Vf};Ue.isPortal=function(t){return xn(t)===m0};Ue.isProfiler=function(t){return xn(t)===kf};Ue.isStrictMode=function(t){return xn(t)===Af};Ue.isSuspense=function(t){return xn(t)===Mf};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pf||t===Df||t===kf||t===Af||t===Mf||t===uj||typeof t=="object"&&t!==null&&(t.$$typeof===Ff||t.$$typeof===Vf||t.$$typeof===Nf||t.$$typeof===Of||t.$$typeof===Lf||t.$$typeof===dj||t.$$typeof===hj||t.$$typeof===fj||t.$$typeof===cj)};Ue.typeOf=xn;B2.exports=Ue;var pj=B2.exports,z2=pj,mj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},H2={};H2[z2.ForwardRef]=mj;H2[z2.Memo]=gj;var vj=!0;function yj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var W2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vj===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},_j=function(e,n,r){W2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function wj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var bj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ej=!1,Tj=/[A-Z]|^ms/g,Ij=/_EMO_([^_]+?)_([^]*?)_EMO_/g,G2=function(e){return e.charCodeAt(1)===45},Xb=function(e){return e!=null&&typeof e!="boolean"},tm=ej(function(t){return G2(t)?t:t.replace(Tj,"-$&").toLowerCase()}),Jb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ij,function(r,i,s){return ir={name:i,styles:s,next:ir},i})}return bj[e]!==1&&!G2(e)&&typeof n=="number"&&n!==0?n+"px":n},Sj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function uu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ir={name:i.name,styles:i.styles,next:ir},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ir={name:o.name,styles:o.styles,next:ir},o=o.next;var a=s.styles+";";return a}return xj(t,e,n)}case"function":{if(t!==void 0){var l=ir,u=n(t);return ir=l,uu(t,e,u)}break}}var d=n;return d}function xj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=uu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;Xb(a)&&(r+=tm(s)+":"+Jb(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Ej)throw new Error(Sj);if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)Xb(o[l])&&(r+=tm(s)+":"+Jb(s,o[l])+";");else{var u=uu(t,e,o);switch(s){case"animation":case"animationName":{r+=tm(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var eE=/label:\s*([^\s;{]+)\s*(;|$)/g,ir;function q2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ir=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=uu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=uu(n,e,t[a]),r){var l=s;i+=l[a]}eE.lastIndex=0;for(var u="",d;(d=eE.exec(i))!==null;)u+="-"+d[1];var h=wj(i)+u;return{name:h,styles:i,next:ir}}var Cj=function(e){return e()},Rj=vl.useInsertionEffect?vl.useInsertionEffect:!1,Pj=Rj||Cj,Aj=!1,K2=N.createContext(typeof HTMLElement<"u"?lj({key:"css"}):null);K2.Provider;var kj=function(e){return N.forwardRef(function(n,r){var i=N.useContext(K2);return e(n,i,r)})},Nj=N.createContext({}),v0={}.hasOwnProperty,ev="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Oj=function(e,n){var r={};for(var i in n)v0.call(n,i)&&(r[i]=n[i]);return r[ev]=e,r},Dj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return W2(n,r,i),Pj(function(){return _j(n,r,i)}),null},Lj=kj(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[ev],s=[r],o="";typeof t.className=="string"?o=yj(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=q2(s,void 0,N.useContext(Nj));o+=e.key+"-"+a.name;var l={};for(var u in t)v0.call(t,u)&&u!=="css"&&u!==ev&&!Aj&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),N.createElement(N.Fragment,null,N.createElement(Dj,{cache:e,serialized:a,isStringTag:typeof i=="string"}),N.createElement(i,l))}),Mj=Lj,ce=function(e,n){var r=arguments;if(n==null||!v0.call(n,"css"))return N.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Mj,s[1]=Oj(e,n);for(var o=2;o<i;o++)s[o]=r[o];return N.createElement.apply(null,s)};function y0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return q2(e)}var Vj=function(){var e=y0.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Fj(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const jj=Math.min,Uj=Math.max,bh=Math.round,Nc=Math.floor,Eh=t=>({x:t,y:t});function Bj(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function jf(){return typeof window<"u"}function Q2(t){return Z2(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Y2(t){var e;return(e=(Z2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Z2(t){return jf()?t instanceof Node||t instanceof Gr(t).Node:!1}function $j(t){return jf()?t instanceof Element||t instanceof Gr(t).Element:!1}function _0(t){return jf()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function tE(t){return!jf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}function X2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=w0(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hj(t){return["html","body","#document"].includes(Q2(t))}function w0(t){return Gr(t).getComputedStyle(t)}function Wj(t){if(Q2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tE(t)&&t.host||Y2(t);return tE(e)?e.host:e}function J2(t){const e=Wj(t);return Hj(e)?t.ownerDocument?t.ownerDocument.body:t.body:_0(e)&&X2(e)?e:J2(e)}function Th(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=J2(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gr(i);if(s){const a=tv(o);return e.concat(o,o.visualViewport||[],X2(i)?i:[],a&&n?Th(a):[])}return e.concat(i,Th(i,[],n))}function tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gj(t){const e=w0(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_0(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=bh(n)!==s||bh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function b0(t){return $j(t)?t:t.contextElement}function nE(t){const e=b0(t);if(!_0(e))return Eh(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Gj(e);let o=(s?bh(n.width):n.width)/r,a=(s?bh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qj=Eh(0);function Kj(t){const e=Gr(t);return!zj()||!e.visualViewport?qj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qj(t,e,n){return!1}function rE(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=b0(t);let o=Eh(1);e&&(o=nE(t));const a=Qj()?Kj(s):Eh(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Gr(s),m=r;let v=f,T=tv(v);for(;T&&r&&m!==v;){const w=nE(T),y=T.getBoundingClientRect(),b=w0(T),x=y.left+(T.clientLeft+parseFloat(b.paddingLeft))*w.x,A=y.top+(T.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,h*=w.y,l+=x,u+=A,v=Gr(T),T=tv(v)}}return Bj({width:d,height:h,x:l,y:u})}function Yj(t,e){let n=null,r;const i=Y2(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Nc(d),v=Nc(i.clientWidth-(u+h)),T=Nc(i.clientHeight-(d+f)),w=Nc(u),b={rootMargin:-m+"px "+-v+"px "+-T+"px "+-w+"px",threshold:Uj(0,jj(1,l))||1};let x=!0;function A(L){const D=L[0].intersectionRatio;if(D!==l){if(!x)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(A,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,b)}n.observe(t)}return o(!0),s}function Zj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=b0(t),d=i||s?[...u?Th(u):[],...Th(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=u&&a?Yj(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,T=l?rE(t):null;l&&w();function w(){const y=rE(t);T&&(y.x!==T.x||y.y!==T.y||y.width!==T.width||y.height!==T.height)&&n(),T=y,v=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}var nv=N.useLayoutEffect,Xj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ih=function(){};function Jj(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function e8(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Jj(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var Sh=function(e){return u8(e)?e.filter(Boolean):Os(e)==="object"&&e!==null?[e]:[]},eR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=br(e,Xj);return ae({},n)},rt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function Uf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function t8(t){return Uf(t)?window.innerHeight:t.clientHeight}function tR(t){return Uf(t)?window.pageYOffset:t.scrollTop}function xh(t,e){if(Uf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function n8(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function r8(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Oc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ih,i=tR(t),s=e-i,o=10,a=0;function l(){a+=o;var u=r8(a,i,s,n);xh(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function iE(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?xh(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&xh(t,Math.max(e.offsetTop-i,0))}function i8(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function sE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function s8(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var nR=!1,o8={get passive(){return nR=!0}},Dc=typeof window<"u"?window:{};Dc.addEventListener&&Dc.removeEventListener&&(Dc.addEventListener("p",Ih,o8),Dc.removeEventListener("p",Ih,!1));var a8=nR;function l8(t){return t!=null}function u8(t){return Array.isArray(t)}function Za(t,e,n){return t?e:n}var c8=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Mr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Mr(a,2),u=l[0],d=l[1];return o[u]=d,o},{})},d8=["children","innerProps"],h8=["children","innerProps"];function f8(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=n8(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,f=n.getBoundingClientRect(),m=f.bottom,v=f.height,T=f.top,w=n.offsetParent.getBoundingClientRect(),y=w.top,b=o?window.innerHeight:t8(l),x=tR(l),A=parseInt(getComputedStyle(n).marginBottom,10),L=parseInt(getComputedStyle(n).marginTop,10),D=y-L,I=b-T,_=D+x,R=h-x-T,P=m-b+x+A,k=x+T-L,O=160;switch(i){case"auto":case"bottom":if(I>=v)return{placement:"bottom",maxHeight:e};if(R>=v&&!o)return s&&Oc(l,P,O),{placement:"bottom",maxHeight:e};if(!o&&R>=r||o&&I>=r){s&&Oc(l,P,O);var S=o?I-A:R-A;return{placement:"bottom",maxHeight:S}}if(i==="auto"||o){var F=e,B=o?D:_;return B>=r&&(F=Math.min(B-A-a,e)),{placement:"top",maxHeight:F}}if(i==="bottom")return s&&xh(l,P),{placement:"bottom",maxHeight:e};break;case"top":if(D>=v)return{placement:"top",maxHeight:e};if(_>=v&&!o)return s&&Oc(l,k,O),{placement:"top",maxHeight:e};if(!o&&_>=r||o&&D>=r){var G=e;return(!o&&_>=r||o&&D>=r)&&(G=o?D-L:_-L),s&&Oc(l,k,O),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function p8(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var rR=function(e){return e==="auto"?"bottom":e},m8=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ae((r={label:"menu"},Ya(r,p8(i),"100%"),Ya(r,"position","absolute"),Ya(r,"width","100%"),Ya(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},iR=N.createContext(null),g8=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=N.useContext(iR)||{},d=u.setPortalPlacement,h=N.useRef(null),f=N.useState(i),m=Mr(f,2),v=m[0],T=m[1],w=N.useState(null),y=Mr(w,2),b=y[0],x=y[1],A=l.spacing.controlHeight;return nv(function(){var L=h.current;if(L){var D=o==="fixed",I=a&&!D,_=f8({maxHeight:i,menuEl:L,minHeight:r,placement:s,shouldScroll:I,isFixedPosition:D,controlHeight:A});T(_.maxHeight),x(_.placement),d==null||d(_.placement)}},[i,s,o,a,r,d,A]),n({ref:h,placerProps:ae(ae({},e),{},{placement:b||rR(s),maxHeight:v})})},v8=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ce("div",ue({},rt(e,"menu",{menu:!0}),{ref:r},i),n)},y8=v8,_8=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},w8=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ce("div",ue({},rt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},sR=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ae({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},b8=sR,E8=sR,T8=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=br(e,d8);return ce("div",ue({},rt(ae(ae({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},I8=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=br(e,h8);return ce("div",ue({},rt(ae(ae({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},S8=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},x8=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=N.useRef(null),u=N.useRef(null),d=N.useState(rR(o)),h=Mr(d,2),f=h[0],m=h[1],v=N.useMemo(function(){return{setPortalPlacement:m}},[]),T=N.useState(null),w=Mr(T,2),y=w[0],b=w[1],x=N.useCallback(function(){if(i){var I=i8(i),_=a==="fixed"?0:window.pageYOffset,R=I[f]+_;(R!==(y==null?void 0:y.offset)||I.left!==(y==null?void 0:y.rect.left)||I.width!==(y==null?void 0:y.rect.width))&&b({offset:R,rect:I})}},[i,a,f,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);nv(function(){x()},[x]);var A=N.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=Zj(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);nv(function(){A()},[A]);var L=N.useCallback(function(I){l.current=I,A()},[A]);if(!n&&a!=="fixed"||!y)return null;var D=ce("div",ue({ref:L},rt(ae(ae({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ce(iR.Provider,{value:v},n?Eu.createPortal(D,n):D)},C8=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},R8=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ce("div",ue({},rt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},P8=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},A8=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ce("div",ue({},rt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},k8=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},N8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"indicatorsContainer",{indicators:!0}),r),n)},oE,O8=["size"],D8=["innerProps","isRtl","size"],L8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oR=function(e){var n=e.size,r=br(e,O8);return ce("svg",ue({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:L8},r))},E0=function(e){return ce(oR,ue({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aR=function(e){return ce(oR,ue({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lR=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},M8=lR,V8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ce(aR,null))},F8=lR,j8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ce(E0,null))},U8=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},B8=function(e){var n=e.innerProps;return ce("span",ue({},n,rt(e,"indicatorSeparator",{"indicator-separator":!0})))},$8=Vj(oE||(oE=Fj([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),z8=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},nm=function(e){var n=e.delay,r=e.offset;return ce("span",{css:y0({animation:"".concat($8," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},H8=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=br(e,D8);return ce("div",ue({},rt(ae(ae({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ce(nm,{delay:0,offset:r}),ce(nm,{delay:160,offset:!0}),ce(nm,{delay:320,offset:!r}))},W8=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},G8=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ce("div",ue({ref:s},rt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},q8=G8,K8=["data"],Q8=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Y8=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return ce("div",ue({},rt(e,"group",{group:!0}),l),ce(o,ue({},a,{selectProps:h,theme:d,getStyles:i,getClassNames:s,cx:r}),u),ce("div",null,n))},Z8=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},X8=function(e){var n=eR(e);n.data;var r=br(n,K8);return ce("div",ue({},rt(e,"groupHeading",{"group-heading":!0}),r))},J8=Y8,eU=["innerRef","isDisabled","isHidden","inputClassName"],tU=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},nU),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},uR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},nU={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uR)},rU=function(e){return ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},uR)},iU=function(e){var n=e.cx,r=e.value,i=eR(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=br(i,eU);return ce("div",ue({},rt(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",ue({className:n({input:!0},l),ref:s,style:rU(a),disabled:o},u)))},sU=iU,oU=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},aU=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},lU=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},cR=function(e){var n=e.children,r=e.innerProps;return ce("div",r,n)},uU=cR,cU=cR;function dU(t){var e=t.children,n=t.innerProps;return ce("div",ue({role:"button"},n),e||ce(E0,{size:14}))}var hU=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return ce(u,{data:i,innerProps:ae(ae({},rt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ce(d,{data:i,innerProps:ae({},rt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ce(h,{data:i,innerProps:ae(ae({},rt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},fU=hU,pU=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},mU=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ce("div",ue({},rt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},gU=mU,vU=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},yU=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"placeholder",{placeholder:!0}),r),n)},_U=yU,wU=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},bU=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",ue({},rt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},EU=bU,TU={ClearIndicator:j8,Control:q8,DropdownIndicator:V8,DownChevron:aR,CrossIcon:E0,Group:J8,GroupHeading:X8,IndicatorsContainer:N8,IndicatorSeparator:B8,Input:sU,LoadingIndicator:H8,Menu:y8,MenuList:w8,MenuPortal:x8,LoadingMessage:I8,NoOptionsMessage:T8,MultiValue:fU,MultiValueContainer:uU,MultiValueLabel:cU,MultiValueRemove:dU,Option:gU,Placeholder:_U,SelectContainer:R8,SingleValue:EU,ValueContainer:A8},IU=function(e){return ae(ae({},TU),e.components)},aE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function SU(t,e){return!!(t===e||aE(t)&&aE(e))}function xU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!SU(t[n],e[n]))return!1;return!0}function gt(t,e){e===void 0&&(e=xU);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var CU={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},RU=function(e){return ce("span",ue({css:CU},e))},lE=RU,PU={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(T,w){return T&&T.length?"".concat(T.indexOf(w)+1," of ").concat(T.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"&&d){var f=l?" disabled":"",m="".concat(u?" selected":"").concat(f);return"".concat(o).concat(m,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},AU=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,m=l.inputValue,v=l.isMulti,T=l.isOptionDisabled,w=l.isSearchable,y=l.menuIsOpen,b=l.options,x=l.screenReaderStatus,A=l.tabSelectsValue,L=l.isLoading,D=l["aria-label"],I=l["aria-live"],_=N.useMemo(function(){return ae(ae({},PU),h||{})},[h]),R=N.useMemo(function(){var B="";if(n&&_.onChange){var G=n.option,U=n.options,M=n.removedValue,z=n.removedValues,H=n.value,X=function(Tt){return Array.isArray(Tt)?null:Tt},Q=M||G||X(H),ie=Q?f(Q):"",be=U||z||void 0,fe=be?be.map(f):[],Se=ae({isDisabled:Q&&T(Q,a),label:ie,labels:fe},n);B=_.onChange(Se)}return B},[n,_,T,a,f]),P=N.useMemo(function(){var B="",G=r||i,U=!!(r&&a&&a.includes(r));if(G&&_.onFocus){var M={focused:G,label:f(G),isDisabled:T(G,a),isSelected:U,options:s,context:G===r?"menu":"value",selectValue:a,isAppleDevice:d};B=_.onFocus(M)}return B},[r,i,f,T,_,s,a,d]),k=N.useMemo(function(){var B="";if(y&&b.length&&!L&&_.onFilter){var G=x({count:s.length});B=_.onFilter({inputValue:m,resultsMessage:G})}return B},[s,m,y,_,b,x,L]),O=(n==null?void 0:n.action)==="initial-input-focus",S=N.useMemo(function(){var B="";if(_.guidance){var G=i?"value":y?"menu":"input";B=_.guidance({"aria-label":D,context:G,isDisabled:r&&T(r,a),isMulti:v,isSearchable:w,tabSelectsValue:A,isInitialFocus:O})}return B},[D,r,i,v,T,w,y,_,a,A,O]),F=ce(N.Fragment,null,ce("span",{id:"aria-selection"},R),ce("span",{id:"aria-focused"},P),ce("span",{id:"aria-results"},k),ce("span",{id:"aria-guidance"},S));return ce(N.Fragment,null,ce(lE,{id:u},O&&F),ce(lE,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!O&&F))},kU=AU,rv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],NU=new RegExp("["+rv.map(function(t){return t.letters}).join("")+"]","g"),dR={};for(var rm=0;rm<rv.length;rm++)for(var im=rv[rm],sm=0;sm<im.letters.length;sm++)dR[im.letters[sm]]=im.base;var hR=function(e){return e.replace(NU,function(n){return dR[n]})},OU=gt(hR),uE=function(e){return e.replace(/^\s+|\s+$/g,"")},DU=function(e){return"".concat(e.label," ").concat(e.value)},LU=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:DU,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,d=l?uE(r):r,h=l?uE(a(n)):a(n);return s&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=OU(d),h=hR(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},MU=["innerRef"];function VU(t){var e=t.innerRef,n=br(t,MU),r=c8(n,"onExited","in","enter","exit","appear");return ce("input",ue({ref:e},r,{css:y0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var FU=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function jU(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=N.useRef(!1),a=N.useRef(!1),l=N.useRef(0),u=N.useRef(null),d=N.useCallback(function(w,y){if(u.current!==null){var b=u.current,x=b.scrollTop,A=b.scrollHeight,L=b.clientHeight,D=u.current,I=y>0,_=A-L-x,R=!1;_>y&&o.current&&(r&&r(w),o.current=!1),I&&a.current&&(s&&s(w),a.current=!1),I&&y>_?(n&&!o.current&&n(w),D.scrollTop=A,R=!0,o.current=!0):!I&&-y>x&&(i&&!a.current&&i(w),D.scrollTop=0,R=!0,a.current=!0),R&&FU(w)}},[n,r,i,s]),h=N.useCallback(function(w){d(w,w.deltaY)},[d]),f=N.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=N.useCallback(function(w){var y=l.current-w.changedTouches[0].clientY;d(w,y)},[d]),v=N.useCallback(function(w){if(w){var y=a8?{passive:!1}:!1;w.addEventListener("wheel",h,y),w.addEventListener("touchstart",f,y),w.addEventListener("touchmove",m,y)}},[m,f,h]),T=N.useCallback(function(w){w&&(w.removeEventListener("wheel",h,!1),w.removeEventListener("touchstart",f,!1),w.removeEventListener("touchmove",m,!1))},[m,f,h]);return N.useEffect(function(){if(e){var w=u.current;return v(w),function(){T(w)}}},[e,v,T]),function(w){u.current=w}}var cE=["boxSizing","height","overflow","paddingRight","position"],dE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hE(t){t.preventDefault()}function fE(t){t.stopPropagation()}function pE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function mE(){return"ontouchstart"in window||navigator.maxTouchPoints}var gE=!!(typeof window<"u"&&window.document&&window.document.createElement),Da=0,qs={capture:!1,passive:!1};function UU(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=N.useRef({}),s=N.useRef(null),o=N.useCallback(function(l){if(gE){var u=document.body,d=u&&u.style;if(r&&cE.forEach(function(v){var T=d&&d[v];i.current[v]=T}),r&&Da<1){var h=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+h||0;Object.keys(dE).forEach(function(v){var T=dE[v];d&&(d[v]=T)}),d&&(d.paddingRight="".concat(m,"px"))}u&&mE()&&(u.addEventListener("touchmove",hE,qs),l&&(l.addEventListener("touchstart",pE,qs),l.addEventListener("touchmove",fE,qs))),Da+=1}},[r]),a=N.useCallback(function(l){if(gE){var u=document.body,d=u&&u.style;Da=Math.max(Da-1,0),r&&Da<1&&cE.forEach(function(h){var f=i.current[h];d&&(d[h]=f)}),u&&mE()&&(u.removeEventListener("touchmove",hE,qs),l&&(l.removeEventListener("touchstart",pE,qs),l.removeEventListener("touchmove",fE,qs)))}},[r]);return N.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var BU=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},$U={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zU(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=jU({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),d=UU({isEnabled:n}),h=function(m){u(m),d(m)};return ce(N.Fragment,null,n&&ce("div",{onClick:BU,css:$U}),e(h))}var HU={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},WU=function(e){var n=e.name,r=e.onFocus;return ce("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:HU,value:"",onChange:function(){}})},GU=WU;function T0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function qU(){return T0(/^iPhone/i)}function fR(){return T0(/^Mac/i)}function KU(){return T0(/^iPad/i)||fR()&&navigator.maxTouchPoints>1}function QU(){return qU()||KU()}function YU(){return fR()||QU()}var ZU=function(e){return e.label},pR=function(e){return e.label},mR=function(e){return e.value},XU=function(e){return!!e.isDisabled},JU={clearIndicator:F8,container:C8,control:W8,dropdownIndicator:M8,group:Q8,groupHeading:Z8,indicatorsContainer:k8,indicatorSeparator:U8,input:tU,loadingIndicator:z8,loadingMessage:E8,menu:m8,menuList:_8,menuPortal:S8,multiValue:oU,multiValueLabel:aU,multiValueRemove:lU,noOptionsMessage:b8,option:pU,placeholder:vU,singleValue:wU,valueContainer:P8},eB={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tB=4,gR=4,nB=38,rB=gR*2,iB={baseUnit:gR,controlHeight:nB,menuGutter:rB},om={borderRadius:tB,colors:eB,spacing:iB},sB={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sE(),captureMenuScroll:!sE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:LU(),formatGroupLabel:ZU,getOptionLabel:pR,getOptionValue:mR,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:XU,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!s8(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vE(t,e,n,r){var i=_R(t,e,n),s=wR(t,e,n),o=yR(t,e),a=Ch(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function ud(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return vE(t,o,e,a)}).filter(function(o){return _E(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=vE(t,n,e,r);return _E(t,s)?s:void 0}).filter(l8)}function vR(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,So(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function yE(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,So(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function oB(t,e){return vR(ud(t,e))}function _E(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!ER(t)||!s)&&bR(t,{label:o,value:a,data:i},r)}function aB(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function lB(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var am=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},yR=function(e,n){return e.getOptionLabel(n)},Ch=function(e,n){return e.getOptionValue(n)};function _R(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function wR(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Ch(t,e);return n.some(function(i){return Ch(t,i)===r})}function bR(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var ER=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},uB=1,I0=function(t){S9(n,t);var e=R9(n);function n(r){var i;if(T9(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=YU(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var d=i.props,h=d.onChange,f=d.name;u.name=f,i.ariaOnChange(l,u),h(l,u)},i.setValue=function(l,u,d){var h=i.props,f=h.closeMenuOnSelect,m=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),f&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:d})},i.selectOption=function(l){var u=i.props,d=u.blurInputOnSelect,h=u.isMulti,f=u.name,m=i.state.selectValue,v=h&&i.isOptionSelected(l,m),T=i.isOptionDisabled(l,m);if(v){var w=i.getOptionValue(l);i.setValue(m.filter(function(y){return i.getOptionValue(y)!==w}),"deselect-option",l)}else if(!T)h?i.setValue([].concat(So(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:f});return}d&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),f=d.filter(function(v){return i.getOptionValue(v)!==h}),m=Za(u,f,f[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Za(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),f=Za(l,h,h[0]||null);d&&i.onChange(f,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return am(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return yE(ud(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return e8.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return yR(i.props,l)},i.getOptionValue=function(l){return Ch(i.props,l)},i.getStyles=function(l,u){var d=i.props.unstyled,h=JU[l](u,d);h.boxSizing="border-box";var f=i.props.styles[l];return f?f(h,u):h},i.getClassNames=function(l,u){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return IU(i.props)},i.buildCategorizedOptions=function(){return ud(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return vR(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:ae({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,d=u.isMulti,h=u.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Uf(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),f=Math.abs(d.clientY-i.initialTouchY),m=5;i.userIsDragging=h>m||f>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),d=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return ER(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,d=u.isMulti,h=u.backspaceRemovesValue,f=u.escapeClearsValue,m=u.inputValue,v=u.isClearable,T=u.isDisabled,w=u.menuIsOpen,y=u.onKeyDown,b=u.tabSelectsValue,x=u.openMenuOnFocus,A=i.state,L=A.focusedOption,D=A.focusedValue,I=A.selectValue;if(!T&&!(typeof y=="function"&&(y(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||m)return;i.focusValue("previous");break;case"ArrowRight":if(!d||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!w||!b||!L||x&&i.isOptionSelected(L,I))return;i.selectOption(L);break;case"Enter":if(l.keyCode===229)break;if(w){if(!L||i.isComposing)return;i.selectOption(L);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):v&&f&&i.clearValue();break;case" ":if(m)return;if(!w){i.openMenu("first");break}if(!L)return;i.selectOption(L);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++uB),i.state.selectValue=Sh(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=am(s,o[a])}return i}return I9(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(om):ae(ae({},om),this.props.theme):om}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,f=h.isMulti,m=h.isRtl,v=h.options,T=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:T,isMulti:f,isRtl:m,options:v,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return _R(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return wR(this.props,i,s)}},{key:"filterOption",value:function(i,s){return bR(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,h=i.menuIsOpen,f=i.required,m=this.getComponents(),v=m.Input,T=this.state,w=T.inputIsHidden,y=T.ariaSelection,b=this.commonProps,x=a||this.getElementId("input"),A=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?N.createElement(v,ue({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},A)):N.createElement(VU,ue({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ih,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},A))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,h=s.Placeholder,f=this.commonProps,m=this.props,v=m.controlShouldRenderValue,T=m.isDisabled,w=m.isMulti,y=m.inputValue,b=m.placeholder,x=this.state,A=x.selectValue,L=x.focusedValue,D=x.isFocused;if(!this.hasValue()||!v)return y?null:N.createElement(h,ue({},f,{key:"placeholder",isDisabled:T,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),b);if(w)return A.map(function(_,R){var P=_===L,k="".concat(i.getOptionLabel(_),"-").concat(i.getOptionValue(_));return N.createElement(o,ue({},f,{components:{Container:a,Label:l,Remove:u},isFocused:P,isDisabled:T,key:k,index:R,removeProps:{onClick:function(){return i.removeValue(_)},onTouchEnd:function(){return i.removeValue(_)},onMouseDown:function(S){S.preventDefault()}},data:_}),i.formatOptionLabel(_,"value"))});if(y)return null;var I=A[0];return N.createElement(d,ue({},f,{data:I,isDisabled:T}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return N.createElement(o,ue({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,v=this.commonProps,T=this.state.focusedOption,w=this.props,y=w.captureMenuScroll,b=w.inputValue,x=w.isLoading,A=w.loadingMessage,L=w.minMenuHeight,D=w.maxMenuHeight,I=w.menuIsOpen,_=w.menuPlacement,R=w.menuPosition,P=w.menuPortalTarget,k=w.menuShouldBlockScroll,O=w.menuShouldScrollIntoView,S=w.noOptionsMessage,F=w.onMenuScrollToTop,B=w.onMenuScrollToBottom;if(!I)return null;var G=function(ie,be){var fe=ie.type,Se=ie.data,Be=ie.isDisabled,Tt=ie.isSelected,Mn=ie.label,er=ie.value,Zr=T===Se,ht=Be?void 0:function(){return i.onOptionHover(Se)},Vn=Be?void 0:function(){return i.selectOption(Se)},Bs="".concat(i.getElementId("option"),"-").concat(be),la={id:Bs,onClick:Vn,onMouseMove:ht,onMouseOver:ht,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Tt};return N.createElement(m,ue({},v,{innerProps:la,data:Se,isDisabled:Be,isSelected:Tt,key:Bs,label:Mn,type:fe,value:er,isFocused:Zr,innerRef:Zr?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ie.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var ie=Q.data,be=Q.options,fe=Q.index,Se="".concat(i.getElementId("group"),"-").concat(fe),Be="".concat(Se,"-heading");return N.createElement(o,ue({},v,{key:Se,data:ie,options:be,Heading:a,headingProps:{id:Be,data:Q.data},label:i.formatGroupLabel(Q.data)}),Q.options.map(function(Tt){return G(Tt,"".concat(fe,"-").concat(Tt.index))}))}else if(Q.type==="option")return G(Q,"".concat(Q.index))});else if(x){var M=A({inputValue:b});if(M===null)return null;U=N.createElement(h,v,M)}else{var z=S({inputValue:b});if(z===null)return null;U=N.createElement(f,v,z)}var H={minMenuHeight:L,maxMenuHeight:D,menuPlacement:_,menuPosition:R,menuShouldScrollIntoView:O},X=N.createElement(g8,ue({},v,H),function(Q){var ie=Q.ref,be=Q.placerProps,fe=be.placement,Se=be.maxHeight;return N.createElement(l,ue({},v,H,{innerRef:ie,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:fe}),N.createElement(zU,{captureEnabled:y,onTopArrive:F,onBottomArrive:B,lockEnabled:k},function(Be){return N.createElement(u,ue({},v,{innerRef:function(Mn){i.getMenuListRef(Mn),Be(Mn)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:Se,focusedOption:T}),U)}))});return P||R==="fixed"?N.createElement(d,ue({},v,{appendTo:P,controlElement:this.controlRef,menuPlacement:_,menuPosition:R}),X):X}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!a)return N.createElement(GU,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var f=h.map(function(T){return i.getOptionValue(T)}).join(o);return N.createElement("input",{name:u,type:"hidden",value:f})}else{var m=h.length>0?h.map(function(T,w){return N.createElement("input",{key:"i-".concat(w),name:u,type:"hidden",value:i.getOptionValue(T)})}):N.createElement("input",{name:u,type:"hidden",value:""});return N.createElement("div",null,m)}else{var v=h[0]?this.getOptionValue(h[0]):"";return N.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,h=this.getFocusableOptions();return N.createElement(kU,ue({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,h=u.id,f=u.isDisabled,m=u.menuIsOpen,v=this.state.isFocused,T=this.commonProps=this.getCommonProps();return N.createElement(a,ue({},T,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),N.createElement(s,ue({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:m}),N.createElement(l,ue({},T,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(o,ue({},T,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,m=i.options,v=i.value,T=i.menuIsOpen,w=i.inputValue,y=i.isMulti,b=Sh(v),x={};if(o&&(v!==o.value||m!==o.options||T!==o.menuIsOpen||w!==o.inputValue)){var A=T?oB(i,b):[],L=T?yE(ud(i,b),"".concat(f,"-option")):[],D=a?aB(s,b):null,I=lB(s,A),_=am(L,I);x={selectValue:b,focusedOption:I,focusedOptionId:_,focusableOptionsWithIds:L,focusedValue:D,clearFocusValueOnUpdate:!1}}var R=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},P=u,k=d&&h;return d&&!k&&(P={value:Za(y,b,b[0]||null),options:b,action:"initial-input-focus"},k=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(P=null),ae(ae(ae({},x),R),{},{prevProps:i,ariaSelection:P,prevWasFocused:k})}}]),n}(N.Component);I0.defaultProps=sB;var cB=N.forwardRef(function(t,e){var n=N2(t);return N.createElement(I0,ue({ref:e},n))}),TR=cB,dB=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],wE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},lm={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return wE(e,s,i)})||r.some(function(s){return wE(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function hB(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,o=s===void 0?lm.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?lm.isValidNewOption:a,u=t.getNewOptionData,d=u===void 0?lm.getNewOptionData:u,h=t.onCreateOption,f=t.options,m=f===void 0?[]:f,v=t.onChange,T=br(t,dB),w=T.getOptionValue,y=w===void 0?mR:w,b=T.getOptionLabel,x=b===void 0?pR:b,A=T.inputValue,L=T.isLoading,D=T.isMulti,I=T.value,_=T.name,R=N.useMemo(function(){return l(A,Sh(I),m,{getOptionValue:y,getOptionLabel:x})?d(A,o(A)):void 0},[o,d,x,y,A,l,m,I]),P=N.useMemo(function(){return(n||!L)&&R?i==="first"?[R].concat(So(m)):[].concat(So(m),[R]):m},[n,i,L,R,m]),k=N.useCallback(function(O,S){if(S.action!=="select-option")return v(O,S);var F=Array.isArray(O)?O:[O];if(F[F.length-1]===R){if(h)h(A);else{var B=d(A,A),G={action:"create-option",name:_,option:B};v(Za(D,[].concat(So(Sh(I)),[B]),B),G)}return}v(O,S)},[d,A,D,_,R,h,v,I]);return ae(ae({},T),{},{options:P,onChange:k})}var fB=N.forwardRef(function(t,e){var n=N2(t),r=hB(n);return N.createElement(I0,ue({ref:e},r))}),IR=fB;const pB=({task:t,contacts:e,categories:n,onClose:r,onUpdate:i})=>{const[s,o]=N.useState(t.title),[a,l]=N.useState(t.description),[u,d]=N.useState(t.priority||"Normal"),[h,f]=N.useState([]),[m,v]=N.useState(t.category),[T,w]=N.useState(n),[y,b]=N.useState(t.dueDate instanceof Date?t.dueDate.toISOString().substr(0,10):t.dueDate.toDate().toISOString().substr(0,10)),[x,A]=N.useState(""),[L,D]=N.useState(t.subtask||[]),[I,_]=N.useState(t.status),[R,P]=N.useState("");N.useContext(Xi),N.useEffect(()=>{const U=e.filter(M=>t.assignedTo.includes(M.id||""));f(U)},[e,t.assignedTo]);const k=U=>{const M=U.trim();M&&!T.includes(M)&&w(z=>[...z,M]),v(M)},O=async U=>{if(U.preventDefault(),P(""),s.trim()===""||a.trim()===""||h.length===0||m.trim()===""||y.trim()===""){P("Title, Description, Assigned To, Category, and Due Date are required.");return}const M={...t,title:s,description:a,priority:u,assignedTo:h.map(z=>z.id),category:m,dueDate:Qe.fromDate(new Date(y)),subtask:L,status:I};try{const z=Cr(_t,"tasks",t.id);await o0(z,{title:M.title,description:M.description,priority:M.priority,assignedTo:M.assignedTo,category:M.category,dueDate:M.dueDate,subtask:M.subtask,status:M.status}),i(M),r()}catch(z){console.error("Error updating task:",z),P("Failed to update task. Please try again.")}},S=()=>{if(x.trim()!==""){const U={description:x.trim(),status:"not done"};D([...L,U]),A("")}},F=U=>{const M=L.filter((z,H)=>H!==U);D(M)},B=U=>{const M=[...L];M[U].status=M[U].status==="done"?"not done":"done",D(M)},G=(U,M)=>{const z=[...L];z[U].description=M,D(z)};return E.jsxs("form",{onSubmit:O,className:"bg-white p-8 rounded-lg","aria-labelledby":"edit-task-heading",children:[E.jsxs("h2",{id:"edit-task-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:[E.jsx(hh,{className:"mr-3 text-blue-700 text-4xl","aria-hidden":"true"}),"Edit Task"]}),R&&E.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert",children:R}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-title",className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),E.jsxs("div",{className:"relative",children:[E.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"edit-title",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:U=>o(U.target.value),placeholder:"Task Title","aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-description",className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),E.jsxs("div",{className:"relative",children:[E.jsx(Gg,{className:"absolute left-3 top-3 text-gray-400","aria-hidden":"true"}),E.jsx("textarea",{id:"edit-description",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500  resize-none",value:a,onChange:U=>l(U.target.value),placeholder:"Task Description",rows:4,"aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-assignedTo",className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),E.jsxs("div",{className:"relative",children:[E.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("div",{className:"pl-12",children:E.jsx("div",{onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),children:E.jsx(TR,{id:"edit-assignedTo",isMulti:!0,options:e.map(U=>({value:U.id,label:`${U.name}`})),className:"react-select-container",classNamePrefix:"react-select",value:h.map(U=>({value:U.id,label:`${U.name}`})),onChange:U=>{f(U.map(M=>e.find(H=>H.id===M.value)))},placeholder:"Select Contacts","aria-label":"Select Contacts to Assign",styles:{valueContainer:U=>({...U,maxHeight:"10vh",overflowY:"auto",paddingRight:"8px"}),control:U=>({...U,minHeight:"auto"}),multiValue:U=>({...U,maxWidth:"100%"})}})})})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-category",className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),E.jsxs("div",{className:"relative",children:[E.jsx(m2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("div",{className:"pl-12",children:E.jsx("div",{onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),children:E.jsx(IR,{id:"edit-category",isClearable:!0,options:T.map(U=>({value:U,label:U})),value:m?{value:m,label:m}:null,onChange:U=>{v(U?U.value:"")},onCreateOption:k,placeholder:"Enter or select a category","aria-label":"Select or Create Category"})})})]})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-dueDate",className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),E.jsxs("div",{className:"relative",children:[E.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"edit-dueDate",type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:U=>b(U.target.value),"aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-subtaskInput",className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),E.jsxs("div",{className:"flex",children:[E.jsxs("div",{className:"relative w-full",children:[E.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"edit-subtaskInput",type:"text",className:"w-full pl-10 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:U=>A(U.target.value),placeholder:"Enter a subtask","aria-label":"Subtask Description"})]}),E.jsx("button",{type:"button",onClick:S,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200","aria-label":"Add Subtask",children:"Add"})]}),L.length>0&&E.jsx("ul",{className:"mt-4",children:L.map((U,M)=>E.jsxs("li",{className:"flex items-center justify-center md:justify-between bg-gray-200 p-3  rounded-lg mt-2 w-fit md:w-auto",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("input",{type:"checkbox",className:" mr-2",checked:U.status==="done",onChange:()=>B(M),"aria-label":`Mark subtask ${M+1} as ${U.status==="done"?"not done":"done"}`}),E.jsx("input",{type:"text",className:`flex-1 bg-transparent border-none focus:outline-none  ${U.status==="done"?"line-through text-gray-500":""}`,value:U.description,onChange:z=>G(M,z.target.value),"aria-label":`Subtask ${M+1} Description`})]}),E.jsx("button",{type:"button",onClick:()=>F(M),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":`Remove subtask ${M+1}`,children:E.jsx(g2,{"aria-hidden":"true"})})]},M))})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-priority",className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),E.jsxs("div",{className:"relative",children:[E.jsx(p2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsxs("select",{id:"edit-priority",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:U=>d(U.target.value),"aria-label":"Select Task Priority","aria-required":"true",children:[E.jsx("option",{value:"Low",children:"Low"}),E.jsx("option",{value:"Normal",children:"Normal"}),E.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-status",className:"block text-gray-700 text-lg font-medium mb-2",children:"Status"}),E.jsxs("div",{className:"relative",children:[E.jsx(Gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsxs("select",{id:"edit-status",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:I,onChange:U=>_(U.target.value),"aria-label":"Select Task Status","aria-required":"true",children:[E.jsx("option",{value:"To do",children:"To do"}),E.jsx("option",{value:"In progress",children:"In progress"}),E.jsx("option",{value:"Awaiting Feedback",children:"Awaiting Feedback"}),E.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),E.jsx("div",{className:"flex justify-center mt-6",children:E.jsxs("button",{type:"submit",className:"w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold flex items-center justify-center","aria-label":"Update Task",children:[E.jsx(hh,{className:"mr-2","aria-hidden":"true"}),"Update Task"]})})]})};function bE(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V9l-6-6zM8 17c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm6 1V4.5l5.5 5.5H14z"},child:[]}]})(t)}function mB(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},child:[]},{tag:"path",attr:{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},child:[]}]})(t)}function EE(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(t)}function gB(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},child:[]},{tag:"path",attr:{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},child:[]}]})(t)}function iv(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"},child:[]}]})(t)}function TE(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 19V5h6v14H5zm14 0h-6v-7h6v7zm0-9h-6V5h6v5z"},child:[]}]})(t)}const vB=["To do","In progress","Awaiting Feedback","Completed"],yB=({children:t})=>{const[e,n]=N.useState([]),[r,i]=N.useState([]),[s,o]=N.useState([]),{currentUser:a}=N.useContext(Xi),[l,u]=N.useState({isOpen:!1});N.useEffect(()=>{let D,I,_;if(a){const R=Or(_t,"tasks"),P=vs(R,vi("userId","==",a.uid),Ug("status"),Ug("order"));D=hl(P,S=>{const F=S.docs.map(B=>{const G=B.data(),U=Array.isArray(G.assignedTo)?G.assignedTo:[G.assignedTo],M=Array.isArray(G.subtask)?G.subtask:[];return{id:B.id,title:G.title,description:G.description,priority:G.priority,createdAt:G.createdAt,userId:G.userId,assignedTo:U,category:G.category,dueDate:G.dueDate,subtask:M,status:G.status||"To do",order:typeof G.order=="number"?G.order:0}});n(F)});const k=Or(_t,"contacts"),O=vs(k,vi("userId","==",a.uid));I=hl(O,S=>{const F=S.docs.map(B=>({id:B.id,...B.data()}));i(F)}),_=hl(P,S=>{const F=new Set;S.forEach(B=>{const G=B.data();G.category&&F.add(G.category)}),o(Array.from(F))})}return()=>{D&&D(),I&&I(),_&&_()}},[a]);const d=D=>{const I=r.find(_=>_.id===D);return I?I.name:"Unknown Contact"},h=D=>{const I=r.find(_=>_.id===D);return I&&I.name?I.name.split(" ").map(P=>P[0]).join("").toUpperCase():"?"},f=D=>{var R,P;const I=((R=D.subtask)==null?void 0:R.length)||0;return`${((P=D.subtask)==null?void 0:P.filter(k=>k.status==="done").length)||0}/${I}`},m=D=>{switch(D){case"Urgent":return"text-red-500";case"Normal":return"text-yellow-500";case"Low":return"text-green-500";default:return"text-gray-500"}},v=D=>{switch(D){case"Urgent":return E.jsx(gB,{"aria-label":"Urgent Priority"});case"Normal":return E.jsx(EE,{"aria-label":"Normal Priority"});case"Low":return E.jsx(mB,{"aria-label":"Low Priority"});default:return E.jsx(EE,{"aria-label":"Normal Priority"})}},T=D=>{u({isOpen:!0,task:D})},w=()=>{u({isOpen:!1,task:void 0})},y=async D=>{if(a&&D.id)try{const I=Cr(_t,"tasks",D.id);await o0(I,{title:D.title,description:D.description,priority:D.priority,assignedTo:D.assignedTo,category:D.category,dueDate:D.dueDate,subtask:D.subtask,status:D.status,order:D.order}),w()}catch(I){console.error("Error updating task:",I)}},b=async D=>{if(a&&D){if(!window.confirm("Are you sure you want to delete this task? This action cannot be undone."))return;try{const _=Cr(_t,"tasks",D);await YC(_)}catch(_){console.error("Error deleting task:",_)}}},x=async D=>{const{destination:I,source:_,draggableId:R}=D;if(!I||I.droppableId===_.droppableId&&I.index===_.index||!e.find(G=>G.id===R))return;const k=I.droppableId,O=_.droppableId,S=I.droppableId;let F=[...e];if(O===S){const G=F.filter(H=>H.status===O),U=F.filter(H=>H.status!==O),[M]=G.splice(_.index,1);G.splice(I.index,0,M);const z=G.map((H,X)=>({...H,order:X}));F=[...U,...z]}else{const G=F.filter(Q=>Q.status===O),U=F.filter(Q=>Q.status===S),M=F.filter(Q=>Q.status!==O&&Q.status!==S),[z]=G.splice(_.index,1);z.status=k,U.splice(I.index,0,z);const H=G.map((Q,ie)=>({...Q,order:ie})),X=U.map((Q,ie)=>({...Q,order:ie}));F=[...M,...H,...X]}n(F);const B=I3(_t);if(O===S)F.filter(U=>U.status===O).forEach((U,M)=>{const z=Cr(_t,"tasks",U.id);B.update(z,{order:M})});else{const G=F.filter(M=>M.status===O),U=F.filter(M=>M.status===S);G.forEach((M,z)=>{const H=Cr(_t,"tasks",M.id);B.update(H,{order:z})}),U.forEach((M,z)=>{const H=Cr(_t,"tasks",M.id);B.update(H,{order:z,status:S})})}try{await B.commit()}catch(G){console.error("Error moving task:",G),n(e),alert("Failed to update task order. Please try again.")}},A={"To do":[],"In progress":[],"Awaiting Feedback":[],Completed:[]};e.forEach(D=>{const I=D.status||"To do";A[I]?A[I].push(D):A["To do"].push(D)}),Object.keys(A).forEach(D=>{A[D].sort((I,_)=>I.order-_.order)});const L={tasks:e,tasksByStatus:A,columnsOrder:vB,getContactNameById:d,getContactInitialsById:h,getSubtaskCompletion:f,getPriorityColor:m,getPriorityIcon:v,openEditModal:T,handleDeleteTask:b,onDragEnd:x};return E.jsxs(E.Fragment,{children:[t(L),E.jsx(Sf,{isOpen:l.isOpen,onClose:w,ariaLabel:"Edit Task Modal",children:l.task&&E.jsx(pB,{task:l.task,contacts:r,categories:s,onClose:w,onUpdate:y})})]})};function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _B=typeof Symbol=="function"&&Symbol.observable||"@@observable",IE=_B,um=()=>Math.random().toString(36).substring(7).split("").join("."),wB={INIT:`@@redux/INIT${um()}`,REPLACE:`@@redux/REPLACE${um()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${um()}`},SE=wB;function bB(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function SR(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(SR)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((w,y)=>{o.set(y,w)}))}function d(){if(l)throw new Error(Xt(3));return i}function h(w){if(typeof w!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let y=!0;u();const b=a++;return o.set(b,w),function(){if(y){if(l)throw new Error(Xt(6));y=!1,u(),o.delete(b),s=null}}}function f(w){if(!bB(w))throw new Error(Xt(7));if(typeof w.type>"u")throw new Error(Xt(8));if(typeof w.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(b=>{b()}),w}function m(w){if(typeof w!="function")throw new Error(Xt(10));r=w,f({type:SE.REPLACE})}function v(){const w=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Xt(11));function b(){const A=y;A.next&&A.next(d())}return b(),{unsubscribe:w(b)}},[IE](){return this}}}return f({type:SE.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[IE]:v}}function xE(t,e){return function(...n){return e(t.apply(this,n))}}function CE(t,e){if(typeof t=="function")return xE(t,e);if(typeof t!="object"||t===null)throw new Error(Xt(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=xE(i,e))}return n}function xR(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EB(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Xt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=xR(...a)(i.dispatch),{...i,dispatch:s}}}var TB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=N;function IB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SB=typeof Object.is=="function"?Object.is:IB,xB=Bu.useSyncExternalStore,CB=Bu.useRef,RB=Bu.useEffect,PB=Bu.useMemo,AB=Bu.useDebugValue;TB.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=CB(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=PB(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,SB(d,m))return v;var T=r(m);return i!==void 0&&i(v,T)?v:(d=m,h=T)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=xB(t,s[0],s[1]);return RB(function(){o.hasValue=!0,o.value=a},[a]),AB(a),a};var Le="default"in vl?Me:vl,RE=Symbol.for("react-redux-context"),PE=typeof globalThis<"u"?globalThis:{};function kB(){if(!Le.createContext)return{};const t=PE[RE]??(PE[RE]=new Map);let e=t.get(Le.createContext);return e||(e=Le.createContext(null),t.set(Le.createContext,e)),e}var CR=kB(),NB=()=>{throw new Error("uSES not initialized!")},OB=Symbol.for("react.element"),DB=Symbol.for("react.portal"),LB=Symbol.for("react.fragment"),MB=Symbol.for("react.strict_mode"),VB=Symbol.for("react.profiler"),FB=Symbol.for("react.provider"),jB=Symbol.for("react.context"),UB=Symbol.for("react.server_context"),RR=Symbol.for("react.forward_ref"),BB=Symbol.for("react.suspense"),$B=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),zB=Symbol.for("react.lazy"),HB=RR,WB=S0;function GB(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case OB:{const n=t.type;switch(n){case LB:case VB:case MB:case BB:case $B:return n;default:{const r=n&&n.$$typeof;switch(r){case UB:case jB:case RR:case zB:case S0:case FB:return r;default:return e}}}}case DB:return e}}}function qB(t){return GB(t)===S0}function KB(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,d,h,f;function m(b,x){return l=b,u=x,d=t(l,u),h=e(r,u),f=n(d,h,u),a=!0,f}function v(){return d=t(l,u),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function T(){return t.dependsOnOwnProps&&(d=t(l,u)),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function w(){const b=t(l,u),x=!o(b,d);return d=b,x&&(f=n(d,h,u)),f}function y(b,x){const A=!s(x,u),L=!i(b,l,x,u);return l=b,u=x,A&&L?v():A?T():L?w():f}return function(x,A){return a?y(x,A):m(x,A)}}function QB(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return KB(s,o,a,t,i)}function YB(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function sv(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function AE(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function PR(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=AE(t);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=AE(u),u=s(a,l)),u},s}}function x0(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function ZB(t){return t&&typeof t=="object"?sv(e=>YB(t,e)):t?typeof t=="function"?PR(t):x0(t,"mapDispatchToProps"):sv(e=>({dispatch:e}))}function XB(t){return t?typeof t=="function"?PR(t):x0(t,"mapStateToProps"):sv(()=>({}))}function JB(t,e,n){return{...n,...t,...e}}function e$(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,d){const h=t(l,u,d);return s?i(h,o)||(o=h):(s=!0,o=h),o}}}function t$(t){return t?typeof t=="function"?e$(t):x0(t,"mergeProps"):()=>JB}function n$(t){t()}function r$(){let t=null,e=null;return{clear(){t=null,e=null},notify(){n$(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var kE={notify(){},get:()=>[]};function AR(t,e){let n,r=kE,i=0,s=!1;function o(T){d();const w=r.subscribe(T);let y=!1;return()=>{y||(y=!0,w(),h())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=r$())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=kE)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return v}var i$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s$=typeof navigator<"u"&&navigator.product==="ReactNative",Rh=i$||s$?Le.useLayoutEffect:Le.useEffect;function NE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function cm(t,e){if(NE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!NE(t[n[i]],e[n[i]]))return!1;return!0}var o$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u$={[HB]:l$,[WB]:kR};function OE(t){return qB(t)?kR:u$[t.$$typeof]||o$}var c$=Object.defineProperty,d$=Object.getOwnPropertyNames,DE=Object.getOwnPropertySymbols,h$=Object.getOwnPropertyDescriptor,f$=Object.getPrototypeOf,LE=Object.prototype;function ov(t,e){if(typeof e!="string"){if(LE){const s=f$(e);s&&s!==LE&&ov(t,s)}let n=d$(e);DE&&(n=n.concat(DE(e)));const r=OE(t),i=OE(e);for(let s=0;s<n.length;++s){const o=n[s];if(!a$[o]&&!(i&&i[o])&&!(r&&r[o])){const a=h$(e,o);try{c$(t,o,a)}catch{}}}}return t}var NR=NB,p$=t=>{NR=t},m$=[null,null];function g$(t,e,n){Rh(()=>t(...e),n)}function v$(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function y$(t,e,n,r,i,s,o,a,l,u,d){if(!t)return()=>{};let h=!1,f=null;const m=()=>{if(h||!a.current)return;const T=e.getState();let w,y;try{w=r(T,i.current)}catch(b){y=b,f=b}y||(f=null),w===s.current?o.current||u():(s.current=w,l.current=w,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function _$(t,e){return t===e}function w$(t,e,n,{pure:r,areStatesEqual:i=_$,areOwnPropsEqual:s=cm,areStatePropsEqual:o=cm,areMergedPropsEqual:a=cm,forwardRef:l=!1,context:u=CR}={}){const d=u,h=XB(t),f=ZB(e),m=t$(n),v=!!t;return w=>{const y=w.displayName||w.name||"Component",b=`Connect(${y})`,x={shouldHandleStateChanges:v,displayName:b,wrappedComponentName:y,WrappedComponent:w,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function A(I){const[_,R,P]=Le.useMemo(()=>{const{reactReduxForwardedRef:ht,...Vn}=I;return[I.context,ht,Vn]},[I]),k=Le.useMemo(()=>{let ht=d;return _!=null&&_.Consumer,ht},[_,d]),O=Le.useContext(k),S=!!I.store&&!!I.store.getState&&!!I.store.dispatch,F=!!O&&!!O.store,B=S?I.store:O.store,G=F?O.getServerState:B.getState,U=Le.useMemo(()=>QB(B.dispatch,x),[B]),[M,z]=Le.useMemo(()=>{if(!v)return m$;const ht=AR(B,S?void 0:O.subscription),Vn=ht.notifyNestedSubs.bind(ht);return[ht,Vn]},[B,S,O]),H=Le.useMemo(()=>S?O:{...O,subscription:M},[S,O,M]),X=Le.useRef(void 0),Q=Le.useRef(P),ie=Le.useRef(void 0),be=Le.useRef(!1),fe=Le.useRef(!1),Se=Le.useRef(void 0);Rh(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const Be=Le.useMemo(()=>()=>ie.current&&P===Q.current?ie.current:U(B.getState(),P),[B,P]),Tt=Le.useMemo(()=>Vn=>M?y$(v,B,M,U,Q,X,be,fe,ie,z,Vn):()=>{},[M]);g$(v$,[Q,X,be,P,ie,z]);let Mn;try{Mn=NR(Tt,Be,G?()=>U(G(),P):Be)}catch(ht){throw Se.current&&(ht.message+=`
The error may be correlated with this previous error:
${Se.current.stack}

`),ht}Rh(()=>{Se.current=void 0,ie.current=void 0,X.current=Mn});const er=Le.useMemo(()=>Le.createElement(w,{...Mn,ref:R}),[R,w,Mn]);return Le.useMemo(()=>v?Le.createElement(k.Provider,{value:H},er):er,[k,er,H])}const D=Le.memo(A);if(D.WrappedComponent=w,D.displayName=A.displayName=b,l){const _=Le.forwardRef(function(P,k){return Le.createElement(D,{...P,reactReduxForwardedRef:k})});return _.displayName=b,_.WrappedComponent=w,ov(_,w)}return ov(D,w)}}var OR=w$;function b$({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Le.useMemo(()=>{const u=AR(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Le.useMemo(()=>t.getState(),[t]);Rh(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||CR;return Le.createElement(l.Provider,{value:o},n)}var E$=b$;p$(N.useSyncExternalStore);function T$(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function DR(t,e){var n=N.useState(function(){return{inputs:e,result:t()}})[0],r=N.useRef(!0),i=N.useRef(n),s=r.current||!!(e&&i.current.inputs&&T$(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return N.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function I$(t,e){return DR(function(){return t},e)}var Pe=DR,oe=I$,S$="Invariant failed";function x$(t,e){throw new Error(S$)}var Wn=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},C0=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},ME=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},C$=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},dm={top:0,right:0,bottom:0,left:0},R0=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?dm:r,s=e.border,o=s===void 0?dm:s,a=e.padding,l=a===void 0?dm:a,u=Wn(C0(n,i)),d=Wn(ME(n,o)),h=Wn(ME(d,l));return{marginBox:u,borderBox:Wn(n),paddingBox:d,contentBox:h,margin:i,border:o,padding:l}},Cn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&x$(),i},R$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ph=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=C$(r,n);return R0({borderBox:a,border:i,margin:s,padding:o})},Ah=function(e,n){return n===void 0&&(n=R$()),Ph(e,n)},LR=function(e,n){var r={top:Cn(n.marginTop),right:Cn(n.marginRight),bottom:Cn(n.marginBottom),left:Cn(n.marginLeft)},i={top:Cn(n.paddingTop),right:Cn(n.paddingRight),bottom:Cn(n.paddingBottom),left:Cn(n.paddingLeft)},s={top:Cn(n.borderTopWidth),right:Cn(n.borderRightWidth),bottom:Cn(n.borderBottomWidth),left:Cn(n.borderLeftWidth)};return R0({borderBox:e,margin:r,padding:i,border:s})},MR=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return LR(n,r)},cu=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function VR(t,e){}VR.bind(null,"warn");VR.bind(null,"error");function ki(){}function P$(t,e){return{...t,...e}}function kn(t,e,n){const r=e.map(i=>{const s=P$(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const A$="Invariant failed";class kh extends Error{}kh.prototype.toString=function(){return this.message};function Y(t,e){throw new kh(A$)}class k$ extends Me.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ki,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof kh&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=kn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof kh){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const N$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nh=t=>t+1,O$=t=>`
  You have lifted an item in position ${Nh(t.source.index)}
`,FR=(t,e)=>{const n=t.droppableId===e.droppableId,r=Nh(t.index),i=Nh(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},jR=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,D$=t=>{const e=t.destination;if(e)return FR(t.source,e);const n=t.combine;return n?jR(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},VE=t=>`
  The item has returned to its starting position
  of ${Nh(t.index)}
`,L$=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${VE(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${FR(t.source,e)}
    `:n?`
      You have dropped the item.
      ${jR(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${VE(t.source)}
  `},cd={dragHandleUsageInstructions:N$,onDragStart:O$,onDragUpdate:D$,onDragEnd:L$},bt={x:0,y:0},Pt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),yn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ni=(t,e)=>t.x===e.x&&t.y===e.y,sa=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ds=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},du=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),FE=(t,e)=>Math.min(...e.map(n=>du(t,n))),UR=t=>e=>({x:t(e.x),y:t(e.y)});var M$=(t,e)=>{const n=Wn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const $u=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),jE=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],V$={top:0,right:0,bottom:0,left:0},F$=(t,e)=>e?$u(t,e.scroll.diff.displacement):t,j$=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,U$=(t,e)=>e&&e.shouldClipSubject?M$(e.pageMarginBox,t):Wn(t);var Go=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=F$(t.marginBox,r),s=j$(i,n,e),o=U$(s,r);return{page:t,withPlaceholder:e,active:o}},P0=(t,e)=>{t.frame||Y();const n=t.frame,r=yn(e,n.scroll.initial),i=sa(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Go({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const BR=gt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),$R=gt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Bf=gt(t=>Object.values(t)),B$=gt(t=>Object.values(t));var oa=gt((t,e)=>B$(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function A0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function $f(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var zf=gt((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),$$=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!A0(i))return null;function o(m){const v={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:v}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const u=zf(e,r);if(!l){if(!u.length)return null;const m=u[u.length-1];return o(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===l);d===-1&&Y();const h=d-1;if(h<0)return null;const f=u[h];return o(f.descriptor.id)},aa=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const zR={point:bt,value:0},hu={invisible:{},visible:{},all:[]},z$={displaced:hu,displacedBy:zR,at:null};var On=(t,e)=>n=>t<=n&&n<=e,HR=t=>{const e=On(t.top,t.bottom),n=On(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return l&&u?!0:l&&o||u&&s}},H$=t=>{const e=On(t.top,t.bottom),n=On(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const k0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},WR={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var W$=t=>e=>{const n=On(e.top,e.bottom),r=On(e.left,e.right);return i=>t===k0?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const G$=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:bt;return $u(t,n)},q$=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,K$=(t,e,n)=>n(e)(t),N0=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?G$(t,e):t;return q$(s,e,i)&&K$(s,n,i)},Q$=t=>N0({...t,isVisibleThroughFrameFn:HR}),GR=t=>N0({...t,isVisibleThroughFrameFn:H$}),Y$=t=>N0({...t,isVisibleThroughFrameFn:W$(t.destination.axis)}),Z$=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function X$(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Wn(C0(n,r))}function fu({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const u=X$(l,n),d=l.descriptor.id;if(a.all.push(d),!Q$({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=Z$(d,s,i),m={draggableId:d,shouldAnimate:f};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function J$(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function UE({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=J$(t,{inHomeList:e});return{displaced:hu,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Oh({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=aa(t,n);if(o==null)return UE({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=e.find(v=>v.descriptor.index===o);if(!u)return UE({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const d=zf(t,e),h=e.indexOf(u),f=d.slice(h);return{displaced:fu({afterDragging:f,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Hi(t,e){return!!e.effected[t]}var e7=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Hi(s,i)?t?a:a-1:t?a+1:a},t7=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},n7=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||Y(),u.type==="REORDER"){const h=t7({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:s});return h==null?null:Oh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const d=e7({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:l});return d==null?null:Oh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},r7=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Hi(n,e)?i?bt:sa(r.point):i?r.point:bt},i7=({afterCritical:t,impact:e,draggables:n})=>{const r=$f(e);r||Y();const i=r.draggableId,s=n[i].page.borderBox.center,o=r7({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Pt(s,o)};const qR=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,s7=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,O0=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,BE=({axis:t,moveRelativeTo:e,isMoving:n})=>Ds(t.line,e.marginBox[t.end]+qR(t,n),O0(t,e.marginBox,n)),$E=({axis:t,moveRelativeTo:e,isMoving:n})=>Ds(t.line,e.marginBox[t.start]-s7(t,n),O0(t,e.marginBox,n)),o7=({axis:t,moveInto:e,isMoving:n})=>Ds(t.line,e.contentBox[t.start]+qR(t,n),O0(t,e.contentBox,n));var a7=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=oa(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return o7({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:u}=t,d=l.all[0];if(d){const f=n[d];if(Hi(d,i))return $E({axis:a,moveRelativeTo:f.page,isMoving:o});const m=Ph(f.page,u.point);return $E({axis:a,moveRelativeTo:m,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Hi(h.descriptor.id,i)){const f=Ph(h.page,sa(i.displacedBy.point));return BE({axis:a,moveRelativeTo:f,isMoving:o})}return BE({axis:a,moveRelativeTo:h.page,isMoving:o})},av=(t,e)=>{const n=t.frame;return n?Pt(e,n.scroll.diff.displacement):e};const l7=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?a7({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):i7({impact:t,draggables:r,afterCritical:i})};var Hf=t=>{const e=l7(t),n=t.droppable;return n?av(n,e):e},KR=(t,e)=>{const n=yn(e,t.scroll.initial),r=sa(n);return{frame:Wn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function zE(t,e){return t.map(n=>e[n])}function u7(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var c7=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=KR(e,Pt(e.scroll.current,i)),o=n.frame?P0(n,Pt(n.frame.scroll.current,i)):n,a=t.displaced,l=fu({afterDragging:zE(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=fu({afterDragging:zE(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},h={},f=[a,l,u];return a.all.forEach(v=>{const T=u7(v,f);if(T){h[v]=T;return}d[v]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:h}}},d7=(t,e)=>Pt(t.scroll.diff.displacement,e),D0=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=d7(n,t),i=yn(r,e.page.borderBox.center);return Pt(e.client.borderBox.center,i)},QR=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=yn(n,t.page.borderBox.center),l={target:$u(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?Y$(l):GR(l)},h7=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=oa(n.descriptor.id,r),d=aa(e,n),h=$$({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:i})||n7({isMovingForward:t,isInHomeList:d,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:l});if(!h)return null;const f=Hf({impact:h,draggable:e,droppable:n,draggables:r,afterCritical:l});if(QR({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:D0({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:h,scrollJumpRequest:null};const v=yn(f,o),T=c7({impact:h,viewport:s,destination:n,draggables:r,maxScrollChange:v});return{clientSelection:a,impact:T,scrollJumpRequest:v}};const Zt=t=>{const e=t.subject.active;return e||Y(),e};var f7=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=On(s[o.start],s[o.end]),l=Bf(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>HR(i.frame)(Zt(d))).filter(d=>{const h=Zt(d);return t?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const h=Zt(d),f=On(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||f(s[o.start])||f(s[o.end])}).sort((d,h)=>{const f=Zt(d)[o.crossAxisStart],m=Zt(h)[o.crossAxisStart];return t?f-m:m-f}).filter((d,h,f)=>Zt(d)[o.crossAxisStart]===Zt(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(d=>On(Zt(d)[o.start],Zt(d)[o.end])(e[o.line]));return u.length===1?u[0]:u.length>1?u.sort((d,h)=>Zt(d)[o.start]-Zt(h)[o.start])[0]:l.sort((d,h)=>{const f=FE(e,jE(Zt(d))),m=FE(e,jE(Zt(h)));return f!==m?f-m:Zt(d)[o.start]-Zt(h)[o.start]})[0]};const HE=(t,e)=>{const n=t.page.borderBox.center;return Hi(t.descriptor.id,e)?yn(n,e.displacedBy.point):n},p7=(t,e)=>{const n=t.page.borderBox;return Hi(t.descriptor.id,e)?$u(n,sa(e.displacedBy.point)):n};var m7=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>GR({target:p7(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=du(t,av(n,HE(o,i))),u=du(t,av(n,HE(a,i)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,zu=gt(function(e,n){const r=n[e.line];return{value:r,point:Ds(e.line,r)}});const g7=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Ds(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=oa(t.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Ds(r.line,l)},YR=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),ZR=(t,e,n)=>{const r=t.frame;aa(e,t)&&Y(),t.subject.withPlaceholder&&Y();const i=zu(t.axis,e.displaceBy).point,s=g7(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=Go({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=s?Pt(r.scroll.max,s):r.scroll.max,l=YR(r,a),u=Go({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:u,frame:l}},v7=t=>{const e=t.subject.withPlaceholder;e||Y();const n=t.frame;if(!n){const o=Go({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||Y();const i=YR(n,r),s=Go({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var y7=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const h={displaced:hu,displacedBy:zR,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=Hf({impact:h,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=aa(r,s)?s:ZR(s,r,i);return QR({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],u=(()=>{const h=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?h:h+1})(),d=zu(s.axis,r.displaceBy);return Oh({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:hu,index:u})},_7=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=f7({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const u=oa(l.descriptor.id,i),d=m7({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:u,afterCritical:a}),h=y7({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:a});if(!h)return null;const f=Hf({impact:h,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:D0({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},bn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const w7=(t,e)=>{const n=bn(t);return n?e[n]:null};var b7=({state:t,type:e})=>{const n=w7(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return a?h7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function us(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function XR(t){const e=On(t.top,t.bottom),n=On(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function E7(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function T7({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Ds(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:du(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function I7({pageBorderBox:t,draggable:e,droppables:n}){const r=Bf(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!E7(t,s))return!1;if(XR(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],u=t[o.crossAxisEnd],d=On(s[o.crossAxisStart],s[o.crossAxisEnd]),h=d(l),f=d(u);return!h&&!f?!0:h?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:T7({pageBorderBox:t,draggable:e,candidates:r}):null}const JR=(t,e)=>Wn($u(t,e));var S7=(t,e)=>{const n=t.frame;return n?JR(e,n.scroll.diff.value):e};function eP({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function x7({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var C7=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=zu(n.axis,e.displaceBy),u=l.value,d=t[a.start],h=t[a.end],m=zf(e,r).find(T=>{const w=T.descriptor.id,y=T.page.borderBox.center[a.line],b=Hi(w,o),x=eP({displaced:i,id:w});return b?x?h<=y:d<y-u:x?h<=y+u:d<y})||null,v=x7({draggable:e,closest:m,inHomeList:aa(e,n)});return Oh({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:v})};const R7=4;var P7=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=zu(r.axis,t.displaceBy),l=a.value,u=e[o.start],d=e[o.end],f=zf(t,i).find(v=>{const T=v.descriptor.id,w=v.page.borderBox,b=w[o.size]/R7,x=Hi(T,s),A=eP({displaced:n.displaced,id:T});return x?A?d>w[o.start]+b&&d<w[o.end]-b:u>w[o.start]-l+b&&u<w[o.end]-l-b:A?d>w[o.start]+l+b&&d<w[o.end]+l-b:u>w[o.start]+b&&u<w[o.end]-b});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},tP=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=JR(e.page.borderBox,t),l=I7({pageBorderBox:a,draggable:e,droppables:r});if(!l)return z$;const u=r[l],d=oa(u.descriptor.id,n),h=S7(u,a);return P7({pageBorderBoxWithDroppableScroll:h,draggable:e,previousImpact:i,destination:u,insideDestination:d,afterCritical:o})||C7({pageBorderBoxWithDroppableScroll:h,draggable:e,destination:u,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},L0=(t,e)=>({...t,[e.descriptor.id]:e});const A7=({previousImpact:t,impact:e,droppables:n})=>{const r=bn(t),i=bn(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=v7(s);return L0(n,o)};var k7=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=A7({previousImpact:r,impact:i,droppables:n}),o=bn(i);if(!o)return s;const a=n[o];if(aa(t,a)||a.subject.withPlaceholder)return s;const l=ZR(a,t,e);return L0(s,l)},ml=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,u=yn(l,t.initial.client.selection),d={offset:u,selection:l,borderBoxCenter:Pt(t.initial.client.borderBoxCenter,u)},h={selection:Pt(d.selection,o.scroll.current),borderBoxCenter:Pt(d.borderBoxCenter,o.scroll.current),offset:Pt(d.offset,o.scroll.diff.value)},f={client:d,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const m=a.draggables[t.critical.draggable.id],v=i||tP({pageOffset:h.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),T=k7({draggable:m,impact:v,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:T},impact:v,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function N7(t,e){return t.map(n=>e[n])}var nP=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=N7(s.all,n),a=fu({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},rP=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=Hf({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return D0({pageBorderBoxCenter:o,draggable:e,viewport:i})},iP=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&Y();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],u=bn(r);u||Y();const d=a[u],h=nP({impact:r,viewport:i,destination:d,draggables:o}),f=rP({impact:h,draggable:l,droppable:d,draggables:o,viewport:i,afterCritical:t.afterCritical});return ml({impact:h,clientSelection:f,state:t,dimensions:s,viewport:i})},O7=t=>({index:t.index,droppableId:t.droppableId}),sP=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=zu(e.axis,t.displaceBy),s=oa(e.descriptor.id,n),o=s.indexOf(t);o===-1&&Y();const a=s.slice(o+1),l=a.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:fu({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:O7(t.descriptor)}},afterCritical:u}},D7=(t,e)=>({draggables:t.draggables,droppables:L0(t.droppables,e)}),L7=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Ph(t.client,e),i=Ah(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},M7=t=>{const e=t.frame;return e||Y(),e},V7=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=M7(o).scroll.diff.value,u=Pt(r,l);return L7({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},F7=({state:t,published:e})=>{const n=e.modified.map(y=>{const b=t.dimensions.droppables[y.droppableId];return P0(b,y.scroll)}),r={...t.dimensions.droppables,...BR(n)},i=$R(V7({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(y=>{delete s[y]});const o={droppables:r,draggables:s},a=bn(t.impact),l=a?o.droppables[a]:null,u=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=sP({draggable:u,home:d,draggables:s,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:h,v=tP({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:f}),T={...t,phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const lv=t=>t.movementMode==="SNAP",hm=(t,e,n)=>{const r=D7(t.dimensions,e);return!lv(t)||n?ml({state:t,dimensions:r}):iP({state:t,dimensions:r})};function fm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const WE={phase:"IDLE",completed:null,shouldFlush:!1};var j7=(t=WE,e)=>{if(e.type==="FLUSH")return{...WE,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Y();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:bt},d={client:u,page:{selection:Pt(u.selection,i.scroll.initial),borderBoxCenter:Pt(u.selection,i.scroll.initial),offset:Pt(u.selection,i.scroll.diff.value)}},h=Bf(s.droppables).every(T=>!T.isFixedOnPage),{impact:f,afterCritical:m}=sP({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:m,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&Y(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Y(),F7({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;us(t)||Y();const{client:n}=e.payload;return Ni(n,t.current.client.selection)?t:ml({state:t,clientSelection:n,impact:lv(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return fm(t);us(t)||Y();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=P0(i,r);return hm(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;us(t)||Y();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||Y(),i.isEnabled===r&&Y();const s={...i,isEnabled:r};return hm(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;us(t)||Y();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||Y(),i.isCombineEnabled===r&&Y();const s={...i,isCombineEnabled:r};return hm(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;us(t)||Y(),t.isWindowScrollAllowed||Y();const n=e.payload.newScroll;if(Ni(t.viewport.scroll.current,n))return fm(t);const r=KR(t.viewport,n);return lv(t)?iP({state:t,viewport:r}):ml({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!us(t))return t;const n=e.payload.maxScroll;if(Ni(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Y();const n=b7({state:t,type:e.type});return n?ml({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&Y(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Ve(t,e){return t instanceof Object&&"type"in t&&t.type===e}const U7=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),B7=t=>({type:"LIFT",payload:t}),$7=t=>({type:"INITIAL_PUBLISH",payload:t}),z7=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),H7=()=>({type:"COLLECTION_STARTING",payload:null}),W7=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),G7=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),q7=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),oP=t=>({type:"MOVE",payload:t}),K7=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Q7=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Y7=()=>({type:"MOVE_UP",payload:null}),Z7=()=>({type:"MOVE_DOWN",payload:null}),X7=()=>({type:"MOVE_RIGHT",payload:null}),J7=()=>({type:"MOVE_LEFT",payload:null}),M0=()=>({type:"FLUSH",payload:null}),ez=t=>({type:"DROP_ANIMATE",payload:t}),V0=t=>({type:"DROP_COMPLETE",payload:t}),aP=t=>({type:"DROP",payload:t}),tz=t=>({type:"DROP_PENDING",payload:t}),lP=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var nz=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Ve(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(V0({completed:l.completed})),e().phase!=="IDLE"&&Y(),n(M0()),n(U7({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:f,viewport:m}=t.startPublishing(d);n($7({critical:h,dimensions:f,clientSelection:o,movementMode:a,viewport:m}))},rz=t=>()=>e=>n=>{Ve(n,"INITIAL_PUBLISH")&&t.dragging(),Ve(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Ve(n,"FLUSH")||Ve(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const F0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},pu={opacity:{drop:0,combining:.7},scale:{drop:.75}},uP={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},rs=`${uP.outOfTheWay}s ${F0.outOfTheWay}`,gl={fluid:`opacity ${rs}`,snap:`transform ${rs}, opacity ${rs}`,drop:t=>{const e=`${t}s ${F0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${rs}`,placeholder:`height ${rs}, width ${rs}, margin ${rs}`},GE=t=>Ni(t,bt)?void 0:`translate(${t.x}px, ${t.y}px)`,uv={moveTo:GE,drop:(t,e)=>{const n=GE(t);if(n)return e?`${n} scale(${pu.scale.drop})`:n}},{minDropTime:cv,maxDropTime:cP}=uP,iz=cP-cv,qE=1500,sz=.6;var oz=({current:t,destination:e,reason:n})=>{const r=du(t,e);if(r<=0)return cv;if(r>=qE)return cP;const i=r/qE,s=cv+iz*i,o=n==="CANCEL"?s*sz:s;return Number(o.toFixed(2))},az=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=bn(t),l=a?o[a]:null,u=o[e.descriptor.droppableId],d=rP({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||u,viewport:r});return yn(d,e.client.borderBox.center)},lz=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:nP({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:hu},didDropInsideDroppable:!0};const uz=({getState:t,dispatch:e})=>n=>r=>{if(!Ve(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(tz({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Y(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Y();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=lz({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=h?A0(d):null,m=h?$f(d):null,v={index:a.draggable.index,droppableId:a.droppable.id},T={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:s,mode:i.movementMode,destination:f,combine:m},w=az({impact:d,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:d};if(!(!Ni(i.current.client.offset,w)||!!T.combine)){e(V0({completed:y}));return}const x=oz({current:i.current.client.offset,destination:w,reason:s});e(ez({newHomeClientOffset:w,dropDuration:x,completed:y}))};var dP=()=>({x:window.pageXOffset,y:window.pageYOffset});function cz(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function dz({onWindowScroll:t}){function e(){t(dP())}const n=cu(e),r=cz(n);let i=ki;function s(){return i!==ki}function o(){s()&&Y(),i=kn(window,[r])}function a(){s()||Y(),n.cancel(),i(),i=ki}return{start:o,stop:a,isActive:s}}const hz=t=>Ve(t,"DROP_COMPLETE")||Ve(t,"DROP_ANIMATE")||Ve(t,"FLUSH"),fz=t=>{const e=dz({onWindowScroll:n=>{t.dispatch(K7({newScroll:n}))}});return n=>r=>{!e.isActive()&&Ve(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&hz(r)&&e.stop(),n(r)}};var pz=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},mz=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&Y();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const gz=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,vz=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,yz=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},La=(t,e)=>{e()},Lc=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function pm(t,e,n,r){if(!t){n(r(e));return}const i=pz(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var _z=(t,e)=>{const n=mz();let r=null;const i=(h,f)=>{r&&Y(),La("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:h,mode:f})})},s=(h,f)=>{r&&Y(),La("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(Lc(h,f))})},o=(h,f)=>{r&&Y();const m=Lc(h,f);r={mode:f,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{La("onDragStart",()=>pm(t().onDragStart,m,e,cd.onDragStart))})},a=(h,f)=>{const m=A0(f),v=$f(f);r||Y();const T=!yz(h,r.lastCritical);T&&(r.lastCritical=h);const w=!gz(r.lastLocation,m);w&&(r.lastLocation=m);const y=!vz(r.lastCombine,v);if(y&&(r.lastCombine=v),!T&&!w&&!y)return;const b={...Lc(h,r.mode),combine:v,destination:m};n.add(()=>{La("onDragUpdate",()=>pm(t().onDragUpdate,b,e,cd.onDragUpdate))})},l=()=>{r||Y(),n.flush()},u=h=>{r||Y(),r=null,La("onDragEnd",()=>pm(t().onDragEnd,h,e,cd.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const h={...Lc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},wz=(t,e)=>{const n=_z(t,e);return r=>i=>s=>{if(Ve(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Ve(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Ve(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Ve(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const bz=t=>e=>n=>{if(!Ve(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&Y(),t.dispatch(V0({completed:r.completed}))},Ez=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((Ve(s,"FLUSH")||Ve(s,"DROP_COMPLETE")||Ve(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Ve(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(lP())}};n=requestAnimationFrame(()=>{n=null,e=kn(window,[o])})}};var Tz=t=>()=>e=>n=>{(Ve(n,"DROP_COMPLETE")||Ve(n,"FLUSH")||Ve(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},Iz=t=>{let e=!1;return()=>n=>r=>{if(Ve(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Ve(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Ve(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Sz=t=>Ve(t,"DROP_COMPLETE")||Ve(t,"DROP_ANIMATE")||Ve(t,"FLUSH");var xz=t=>e=>n=>r=>{if(Sz(r)){t.stop(),n(r);return}if(Ve(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&Y(),t.start(i);return}n(r),t.scroll(e.getState())};const Cz=t=>e=>n=>{if(e(n),!Ve(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(aP({reason:r.reason})))},Rz=xR;var Pz=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>SR(j7,Rz(EB(rz(n),Tz(t),nz(t),uz,bz,Ez,Cz,xz(s),fz,Iz(e),wz(r,i))));const mm=()=>({additions:{},removals:{},modified:{}});function Az({registry:t,callbacks:e}){let n=mm(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:d}=n,h=Object.keys(l).map(v=>t.draggable.getById(v).getDimension(bt)).sort((v,T)=>v.descriptor.index-T.descriptor.index),f=Object.keys(d).map(v=>{const w=t.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:w}}),m={additions:h,removals:Object.keys(u),modified:f};n=mm(),e.publish(m)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=mm())}}}var hP=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=yn({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},fP=()=>{const t=document.documentElement;return t||Y(),t},pP=()=>{const t=fP();return hP({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},kz=()=>{const t=dP(),e=pP(),n=t.y,r=t.x,i=fP(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Wn({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:bt,displacement:bt}}}},Nz=({critical:t,scrollOptions:e,registry:n})=>{const r=kz(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:$R(a),droppables:BR(o)},critical:t,viewport:r}};function KE(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Oz=(t,e)=>{let n=null;const r=Az({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,m)=>{t.droppable.exists(f)||Y(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:m})},s=(f,m)=>{n&&(t.droppable.exists(f)||Y(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},o=(f,m)=>{n&&(t.droppable.exists(f)||Y(),e.updateDroppableScroll({id:f,newScroll:m}))},a=(f,m)=>{n&&t.droppable.getById(f).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||Y();const m=n.critical.draggable;f.type==="ADDITION"&&KE(t,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&KE(t,m,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{n&&Y();const m=t.draggable.getById(f.draggableId),v=t.droppable.getById(m.descriptor.droppableId),T={draggable:m.descriptor,droppable:v.descriptor},w=t.subscribe(u);return n={critical:T,unsubscribe:w},Nz({critical:T,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},mP=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Dz=t=>{window.scrollBy(t.x,t.y)};const Lz=gt(t=>Bf(t).filter(e=>!(!e.isEnabled||!e.frame))),Mz=(t,e)=>Lz(e).find(r=>(r.frame||Y(),XR(r.frame.pageMarginBox)(t)))||null;var Vz=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return Mz(t,n)};const mu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Fz=(t,e,n=()=>mu)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},gP=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},j0=1,jz=(t,e,n=()=>mu)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return j0;const s=1-gP({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},Uz=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,u=Date.now()-o;if(u>=s)return t;if(u<i)return j0;const d=gP({startOfRange:i,endOfRange:a,current:u}),h=t*r.ease(d);return Math.ceil(h)},QE=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=jz(t,e,i);return s===0?0:r?Math.max(Uz(s,n,i),j0):s},YE=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=Fz(t,r,s);return e[r.end]<e[r.start]?QE({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*QE({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},Bz=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const $z=UR(t=>t===0?0:t);var vP=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=YE({container:e,distanceToEdges:o,dragStartTime:t,axis:k0,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=YE({container:e,distanceToEdges:o,dragStartTime:t,axis:WR,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=$z({x:l,y:a});if(Ni(u,bt))return null;const d=Bz({container:e,subject:n,proposedScroll:u});return d?Ni(d,bt)?null:d:null};const zz=UR(t=>t===0?0:t>0?1:-1),U0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Pt(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ni(s,bt)?null:s}})(),yP=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=zz(n),s=U0({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},B0=(t,e)=>yP({current:t.scroll.current,max:t.scroll.max,change:e}),Hz=(t,e)=>{if(!B0(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return U0({current:r,max:n,change:e})},$0=(t,e)=>{const n=t.frame;return n?yP({current:n.scroll.current,max:n.scroll.max,change:e}):!1},Wz=(t,e)=>{const n=t.frame;return!n||!$0(t,e)?null:U0({current:n.scroll.current,max:n.scroll.max,change:e})};var Gz=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=vP({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&B0(t,o)?o:null},qz=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=vP({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&$0(t,a)?a:null},ZE=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,f=Gz({dragStartTime:e,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(f){r(f);return}}const u=Vz({center:o,destination:bn(t.impact),droppables:t.dimensions.droppables});if(!u)return;const d=qz({dragStartTime:e,droppable:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&i(u.descriptor.id,d)},Kz=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>mu})=>{const r=cu(t),i=cu(e);let s=null;const o=u=>{s||Y();const{shouldUseTimeDampening:d,dragStartTime:h}=s;ZE({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{s&&Y();const d=Date.now();let h=!1;const f=()=>{h=!0};ZE({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&o(u)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},Qz=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const u=Pt(a.current.client.selection,l);t({client:u})},i=(a,l)=>{if(!$0(a,l))return l;const u=Wz(a,l);if(!u)return e(a.descriptor.id,l),null;const d=yn(l,u);return e(a.descriptor.id,d),yn(l,d)},s=(a,l,u)=>{if(!a||!B0(l,u))return u;const d=Hz(l,u);if(!d)return n(u),null;const h=yn(u,d);return n(h),yn(u,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=bn(a.impact);u||Y();const d=i(a.dimensions.droppables[u],l);if(!d)return;const h=a.viewport,f=s(a.isWindowScrollAllowed,h,d);f&&r(a,f)}},Yz=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=Kz({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=Qz({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const qo="data-rfd",Ko=(()=>{const t=`${qo}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),dv=(()=>{const t=`${qo}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Zz=(()=>{const t=`${qo}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),XE={contextId:`${qo}-scroll-container-context-id`},Xz=t=>e=>`[${e}="${t}"]`,Ma=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),Jz="pointer-events: none;";var eH=t=>{const e=Xz(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Ko.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Jz,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${gl.outOfTheWay};
    `;return{selector:e(dv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(Zz.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ma(o,"always"),resting:Ma(o,"resting"),dragging:Ma(o,"dragging"),dropAnimating:Ma(o,"dropAnimating"),userCancel:Ma(o,"userCancel")}};const En=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,gm=()=>{const t=document.querySelector("head");return t||Y(),t},JE=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function tH(t,e){const n=Pe(()=>eH(t),[t]),r=N.useRef(null),i=N.useRef(null),s=oe(gt(h=>{const f=i.current;f||Y(),f.textContent=h}),[]),o=oe(h=>{const f=r.current;f||Y(),f.textContent=h},[]);En(()=>{!r.current&&!i.current||Y();const h=JE(e),f=JE(e);return r.current=h,i.current=f,h.setAttribute(`${qo}-always`,t),f.setAttribute(`${qo}-dynamic`,t),gm().appendChild(h),gm().appendChild(f),o(n.always),s(n.resting),()=>{const m=v=>{const T=v.current;T||Y(),gm().removeChild(T),v.current=null};m(r),m(i)}},[e,o,s,n.always,n.resting,t]);const a=oe(()=>s(n.dragging),[s,n.dragging]),l=oe(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=oe(()=>{i.current&&s(n.resting)},[s,n.resting]);return Pe(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function _P(t,e){return Array.from(t.querySelectorAll(e))}var wP=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Wf(t){return t instanceof wP(t).HTMLElement}function nH(t,e){const n=`[${Ko.contextId}="${t}"]`,r=_P(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Ko.draggableId)===e);return!i||!Wf(i)?null:i}function rH(t){const e=N.useRef({}),n=N.useRef(null),r=N.useRef(null),i=N.useRef(!1),s=oe(function(f,m){const v={id:f,focus:m};return e.current[f]=v,function(){const w=e.current;w[f]!==v&&delete w[f]}},[]),o=oe(function(f){const m=nH(t,f);m&&m!==document.activeElement&&m.focus()},[t]),a=oe(function(f,m){n.current===f&&(n.current=m)},[]),l=oe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&o(f)}))},[o]),u=oe(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(Ko.draggableId)===f&&(n.current=f)},[]);return En(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Pe(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function iH(){const t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){const m=e.indexOf(h);m!==-1&&e.splice(m,1)}}function r(h){e.length&&e.forEach(f=>f(h))}function i(h){return t.draggables[h]||null}function s(h){const f=i(h);return f||Y(),f}const o={register:h=>{t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,f)=>{const m=t.draggables[f.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const f=h.descriptor.id,m=i(f);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[f],t.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(t.draggables).filter(f=>f.descriptor.type===h)};function a(h){return t.droppables[h]||null}function l(h){const f=a(h);return f||Y(),f}const u={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const f=a(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(t.droppables).filter(f=>f.descriptor.type===h)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:d}}function sH(){const t=Pe(iH,[]);return N.useEffect(()=>function(){t.clean()},[t]),t}var z0=Me.createContext(null),Dh=()=>{const t=document.body;return t||Y(),t};const oH={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},aH=t=>`rfd-announcement-${t}`;function lH(t){const e=Pe(()=>aH(t),[t]),n=N.useRef(null);return N.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ue(s.style,oH),Dh().appendChild(s),function(){setTimeout(function(){const l=Dh();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),oe(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const uH={separator:"::"};function H0(t,e=uH){const n=Me.useId();return Pe(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function cH({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function dH({contextId:t,text:e}){const n=H0("hidden-text",{separator:"-"}),r=Pe(()=>cH({contextId:t,uniqueId:n}),[n,t]);return N.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",Dh().appendChild(s),function(){const a=Dh();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var Gf=Me.createContext(null);function bP(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),e}function hH(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&Y();const a={abandon:o};return t=a,a}function i(){t||Y(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function gu(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const fH=9,pH=13,W0=27,EP=32,mH=33,gH=34,vH=35,yH=36,_H=37,wH=38,bH=39,EH=40,TH={[pH]:!0,[fH]:!0};var TP=t=>{TH[t.keyCode]&&t.preventDefault()};const qf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),IP=0,eT=5;function IH(t,e){return Math.abs(e.x-t.x)>=eT||Math.abs(e.y-t.y)>=eT}const tT={type:"IDLE"};function SH({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==IP)return;const l={x:o,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&Y();const d=u.point;if(!IH(d,l))return;i.preventDefault();const h=u.actions.fluidLift(l);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===W0){i.preventDefault(),t();return}TP(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&Y(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:qf,fn:t}]}function xH(t){const e=N.useRef(tT),n=N.useRef(ki),r=Pe(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==IP||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const f=t.findClosestDraggableId(h);if(!f)return;const m=t.tryGetLock(f,o,{sourceEvent:h});if(!m)return;h.preventDefault();const v={x:h.clientX,y:h.clientY};n.current(),u(m,v)}}),[t]),i=Pe(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=t.findClosestDraggableId(d);if(!h)return;const f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}),[t]),s=oe(function(){const h={passive:!1,capture:!0};n.current=kn(window,[i,r],h)},[i,r]),o=oe(()=>{e.current.type!=="IDLE"&&(e.current=tT,n.current(),s())},[s]),a=oe(()=>{const d=e.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=oe(function(){const h={capture:!0,passive:!1},f=SH({cancel:a,completed:o,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=kn(window,f,h)},[a,o]),u=oe(function(h,f){e.current.type!=="IDLE"&&Y(),e.current={type:"PENDING",point:f,actions:h},l()},[l]);En(function(){return s(),function(){n.current()}},[s])}function CH(){}const RH={[gH]:!0,[mH]:!0,[yH]:!0,[vH]:!0};function PH(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===W0){i.preventDefault(),n();return}if(i.keyCode===EP){i.preventDefault(),r();return}if(i.keyCode===EH){i.preventDefault(),t.moveDown();return}if(i.keyCode===wH){i.preventDefault(),t.moveUp();return}if(i.keyCode===bH){i.preventDefault(),t.moveRight();return}if(i.keyCode===_H){i.preventDefault(),t.moveLeft();return}if(RH[i.keyCode]){i.preventDefault();return}TP(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:qf,fn:n}]}function AH(t){const e=N.useRef(CH),n=Pe(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==EP)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();e.current();function d(){l||Y(),l=!1,e.current(),r()}e.current=kn(window,PH(u,d),{capture:!0,passive:!1})}}),[t]),r=oe(function(){const s={passive:!1,capture:!0};e.current=kn(window,[n],s)},[n]);En(function(){return r(),function(){e.current()}},[r])}const vm={type:"IDLE"},kH=120,NH=.15;function OH({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===W0&&n.preventDefault(),t()}},{eventName:qf,fn:t}]}function DH({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Y();const s=r.touches[0];if(!s||!(s.force>=NH))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:qf,fn:t}]}function LH(t){const e=N.useRef(vm),n=N.useRef(ki),r=oe(function(){return e.current},[]),i=oe(function(m){e.current=m},[]),s=Pe(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const v=t.findClosestDraggableId(m);if(!v)return;const T=t.tryGetLock(v,a,{sourceEvent:m});if(!T)return;const w=m.touches[0],{clientX:y,clientY:b}=w,x={x:y,y:b};n.current(),h(T,x)}}),[t]),o=oe(function(){const m={capture:!0,passive:!1};n.current=kn(window,[s],m)},[s]),a=oe(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(vm),n.current(),o())},[o,i]),l=oe(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=oe(function(){const m={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:r},T=kn(window,DH(v),m),w=kn(window,OH(v),m);n.current=function(){T(),w()}},[l,r,a]),d=oe(function(){const m=r();m.type!=="PENDING"&&Y();const v=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),h=oe(function(m,v){r().type!=="IDLE"&&Y();const T=setTimeout(d,kH);i({type:"PENDING",point:v,actions:m,longPressTimerId:T}),u()},[u,r,i,d]);En(function(){return o(),function(){n.current();const v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(vm))}},[r,o,i]),En(function(){return kn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const MH=["input","button","textarea","select","option","optgroup","video","audio"];function SP(t,e){if(e==null)return!1;if(MH.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:SP(t,e.parentElement)}function VH(t,e){const n=e.target;return Wf(n)?SP(t,n):!1}var FH=t=>Wn(t.getBoundingClientRect()).center;function jH(t){return t instanceof wP(t).Element}const UH=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function xP(t,e){return t==null?null:t[UH](e)?t:xP(t.parentElement,e)}function BH(t,e){return t.closest?t.closest(e):xP(t,e)}function $H(t){return`[${Ko.contextId}="${t}"]`}function zH(t,e){const n=e.target;if(!jH(n))return null;const r=$H(t),i=BH(n,r);return!i||!Wf(i)?null:i}function HH(t,e){const n=zH(t,e);return n?n.getAttribute(Ko.draggableId):null}function WH(t,e){const n=`[${dv.contextId}="${t}"]`,i=_P(document,n).find(s=>s.getAttribute(dv.id)===e);return!i||!Wf(i)?null:i}function GH(t){t.preventDefault()}function Mc({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function CP({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!mP(e.getState(),r))}function qH({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!CP({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=WH(e,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&VH(u,o))return null;const d=t.claim(s||ki);let h="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}function v(L,D){Mc({expected:L,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(D())}const T=v.bind(null,"DRAGGING");function w(L){function D(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(D(),Y()),n.dispatch(B7(L.liftActionArgs)),h="DRAGGING";function I(_,R={shouldBlockNextClick:!1}){if(L.cleanup(),R.shouldBlockNextClick){const P=kn(window,[{eventName:"click",fn:GH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}D(),n.dispatch(aP({reason:_}))}return{isActive:()=>Mc({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,drop:_=>I("DROP",_),cancel:_=>I("CANCEL",_),...L.actions}}function y(L){const D=cu(_=>{T(()=>oP({client:_}))});return{...w({liftActionArgs:{id:i,clientSelection:L,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function b(){const L={moveUp:()=>T(Y7),moveRight:()=>T(X7),moveDown:()=>T(Z7),moveLeft:()=>T(J7)};return w({liftActionArgs:{id:i,clientSelection:FH(u),movementMode:"SNAP"},cleanup:ki,actions:L})}function x(){Mc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>Mc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:y,snapLift:b,abort:x}}const KH=[xH,AH,LH];function QH({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?KH:[],...r||[]],o=N.useState(()=>hH())[0],a=oe(function(w,y){gu(w)&&!gu(y)&&o.tryAbandon()},[o]);En(function(){let w=e.getState();return e.subscribe(()=>{const b=e.getState();a(w,b),w=b})},[o,e,a]),En(()=>o.tryAbandon,[o.tryAbandon]);const l=oe(T=>CP({lockAPI:o,registry:n,store:e,draggableId:T}),[o,n,e]),u=oe((T,w,y)=>qH({lockAPI:o,registry:n,contextId:t,store:e,draggableId:T,forceSensorStop:w||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[t,o,n,e]),d=oe(T=>HH(t,T),[t]),h=oe(T=>{const w=n.draggable.findById(T);return w?w.options:null},[n.draggable]),f=oe(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(M0()))},[o,e]),m=oe(()=>o.isClaimed(),[o]),v=Pe(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:m}),[l,u,d,h,f,m]);for(let T=0;T<s.length;T++)s[T](v)}const YH=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Eu.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),ZH=t=>({...mu,...t.autoScrollerOptions,durationDampening:{...mu.durationDampening,...t.autoScrollerOptions}});function Va(t){return t.current||Y(),t.current}function XH(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=N.useRef(null),a=bP(t),l=oe(()=>YH(a.current),[a]),u=oe(()=>ZH(a.current),[a]),d=lH(e),h=dH({contextId:e,text:s}),f=tH(e,i),m=oe(P=>{Va(o).dispatch(P)},[]),v=Pe(()=>CE({publishWhileDragging:z7,updateDroppableScroll:W7,updateDroppableIsEnabled:G7,updateDroppableIsCombineEnabled:q7,collectionStarting:H7},m),[m]),T=sH(),w=Pe(()=>Oz(T,v),[T,v]),y=Pe(()=>Yz({scrollWindow:Dz,scrollDroppable:w.scrollDroppable,getAutoScrollerOptions:u,...CE({move:oP},m)}),[w.scrollDroppable,m,u]),b=rH(e),x=Pe(()=>Pz({announce:d,autoScroller:y,dimensionMarshal:w,focusMarshal:b,getResponders:l,styleMarshal:f}),[d,y,w,b,l,f]);o.current=x;const A=oe(()=>{const P=Va(o);P.getState().phase!=="IDLE"&&P.dispatch(M0())},[]),L=oe(()=>{const P=Va(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),D=Pe(()=>({isDragging:L,tryAbort:A}),[L,A]);n(D);const I=oe(P=>mP(Va(o).getState(),P),[]),_=oe(()=>us(Va(o).getState()),[]),R=Pe(()=>({marshal:w,focus:b,contextId:e,canLift:I,isMovementAllowed:_,dragHandleUsageInstructionsId:h,registry:T}),[e,w,h,b,I,_,T]);return QH({contextId:e,store:x,registry:T,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),N.useEffect(()=>A,[A]),Me.createElement(Gf.Provider,{value:R},Me.createElement(E$,{context:z0,store:x},t.children))}function JH(){return Me.useId()}function eW(t){const e=JH(),n=t.dragHandleUsageInstructions||cd.dragHandleUsageInstructions;return Me.createElement(k$,null,r=>Me.createElement(XH,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const nT={dragging:5e3,dropAnimating:4500},tW=(t,e)=>e?gl.drop(e.duration):t?gl.snap:gl.fluid,nW=(t,e)=>{if(t)return e?pu.opacity.drop:pu.opacity.combining},rW=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function iW(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=rW(t),l=!!s,u=l?uv.drop(r,o):uv.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:tW(a,s),transform:u,opacity:nW(o,l),zIndex:l?nT.dropAnimating:nT.dragging,pointerEvents:"none"}}function sW(t){return{transform:uv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function oW(t){return t.type==="DRAGGING"?iW(t):sW(t)}function aW(t,e,n=bt){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=LR(i,r),o=Ah(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function lW(t){const e=H0("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=Pe(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=oe(m=>{const v=i();return v||Y(),aW(n,v,m)},[n,i]),d=Pe(()=>({uniqueId:e,descriptor:n,options:l,getDimension:u}),[n,u,l,e]),h=N.useRef(d),f=N.useRef(!0);En(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),En(()=>{if(f.current){f.current=!1;return}const m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}var G0=Me.createContext(null);function Lh(t){const e=N.useContext(t);return e||Y(),e}function uW(t){t.preventDefault()}const cW=t=>{const e=N.useRef(null),n=oe((D=null)=>{e.current=D},[]),r=oe(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=Lh(Gf),{type:a,droppableId:l}=Lh(G0),u=Pe(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:v,isClone:T,mapped:w,dropAnimationFinished:y}=t;if(!T){const D=Pe(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:f}),[u,o,r,v,m,f]);lW(D)}const b=Pe(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:uW}:null,[i,s,h,f]),x=oe(D=>{w.type==="DRAGGING"&&w.dropping&&D.propertyName==="transform"&&Eu.flushSync(y)},[y,w]),A=Pe(()=>{const D=oW(w),I=w.type==="DRAGGING"&&w.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:D,onTransitionEnd:I},dragHandleProps:b}},[i,b,h,w,x,n]),L=Pe(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Me.createElement(Me.Fragment,null,d(A,w.snapshot,L))};var RP=(t,e)=>t===e,PP=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const dW=t=>t.combine?t.combine.draggableId:null,hW=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function fW(){const t=gt((i,s)=>({x:i,y:s})),e=gt((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=gt((i,s,o,a,l=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:d,snapshot:e(s,a,l,u,null)}}));return(i,s)=>{if(gu(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=bn(i.impact),u=hW(i.impact),d=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,u,d)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],u=o.result,d=u.mode,h=PP(u),f=dW(u),v={duration:i.dropDuration,curve:F0.drop,moveTo:i.newHomeClientOffset,opacity:f?pu.opacity.drop:null,scale:f?pu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:v,draggingOver:h,combineWith:f,mode:d,forceShouldAnimate:null,snapshot:e(d,a,h,f,v)}}}return null}}function AP(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const pW={mapped:{type:"SECONDARY",offset:bt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:AP(null)}};function mW(){const t=gt((o,a)=>({x:o,y:a})),e=gt(AP),n=gt((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(bt,o,!0):null,i=(o,a,l,u)=>{const d=l.displaced.visible[o],h=!!(u.inVirtualList&&u.effected[o]),f=$f(l),m=f&&f.draggableId===o?a:null;if(!d){if(!h)return r(m);if(l.displaced.invisible[o])return null;const w=sa(u.displacedBy.point),y=t(w.x,w.y);return n(y,m,!0)}if(h)return r(m);const v=l.displacedBy.point,T=t(v.x,v.y);return n(T,m,d.shouldAnimate)};return(o,a)=>{if(gu(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const gW=()=>{const t=fW(),e=mW();return(r,i)=>t(r,i)||e(r,i)||pW},vW={dropAnimationFinished:lP},yW=OR(gW,vW,null,{context:z0,areStatePropsEqual:RP})(cW);function kP(t){return Lh(G0).isUsingCloneFor===t.draggableId&&!t.isClone?null:Me.createElement(yW,t)}function _W(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Me.createElement(kP,ue({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const NP=t=>e=>t===e,wW=NP("scroll"),bW=NP("auto"),rT=(t,e)=>e(t.overflowX)||e(t.overflowY),EW=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return rT(n,wW)||rT(n,bW)},TW=()=>!1,OP=t=>t==null?null:t===document.body?TW()?t:null:t===document.documentElement?null:EW(t)?t:OP(t.parentElement);var hv=t=>({x:t.scrollLeft,y:t.scrollTop});const DP=t=>t?window.getComputedStyle(t).position==="fixed"?!0:DP(t.parentElement):!1;var IW=t=>{const e=OP(t),n=DP(t);return{closestScrollable:e,isFixedOnPage:n}},SW=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:m}=a,v=hP({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:v,diff:{value:bt,displacement:bt}}}})(),u=i==="vertical"?k0:WR,d=Go({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:s,page:o,frame:l,subject:d}};const xW=(t,e)=>{const n=MR(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=C0({top:r,right:o,bottom:s,left:i},n.border);return R0({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var CW=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,u=xW(t,l),d=Ah(u,r),h=(()=>{if(!l)return null;const m=MR(l),v={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:Ah(m,r),scroll:hv(l),scrollSize:v,shouldClipSubject:a}})();return SW({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:h})};const RW={passive:!1},PW={passive:!0};var iT=t=>t.shouldPublishImmediately?RW:PW;const Vc=t=>t&&t.env.closestScrollable||null;function AW(t){const e=N.useRef(null),n=Lh(Gf),r=H0("droppable"),{registry:i,marshal:s}=n,o=bP(t),a=Pe(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=N.useRef(a),u=Pe(()=>gt((A,L)=>{e.current||Y();const D={x:A,y:L};s.updateDroppableScroll(a.id,D)}),[a.id,s]),d=oe(()=>{const A=e.current;return!A||!A.env.closestScrollable?bt:hv(A.env.closestScrollable)},[]),h=oe(()=>{const A=d();u(A.x,A.y)},[d,u]),f=Pe(()=>cu(h),[h]),m=oe(()=>{const A=e.current,L=Vc(A);if(A&&L||Y(),A.scrollOptions.shouldPublishImmediately){h();return}f()},[f,h]),v=oe((A,L)=>{e.current&&Y();const D=o.current,I=D.getDroppableRef();I||Y();const _=IW(I),R={ref:I,descriptor:a,env:_,scrollOptions:L};e.current=R;const P=CW({ref:I,descriptor:a,env:_,windowScroll:A,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),k=_.closestScrollable;return k&&(k.setAttribute(XE.contextId,n.contextId),k.addEventListener("scroll",m,iT(R.scrollOptions))),P},[n.contextId,a,m,o]),T=oe(()=>{const A=e.current,L=Vc(A);return A&&L||Y(),hv(L)},[]),w=oe(()=>{const A=e.current;A||Y();const L=Vc(A);e.current=null,L&&(f.cancel(),L.removeAttribute(XE.contextId),L.removeEventListener("scroll",m,iT(A.scrollOptions)))},[m,f]),y=oe(A=>{const L=e.current;L||Y();const D=Vc(L);D||Y(),D.scrollTop+=A.y,D.scrollLeft+=A.x},[]),b=Pe(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:T,dragStopped:w,scroll:y}),[w,v,T,y]),x=Pe(()=>({uniqueId:r,descriptor:a,callbacks:b}),[b,a,r]);En(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&w(),i.droppable.unregister(x)}),[b,a,w,x,s,i.droppable]),En(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),En(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function ym(){}const sT={width:0,height:0,margin:V$},kW=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?sT:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},NW=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=kW({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?gl.placeholder:null}},OW=t=>{const e=N.useRef(null),n=oe(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=N.useState(t.animate==="open");N.useEffect(()=>a?r!=="open"?(n(),l(!1),ym):e.current?ym:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):ym,[r,a,n]);const u=oe(h=>{h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=NW({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return Me.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:t.innerRef})};var DW=Me.memo(OW);class LW extends Me.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const MW=t=>{const e=N.useContext(Gf);e||Y();const{contextId:n,isMovementAllowed:r}=e,i=N.useRef(null),s=N.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:m,snapshot:v,useClone:T,updateViewportMaxScroll:w,getContainerForClone:y}=t,b=oe(()=>i.current,[]),x=oe((k=null)=>{i.current=k},[]);oe(()=>s.current,[]);const A=oe((k=null)=>{s.current=k},[]),L=oe(()=>{r()&&w({maxScroll:pP()})},[r,w]);AW({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:b});const D=Pe(()=>Me.createElement(LW,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:k,data:O,animate:S})=>Me.createElement(DW,{placeholder:O,onClose:k,innerRef:A,animate:S,contextId:n,onTransitionEnd:L})),[n,L,t.placeholder,t.shouldAnimatePlaceholder,A]),I=Pe(()=>({innerRef:x,placeholder:D,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,D,x]),_=T?T.dragging.draggableId:null,R=Pe(()=>({droppableId:a,type:l,isUsingCloneFor:_}),[a,_,l]);function P(){if(!T)return null;const{dragging:k,render:O}=T,S=Me.createElement(kP,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(F,B)=>O(F,B,k));return bS.createPortal(S,y())}return Me.createElement(G0.Provider,{value:R},o(I,v),P())};function VW(){return document.body||Y(),document.body}const oT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:VW},LP=t=>{let e={...t},n;for(n in oT)t[n]===void 0&&(e={...e,[n]:oT[n]});return e},_m=(t,e)=>t===e.droppable.type,aT=(t,e)=>e.draggables[t.draggable.id],FW=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=gt(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=gt((s,o,a,l,u,d)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===s){const v=d?{render:d,dragging:n(u.descriptor)}:null,T={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:v}}if(!o)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=LP(o),l=a.droppableId,u=a.type,d=!a.isDropDisabled,h=a.renderClone;if(gu(s)){const f=s.critical;if(!_m(u,f))return e;const m=aT(f,s.dimensions),v=bn(s.impact)===l;return r(l,d,v,v,m,h)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!_m(u,f.critical))return e;const m=aT(f.critical,s.dimensions);return r(l,d,PP(f.result)===l,bn(f.impact)===l,m,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!_m(u,f.critical))return e;const m=bn(f.impact)===l,v=!!(f.impact.at&&f.impact.at.type==="COMBINE"),T=f.critical.droppable.id===l;return m?v?t:e:T?t:e}return e}},jW={updateViewportMaxScroll:Q7},UW=OR(FW,jW,(t,e,n)=>({...LP(n),...t,...e}),{context:z0,areStatePropsEqual:RP})(MW);var BW=UW;function $W(t){return Re({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 405.429C128 428.846 147.198 448 170.667 448h170.667C364.802 448 384 428.846 384 405.429V160H128v245.429zM416 96h-80l-26.785-32H202.786L176 96H96v32h320V96z"},child:[]}]})(t)}function zW(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.24264 18.9967H21V20.9967H3V16.754L12.8995 6.85453L17.1421 11.0972L9.24264 18.9967ZM14.3137 5.44032L16.435 3.319C16.8256 2.92848 17.4587 2.92848 17.8492 3.319L20.6777 6.14743C21.0682 6.53795 21.0682 7.17112 20.6777 7.56164L18.5563 9.68296L14.3137 5.44032Z"},child:[]}]})(t)}const HW=({tasks:t,tasksByStatus:e,columnsOrder:n,getContactNameById:r,getContactInitialsById:i,getSubtaskCompletion:s,getPriorityColor:o,getPriorityIcon:a,openEditModal:l,handleDeleteTask:u,onDragEnd:d})=>E.jsxs("main",{className:"p-6 min-h-screen",role:"main","aria-labelledby":"task-board-heading",children:[E.jsx("h1",{id:"task-board-heading",className:"text-4xl md:text-5xl font-bold mt-6 mb-10 text-center",children:"Task Overview"}),t.length===0?E.jsx("p",{className:"text-gray-700 text-center text-lg",role:"status",children:"Your tasks will appear here."}):E.jsx(eW,{onDragEnd:d,children:E.jsx("section",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0","aria-label":"Task Columns",children:n.map(h=>E.jsx(BW,{droppableId:h,children:(f,m)=>E.jsxs("div",{ref:f.innerRef,...f.droppableProps,className:`flex-1  p-4 ${m.isDraggingOver?"bg-blue-50":""}`,"aria-labelledby":`column-${h}-heading`,children:[E.jsx("h2",{id:`column-${h}-heading`,className:"text-xl font-bold mb-8 text-center",children:h}),E.jsxs("ul",{role:"list",children:[e[h].map((v,T)=>E.jsx(_W,{draggableId:v.id,index:T,children:(w,y)=>E.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:`flex flex-col justify-between bg-white p-4 rounded-lg shadow-[0_3px_10px_rgb(0,0,0,0.2)] mb-4  ${y.isDragging?"bg-blue-100":"bg-white"} transition-colors duration-200`,"aria-labelledby":`task-title-${v.id}`,"aria-describedby":`task-description-${v.id}`,children:[E.jsxs("div",{children:[E.jsx("h3",{id:`task-title-${v.id}`,className:"text-lg font-semibold mb-2",children:v.title}),E.jsx("p",{id:`task-description-${v.id}`,className:"text-gray-700 mb-2 hidden sm:block",children:v.description.length>50?v.description.slice(0,47)+"...":v.description}),E.jsx("div",{className:"sm:flex items-center mb-2 hidden",children:v.assignedTo.map(b=>E.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mr-2 text-xs",title:r(b),"aria-label":`Assigned to ${r(b)}`,children:i(b)},b))}),v.subtask&&v.subtask.length>0&&E.jsxs("p",{className:"text-gray-600 mb-2",children:[E.jsx("strong",{children:"Subtasks:"})," ",s(v)]})]}),E.jsxs("div",{className:"flex justify-between items-center sm:mt-4",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:`${o(v.priority)} mr-2`,style:{fontSize:"1.5rem"},children:a(v.priority)}),E.jsx("span",{className:"text-black font-medium",children:v.priority})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>l(v),className:"text-blue-500 hover:text-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":`Edit task ${v.title}`,children:E.jsx(zW,{size:30,"aria-hidden":"true",className:"md:scale-125"})}),E.jsx("button",{onClick:()=>u(v.id),className:"text-red-700 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 rounded","aria-label":`Delete task ${v.title}`,children:E.jsx($W,{size:25,"aria-hidden":"true",className:"md:scale-125"})})]})]})]})},v.id)),f.placeholder]})]})},h))})})]}),WW=()=>E.jsx(yB,{children:t=>E.jsx(HW,{...t})});function GW(t){return Re({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M1,3 L23,3 L23,7 L1,7 L1,3 Z M1,10 L23,10 L23,14 L1,14 L1,10 Z M1,17 L23,17 L23,21 L1,21 L1,17 Z M1,4 L16,4 L16,6 L1,6 L1,4 Z M1,11 L6,11 L6,13 L1,13 L1,11 Z M1,18 L11,18 L11,20 L1,20 L1,18 Z"},child:[]}]})(t)}const qW=({openCreateTaskModal:t})=>{var s;const{currentUser:e}=N.useContext(Xi),[n,r]=N.useState(!1),i=async()=>{try{await gL(To)}catch(o){console.error("Error signing out:",o)}};return E.jsxs("nav",{className:"bg-gray-800 ",children:[E.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex justify-between items-center h-16",children:[E.jsxs(ft,{to:"/summary",className:"text-white text-2xl md:text-3xl font-bold flex items-center",children:[E.jsx(GW,{className:"mr-2"})," Kanban"]}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:()=>r(!n),className:"text-white focus:outline-none","aria-label":"Toggle navigation menu","aria-expanded":n,children:n?E.jsx(l0,{className:"text-2xl"}):E.jsx(h5,{className:"text-2xl"})})}),E.jsx("div",{className:"hidden md:flex md:items-center md:space-x-2",children:e?E.jsxs(E.Fragment,{children:[E.jsxs(ft,{to:"/summary",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[E.jsx(bE,{className:"mr-2"}),"Summary"]}),E.jsxs(ft,{to:"/dashboard",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[E.jsx(TE,{className:"mr-2"}),"Overview"]}),E.jsxs("button",{onClick:t,className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200","aria-label":"Create Task",children:[E.jsx(iv,{className:"mr-2"}),"Create Task"]}),E.jsxs(ft,{to:"/contacts",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[E.jsx(Lb,{className:"mr-2"}),"Contacts"]}),E.jsxs("div",{className:"text-white px-4 flex items-center",children:[E.jsx(Fb,{className:"mr-2",size:30}),(s=e.email)==null?void 0:s.slice(0,1)]}),E.jsxs("button",{onClick:i,className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200","aria-label":"Logout",children:[E.jsx(Vb,{className:"mr-2"}),"Logout"]})]}):E.jsxs(E.Fragment,{children:[E.jsxs(ft,{to:"/login",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[E.jsx(Mb,{className:"mr-2"}),"Login"]}),E.jsxs(ft,{to:"/signup",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[E.jsx(jb,{className:"mr-2"}),"Sign Up"]})]})})]}),n&&E.jsx("div",{className:"md:hidden",children:E.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:e?E.jsxs(E.Fragment,{children:[E.jsxs(ft,{to:"/summary",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[E.jsx(bE,{className:"mr-2"}),"Summary"]}),E.jsxs(ft,{to:"/dashboard",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[E.jsx(TE,{className:"mr-2"}),"Dashboard"]}),E.jsxs("button",{onClick:()=>{t(),r(!1)},className:"flex items-center w-full bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2","aria-label":"Create Task",children:[E.jsx(iv,{className:"mr-2"}),"Create Task"]}),E.jsxs(ft,{to:"/contacts",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[E.jsx(Lb,{className:"mr-2"}),"Contacts"]}),E.jsxs("button",{onClick:()=>{i(),r(!1)},className:"flex items-center w-full bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2","aria-label":"Logout",children:[E.jsx(Vb,{className:"mr-2"}),"Logout"]}),E.jsxs("span",{className:"text-white flex  items-center mt-2",children:[E.jsx(Fb,{className:"mr-2"}),e.email]})]}):E.jsxs(E.Fragment,{children:[E.jsxs(ft,{to:"/login",onClick:()=>r(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[E.jsx(Mb,{className:"mr-2"}),"Login"]}),E.jsxs(ft,{to:"/signup",onClick:()=>r(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200 mt-2",children:[E.jsx(jb,{className:"mr-2"}),"Sign Up"]})]})})})]})},KW=({children:t,onClose:e,isOpen:n})=>{const[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState("Normal"),[u,d]=N.useState([]),[h,f]=N.useState([]),[m,v]=N.useState(""),[T,w]=N.useState([]),[y,b]=N.useState(""),[x,A]=N.useState(""),[L,D]=N.useState([]),[I,_]=N.useState(""),R=Iu(),{currentUser:P}=N.useContext(Xi);N.useEffect(()=>{const H=async()=>{if(P)try{const Q=Or(_t,"contacts"),ie=vs(Q,vi("userId","==",P.uid)),fe=(await Zp(ie)).docs.map(Se=>({id:Se.id,...Se.data()}));f(fe)}catch(Q){console.error("Error fetching contacts:",Q)}},X=async()=>{if(P)try{const Q=Or(_t,"tasks"),ie=vs(Q,vi("userId","==",P.uid)),be=await Zp(ie),fe=new Set;be.forEach(Se=>{const Be=Se.data();Be.category&&fe.add(Be.category)}),w(Array.from(fe))}catch(Q){console.error("Error fetching categories:",Q)}};H(),X()},[P]),N.useEffect(()=>{n&&G()},[n]);const k=H=>{const X=[...L];X[H].status=X[H].status==="done"?"not done":"done",D(X)},O=(H,X)=>{const Q=[...L];Q[H].description=X,D(Q)},S=async H=>{if(H.preventDefault(),_(""),!P){_("You must be logged in to create a task.");return}if(r.trim()===""||s.trim()===""||u.length===0||m.trim()===""||y.trim()===""){_("Title, Description, Assigned To, Category, and Due Date are required.");return}try{const X=Or(_t,"tasks"),Q=vs(X,vi("userId","==",P.uid),vi("status","==","To do"),Ug("order","desc"),_3(1)),ie=await Zp(Q);let be=0;if(!ie.empty){const fe=ie.docs[0].data();be={id:ie.docs[0].id,title:fe.title,description:fe.description,priority:fe.priority,createdAt:fe.createdAt,userId:fe.userId,assignedTo:fe.assignedTo,category:fe.category,dueDate:fe.dueDate,subtask:fe.subtask,status:fe.status||"To do",order:typeof fe.order=="number"?fe.order:0}.order+1}await ZC(Or(_t,"tasks"),{title:r,description:s,priority:a,assignedTo:u.map(fe=>fe.id),category:m,dueDate:Qe.fromDate(new Date(y)),createdAt:Qe.fromDate(new Date),userId:P.uid,subtask:L,status:"To do",order:be}),G(),e(),R("/dashboard")}catch(X){console.error("Error adding task:",X),X instanceof Ht||X instanceof Error?_(X.message):_("Failed to create task. Please try again.")}},F=()=>{if(x.trim()!==""){const H={description:x.trim(),status:"not done"};D([...L,H]),A("")}},B=H=>{const X=L.filter((Q,ie)=>ie!==H);D(X)},G=()=>{i(""),o(""),l("Normal"),d([]),v(""),b(""),D([]),A(""),_("")},z={title:r,setTitle:i,description:s,setDescription:o,priority:a,setPriority:l,assignedTo:u,setAssignedTo:d,contacts:h,category:m,setCategory:v,categories:T,dueDate:y,setDueDate:b,subtaskInput:x,setSubtaskInput:A,subtask:L,setSubtask:D,error:I,setError:_,handleSubtaskStatusChange:k,handleSubtaskDescriptionChange:O,handleCreateTask:S,handleAddSubtask:F,handleRemoveSubtask:B,handleClearFields:G,handleCreateCategory:H=>{const X=H.trim();X&&!T.includes(X)&&w(Q=>[...Q,X]),v(X)},handleRemoveCategory:H=>{w(X=>X.filter(Q=>Q!==H)),m===H&&v("")}};return E.jsx(E.Fragment,{children:t(z)})},QW=({isOpen:t,onClose:e,title:n,setTitle:r,description:i,setDescription:s,priority:o,setPriority:a,assignedTo:l,setAssignedTo:u,contacts:d,category:h,setCategory:f,categories:m,dueDate:v,setDueDate:T,subtaskInput:w,setSubtaskInput:y,subtask:b,error:x,handleSubtaskStatusChange:A,handleSubtaskDescriptionChange:L,handleCreateTask:D,handleAddSubtask:I,handleRemoveSubtask:_,handleClearFields:R,handleCreateCategory:P})=>E.jsx(Sf,{isOpen:t,onClose:e,ariaLabel:"Create Task Modal",children:E.jsxs("form",{onSubmit:D,className:"bg-white p-8 rounded-lg ","aria-labelledby":"create-task-heading",children:[E.jsxs("h2",{id:"create-task-heading",className:"text-3xl md:text-4xl mb-6 text-center font-bold flex items-center justify-center",children:[E.jsx(iv,{className:"mr-3 text-blue-700 text-4xl","aria-hidden":"true"}),"Create New Task"]}),x&&E.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert","aria-live":"assertive",children:x}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"title",className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),E.jsxs("div",{className:"relative",children:[E.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"title",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:k=>r(k.target.value),placeholder:"Task Title","aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),E.jsxs("div",{className:"relative",children:[E.jsx(Gg,{className:"absolute left-3 top-3 text-gray-400","aria-hidden":"true"}),E.jsx("textarea",{id:"description",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:k=>s(k.target.value),placeholder:"Task Description",rows:4,"aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"edit-assignedTo",className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),E.jsxs("div",{className:"relative",children:[E.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("div",{className:"pl-12",children:E.jsx("div",{onClick:k=>k.stopPropagation(),onMouseDown:k=>k.stopPropagation(),children:E.jsx(TR,{id:"edit-assignedTo",isMulti:!0,options:d.map(k=>({value:k.id,label:`${k.name}`})),className:"react-select-container",classNamePrefix:"react-select",value:l.map(k=>({value:k.id,label:`${k.name}`})),onChange:k=>{u(k.map(O=>d.find(F=>F.id===O.value)))},placeholder:"Select Contacts","aria-label":"Select Contacts to Assign",styles:{valueContainer:k=>({...k,maxHeight:"10vh",overflowY:"auto",paddingRight:"8px"}),control:k=>({...k,minHeight:"auto"}),multiValue:k=>({...k,maxWidth:"100%"})}})})})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"category",className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),E.jsxs("div",{className:"relative",children:[E.jsx(m2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("div",{className:"pl-12",children:E.jsx("div",{onClick:k=>k.stopPropagation(),onMouseDown:k=>k.stopPropagation(),children:E.jsx(IR,{id:"category",isClearable:!0,options:m.map(k=>({value:k,label:k})),value:h?{value:h,label:h}:null,onChange:k=>{f(k?k.value:"")},onCreateOption:P,placeholder:"Enter or select a category","aria-label":"Select or Create Category"})})})]})]})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"dueDate",className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),E.jsxs("div",{className:"relative",children:[E.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"dueDate",type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v,onChange:k=>T(k.target.value),"aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"subtaskInput",className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),E.jsxs("div",{className:"flex",children:[E.jsxs("div",{className:"relative w-full",children:[E.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"subtaskInput",type:"text",className:"w-full pl-10 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:w,onChange:k=>y(k.target.value),placeholder:"Enter a subtask","aria-label":"Subtask Description"})]}),E.jsx("button",{type:"button",onClick:I,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200","aria-label":"Add Subtask",children:"Add"})]}),b.length>0&&E.jsx("ul",{className:"mt-4",children:b.map((k,O)=>E.jsxs("li",{className:"flex items-center justify-between bg-gray-200 p-3 rounded-lg mt-2",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("input",{type:"checkbox",className:"mr-2",checked:k.status==="done",onChange:()=>A(O),"aria-label":`Mark subtask ${O+1} as ${k.status==="done"?"not done":"done"}`}),E.jsx("input",{type:"text",className:`flex-1 bg-transparent border-none focus:outline-none ${k.status==="done"?"line-through text-gray-500":""}`,value:k.description,onChange:S=>L(O,S.target.value),"aria-label":`Subtask ${O+1} Description`})]}),E.jsx("button",{type:"button",onClick:()=>_(O),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":`Remove subtask ${O+1}`,children:E.jsx(g2,{"aria-hidden":"true"})})]},O))})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"priority",className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),E.jsxs("div",{className:"relative",children:[E.jsx(p2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsxs("select",{id:"priority",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:k=>a(k.target.value),"aria-label":"Select Task Priority","aria-required":"true",children:[E.jsx("option",{value:"Low",children:"Low"}),E.jsx("option",{value:"Normal",children:"Normal"}),E.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]})]})]}),E.jsxs("div",{className:"flex justify-between mt-6",children:[E.jsxs("button",{type:"button",onClick:R,className:"w-full lg:w-1/2 py-3 rounded-lg hover:text-blue-800 hover:bg-blue-100 transition-colors duration-200 text-lg font-semibold mr-2 flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":"Clear All Fields",children:[E.jsx(m5,{className:"mr-2","aria-hidden":"true"}),"Clear"]}),E.jsxs("button",{type:"submit",className:" w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold ml-2 flex items-center justify-center","aria-label":"Create Task",children:[E.jsx(qg,{className:"ml-2 md:mr-2","aria-hidden":"true"}),"Create Task"]})]})]})}),YW=({isOpen:t,onClose:e})=>E.jsx(KW,{onClose:e,isOpen:t,children:n=>E.jsx(QW,{...n,isOpen:t,onClose:e})}),ZW=({children:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState(""),[u,d]=N.useState([]),[h,f]=N.useState(!1),[m,v]=N.useState(null),{currentUser:T}=N.useContext(Xi),[w,y]=N.useState({isOpen:!1,type:"new"});N.useEffect(()=>{let _;if(T){const R=Or(_t,"contacts"),P=vs(R,vi("userId","==",T.uid));_=hl(P,k=>{const O=k.docs.map(S=>({id:S.id,...S.data()}));d(O)})}return()=>{_&&_()}},[T]);const b=async _=>{if(_.preventDefault(),l(""),!T){l("You must be logged in to create a contact.");return}if(e.trim()===""||r.trim()===""||s.trim()===""){l("All fields are required.");return}try{const R={name:e,email:r,phoneNumber:s,createdAt:Qe.fromDate(new Date),userId:T.uid};if(h&&m){const P=Cr(_t,"contacts",m);await o0(P,R),f(!1),v(null),y({isOpen:!1,type:"edit"})}else await ZC(Or(_t,"contacts"),R),y({isOpen:!1,type:"new"});n(""),i(""),o("")}catch(R){console.error("Error adding/updating contact:",R),R instanceof Ht||R instanceof Error?l(R.message):l("Failed to create/update contact. Please try again.")}},x=()=>{f(!1),n(""),i(""),o(""),l(""),y({isOpen:!0,type:"new"})},A=_=>{f(!0),n(_.name),i(_.email),o(_.phoneNumber),l(""),v(_.id||null),y({isOpen:!0,type:"edit",contact:_})},L=()=>{y({isOpen:!1,type:"new"}),n(""),i(""),o(""),f(!1),l(""),v(null)};return t({name:e,setName:n,email:r,setEmail:i,phoneNumber:s,setPhoneNumber:o,error:a,contacts:u,openNewContactModal:x,openEditContactModal:A,handleCreateOrUpdateContact:b,modalState:w,closeModal:L,handleDeleteFromModal:async()=>{if(w.contact&&w.contact.id&&T){if(!window.confirm("Are you sure you want to delete this contact? This action cannot be undone."))return;try{const R=Cr(_t,"contacts",w.contact.id);await YC(R),L()}catch(R){console.error("Error deleting contact:",R),l("Failed to delete contact. Please try again.")}}},isEditMode:h})},XW=({name:t,setName:e,email:n,setEmail:r,phoneNumber:i,setPhoneNumber:s,error:o,contacts:a,openNewContactModal:l,openEditContactModal:u,handleCreateOrUpdateContact:d,modalState:h,closeModal:f,handleDeleteFromModal:m})=>!h.isOpen&&!a?null:E.jsxs("div",{className:"w-full relative",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[E.jsx("div",{className:"fixed md:top-1/2 md:left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-[85vh] left-[30vw] z-50","aria-label":"New Contact Button Container",children:E.jsxs("button",{onClick:l,className:"bg-gray-700 hover:bg-blue-400 text-white py-3 md:py-6 px-4 md:px-12 rounded-full text-xl font-semibold flex items-center shadow-lg transition-transform transform hover:scale-105","aria-label":"Add New Contact",children:[E.jsx(qg,{className:"mr-2","aria-hidden":"true"}),"New Contact"]})}),E.jsxs("div",{className:"md:min-w-[20vw] max-h-[95vh] overflow-y-auto scroll-smooth",role:"region","aria-labelledby":"contacts-heading",children:[E.jsx("h2",{id:"contacts-heading",className:"sr-only",children:"Contacts List"}),a.length===0?E.jsx("div",{className:"text-gray-700 mt-[5vh] justify-center items-center text-center text-2xl",role:"status","aria-live":"polite",children:"No contacts available."}):E.jsx("div",{className:"bg-white",children:a.map(v=>E.jsxs("button",{onClick:()=>u(v),className:"group bg-white w-[80%] mx-8 my-6 py-2 pl-4 pr-12 border-b-2 rounded-t-xl border-gray-500 flex justify-between items-center cursor-pointer hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Edit contact ${v.name}`,children:[E.jsx("div",{className:"min-w-12 min-h-12 rounded-full bg-blue-600 group-hover:bg-blue-400 flex items-center justify-center text-white text-xl font-light mr-4","aria-hidden":"true",children:v.name.split(" ").map(T=>T[0]).join("").toUpperCase()}),E.jsxs("div",{className:"",children:[E.jsx("p",{className:"text-xl text-center font-bold text-gray-700 group-hover:text-white",children:v.name}),E.jsx("p",{className:"text-blue-700 text-sm flex justify-center mt-2 group-hover:text-white",children:v.email}),E.jsx("p",{className:"flex justify-center mt-1 text-green-800 group-hover:text-white",children:v.phoneNumber})]})]},v.id))})]})]}),E.jsx(Sf,{isOpen:h.isOpen,onClose:f,ariaLabel:h.type==="new"?"Create New Contact Modal":"Edit Contact Modal",children:E.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-lg","aria-labelledby":h.type==="new"?"create-contact-heading":"edit-contact-heading",children:[E.jsx("h2",{id:h.type==="new"?"create-contact-heading":"edit-contact-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:h.type==="new"?"New Contact":"Edit Contact"}),o&&E.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert",children:o}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-lg font-medium mb-2",children:"Name"}),E.jsxs("div",{className:"relative",children:[E.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"name",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:v=>e(v.target.value),placeholder:"Full Name","aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:v=>r(v.target.value),placeholder:"you@example.com","aria-required":"true"})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"phoneNumber",className:"block text-gray-700 text-lg font-medium mb-2",children:"Phone Number"}),E.jsxs("div",{className:"relative",children:[E.jsx(_5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),E.jsx("input",{id:"phoneNumber",type:"tel",required:!0,pattern:"[0-9]{10}",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:v=>s(v.target.value),placeholder:"1234567890","aria-required":"true"})]})]}),E.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4",children:[E.jsx("button",{type:"submit",className:"w-full md:w-1/2 bg-gray-500 hover:bg-green-700 text-white py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":h.type==="new"?"Create Contact":"Update Contact",children:h.type==="new"?E.jsxs(E.Fragment,{children:[E.jsx(qg,{className:"mr-2","aria-hidden":"true"}),"Create Contact"]}):E.jsxs(E.Fragment,{children:[E.jsx(hh,{className:"mr-2","aria-hidden":"true"}),"Update Contact"]})}),h.type==="edit"&&E.jsxs("button",{type:"button",onClick:m,className:"w-full md:w-1/2 hover:text-red-700 outline outline-1 hover:outline-red-700 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0","aria-label":"Delete Contact",children:[E.jsx(w5,{className:"mr-2","aria-hidden":"true"}),"Delete Contact"]}),E.jsxs("button",{type:"button",onClick:f,className:"w-full md:w-1/2 hover:text-blue-800 hover:bg-blue-100 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0","aria-label":"Cancel",children:[E.jsx(l0,{className:"mr-2","aria-hidden":"true"}),"Cancel"]})]})]})})]}),JW=()=>E.jsx(ZW,{children:t=>E.jsx(XW,{...t})}),wm=({children:t})=>{const{currentUser:e,loading:n}=N.useContext(Xi);return n?null:e?t:E.jsx(TO,{to:"/login",replace:!0})},eG=({children:t})=>{const[e,n]=N.useState([]),[r,i]=N.useState({}),[s,o]=N.useState([]),[a,l]=N.useState(!0),{currentUser:u,loading:d}=N.useContext(Xi);return N.useEffect(()=>{let f;if(u){const m=Or(_t,"tasks"),v=vs(m,vi("userId","==",u.uid));f=hl(v,T=>{const w=T.docs.map(x=>{const A=x.data(),L=Array.isArray(A.assignedTo)?A.assignedTo:[A.assignedTo];return{id:x.id,...A,assignedTo:L}});n(w);const y={};w.forEach(x=>{const A=x.status;y[A]=(y[A]||0)+1}),i(y);const b=w.filter(x=>x.priority==="Urgent");o(b),l(!1)})}else l(!1);return()=>{f&&f()}},[u]),t({tasks:e,statusCounts:r,urgentTasks:s,loading:a||d,isAuthenticated:!!u})},tG=({tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})=>{if(r)return E.jsx("div",{className:"p-6",role:"main","aria-labelledby":"loading",children:E.jsx("h1",{id:"loading",className:"text-2xl font-bold mb-4",children:"Loading summary..."})});if(!i)return E.jsx("div",{className:"p-6",role:"main","aria-labelledby":"login-prompt",children:E.jsx("h1",{id:"login-prompt",className:"text-2xl font-bold mb-4",children:"Please log in to view the summary."})});const s="rounded-2xl p-8 flex flex-col items-center justify-center hover:bg-gray-700 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] focus:outline-none focus:ring-2 focus:ring-blue-500",o="text-3xl text-center font-medium",a="text-3xl md:text-5xl font-bold";return E.jsxs("main",{className:"container mx-auto py-6 w-full",role:"main","aria-labelledby":"summary-heading",children:[E.jsx("h1",{id:"summary-heading",className:"text-4xl md:text-5xl font-bold mt-6 mb-10 text-center",children:"Summary"}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-10","aria-labelledby":"tasks-in-board",children:[E.jsxs("div",{className:"bg-white rounded-lg p-8","aria-labelledby":"tasks-in-board",children:[E.jsx("h2",{id:"tasks-in-board",className:"sr-only",children:"Tasks in Board"}),E.jsxs("div",{className:"transition duration-200 text-center grid grid-cols-2 sm:grid-cols-3 gap-8",children:[E.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Total Tasks",children:[E.jsx("p",{className:o,children:"Total Tasks"}),E.jsx("p",{className:a,children:t.length})]}),E.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View To Do Tasks",children:[E.jsx(hh,{size:50,className:"text-5xl mb-4 text-blue-500","aria-hidden":"true"}),E.jsx("p",{className:"text-xl font-medium",children:"To Do"}),E.jsx("p",{className:a,children:e["To do"]||0})]}),E.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View In Progress Tasks",children:[E.jsx(v5,{className:"text-5xl mb-4 text-zinc-400","aria-hidden":"true"}),E.jsx("p",{className:"text-xl font-medium",children:"In Progress"}),E.jsx("p",{className:a,children:e["In progress"]||0})]}),E.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Awaiting Feedback Tasks",children:[E.jsx(p5,{className:"text-orange-600 text-5xl mb-4","aria-hidden":"true"}),E.jsx("p",{className:"text-xl font-medium",children:"Awaiting Feedback"}),E.jsx("p",{className:a,children:e["Awaiting Feedback"]||0})]}),E.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Completed Tasks",children:[E.jsx(f5,{className:"text-green-600 text-5xl mb-4","aria-hidden":"true"}),E.jsx("p",{className:"text-xl font-medium",children:"Completed"}),E.jsx("p",{className:a,children:e.Completed||0})]})]})]}),E.jsxs("section",{className:"bg-white rounded-lg p-8","aria-labelledby":"urgent-tasks-heading",children:[E.jsxs("h2",{id:"urgent-tasks-heading",className:"text-3xl md:text-4xl font-semibold mb-8 text-red-700 flex items-center",children:[E.jsx(g5,{className:"mr-4 text-4xl md:text-5xl","aria-hidden":"true"}),"Urgent Tasks"]}),n.length===0?E.jsx("p",{className:"text-gray-800 text-xl",role:"status",children:"No urgent tasks."}):E.jsx("ul",{children:n.map(l=>E.jsx("li",{className:"mb-6",children:E.jsx(ft,{to:"/dashboard",className:"block border-l-4 border-red-600 rounded-xl p-6 hover:bg-red-400 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":`View task ${l.title}`,children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("p",{className:"font-semibold text-xl",children:l.title}),E.jsxs("span",{className:"text-lg",children:["Due by"," ",l.dueDate instanceof Qe?l.dueDate.toDate().toLocaleDateString():"No Due Date"]})]})})},l.id))})]})]})]})},nG=()=>E.jsx(eG,{children:({tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})=>E.jsx(tG,{tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})}),rG=()=>{const[t,e]=N.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return E.jsx(g9,{children:E.jsxs(NO,{children:[E.jsx(qW,{openCreateTaskModal:n}),E.jsxs(SO,{children:[E.jsx(os,{path:"/dashboard",element:E.jsx(wm,{children:E.jsx(WW,{})})}),E.jsx(os,{path:"/summary",element:E.jsx(wm,{children:E.jsx(nG,{})})}),E.jsx(os,{path:"/contacts",element:E.jsx(wm,{children:E.jsx(JW,{})})}),E.jsx(os,{path:"/signup",element:E.jsx(i5,{})}),E.jsx(os,{path:"/login",element:E.jsx(Gb,{})}),E.jsx(os,{path:"*",element:E.jsx(Gb,{})})," "]}),E.jsx(YW,{isOpen:t,onClose:r})]})})};ES(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(rG,{})}));
