function mP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ab={exports:{}},Ih={},kb={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),gP=Symbol.for("react.portal"),vP=Symbol.for("react.fragment"),yP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),wP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),bP=Symbol.for("react.forward_ref"),IP=Symbol.for("react.suspense"),SP=Symbol.for("react.memo"),xP=Symbol.for("react.lazy"),__=Symbol.iterator;function TP(t){return t===null||typeof t!="object"?null:(t=__&&t[__]||t["@@iterator"],typeof t=="function"?t:null)}var Nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ob=Object.assign,Db={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=Db,this.updater=n||Nb}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mb(){}Mb.prototype=Ho.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=Db,this.updater=n||Nb}var Hg=zg.prototype=new Mb;Hg.constructor=zg;Ob(Hg,Ho.prototype);Hg.isPureReactComponent=!0;var w_=Array.isArray,Lb=Object.prototype.hasOwnProperty,Wg={current:null},Vb={key:!0,ref:!0,__self:!0,__source:!0};function Fb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lb.call(e,r)&&!Vb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cu,type:t,key:s,ref:o,props:i,_owner:Wg.current}}function CP(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gg(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function RP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E_=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RP(""+t.key):e.toString(36)}function Ac(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cu:case gP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yf(o,0):r,w_(i)?(n="",t!=null&&(n=t.replace(E_,"$&/")+"/"),Ac(i,e,n,"",function(u){return u})):i!=null&&(Gg(i)&&(i=CP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",w_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yf(s,a);o+=Ac(s,e,n,l,i)}else if(l=TP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yf(s,a++),o+=Ac(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var r=[],i=0;return Ac(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},kc={transition:null},AP={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:kc,ReactCurrentOwner:Wg};function jb(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!Gg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ho;ve.Fragment=vP;ve.Profiler=_P;ve.PureComponent=zg;ve.StrictMode=yP;ve.Suspense=IP;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP;ve.act=jb;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ob({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lb.call(e,l)&&!Vb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cu,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:EP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wP,_context:t},t.Consumer=t};ve.createElement=Fb;ve.createFactory=function(t){var e=Fb.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:bP,render:t}};ve.isValidElement=Gg;ve.lazy=function(t){return{$$typeof:xP,_payload:{_status:-1,_result:t},_init:PP}};ve.memo=function(t,e){return{$$typeof:SP,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}};ve.unstable_act=jb;ve.useCallback=function(t,e){return Jt.current.useCallback(t,e)};ve.useContext=function(t){return Jt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Jt.current.useEffect(t,e)};ve.useId=function(){return Jt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Jt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};ve.useRef=function(t){return Jt.current.useRef(t)};ve.useState=function(t){return Jt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Jt.current.useTransition()};ve.version="18.3.1";kb.exports=ve;var k=kb.exports;const ke=Pb(k),ul=mP({__proto__:null,default:ke},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP=k,NP=Symbol.for("react.element"),OP=Symbol.for("react.fragment"),DP=Object.prototype.hasOwnProperty,MP=kP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LP={key:!0,ref:!0,__self:!0,__source:!0};function Ub(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DP.call(e,r)&&!LP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NP,type:t,key:s,ref:o,props:i,_owner:MP.current}}Ih.Fragment=OP;Ih.jsx=Ub;Ih.jsxs=Ub;Ab.exports=Ih;var b=Ab.exports,Bb={exports:{}},bn={},$b={exports:{}},zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var K=V.length;V.push(B);e:for(;0<K;){var ye=K-1>>>1,oe=V[ye];if(0<i(oe,B))V[ye]=B,V[K]=oe,K=ye;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],K=V.pop();if(K!==B){V[0]=K;e:for(var ye=0,oe=V.length,me=oe>>>1;ye<me;){var Ze=2*(ye+1)-1,Xe=V[Ze],Ue=Ze+1,nt=V[Ue];if(0>i(Xe,K))Ue<oe&&0>i(nt,Xe)?(V[ye]=nt,V[Ue]=K,ye=Ue):(V[ye]=Xe,V[Ze]=K,ye=Ze);else if(Ue<oe&&0>i(nt,K))V[ye]=nt,V[Ue]=K,ye=Ue;else break e}}return B}function i(V,B){var K=V.sortIndex-B.sortIndex;return K!==0?K:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function A(V){if(I=!1,x(V),!y)if(n(l)!==null)y=!0,fe(N);else{var B=n(u);B!==null&&Ce(A,B.startTime-V)}}function N(V,B){y=!1,I&&(I=!1,v(w),w=-1),m=!0;var K=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||V&&!O());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,f=h.priorityLevel;var oe=ye(h.expirationTime<=B);B=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var me=!0;else{var Ze=n(u);Ze!==null&&Ce(A,Ze.startTime-B),me=!1}return me}finally{h=null,f=K,m=!1}}var D=!1,S=null,w=-1,R=5,C=-1;function O(){return!(t.unstable_now()-C<R)}function M(){if(S!==null){var V=t.unstable_now();C=V;var B=!0;try{B=S(!0,V)}finally{B?P():(D=!1,S=null)}}else D=!1}var P;if(typeof _=="function")P=function(){_(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=M,P=function(){G.postMessage(null)}}else P=function(){E(M,0)};function fe(V){S=V,D||(D=!0,P())}function Ce(V,B){w=E(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,fe(N))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var K=f;f=B;try{return V()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=f;f=V;try{return B()}finally{f=K}},t.unstable_scheduleCallback=function(V,B,K){var ye=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ye+K:ye):K=ye,V){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=K+oe,V={id:d++,callback:B,priorityLevel:V,startTime:K,expirationTime:oe,sortIndex:-1},K>ye?(V.sortIndex=K,e(u,V),n(l)===null&&V===n(u)&&(I?(v(w),w=-1):I=!0,Ce(A,K-ye))):(V.sortIndex=oe,e(l,V),y||m||(y=!0,fe(N))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var B=f;return function(){var K=f;f=B;try{return V.apply(this,arguments)}finally{f=K}}}})(zb);$b.exports=zb;var VP=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=k,En=VP;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hb=new Set,cl={};function Rs(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(cl[t]=e,t=0;t<e.length;t++)Hb.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=Object.prototype.hasOwnProperty,jP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b_={},I_={};function UP(t){return tm.call(I_,t)?!0:tm.call(b_,t)?!1:jP.test(t)?I_[t]=!0:(b_[t]=!0,!1)}function BP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $P(t,e,n,r){if(e===null||typeof e>"u"||BP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qg,Kg);Pt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qg,Kg);Pt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qg,Kg);Pt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($P(e,n,i,r)&&(n=null),r||i===null?UP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),nm=Symbol.for("react.profiler"),Wb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),qb=Symbol.for("react.offscreen"),S_=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,Zf;function ka(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var Xf=!1;function Jf(t,e){if(!t||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ka(t):""}function zP(t){switch(t.tag){case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case Gs:return"Portal";case nm:return"Profiler";case Yg:return"StrictMode";case rm:return"Suspense";case im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gb:return(t.displayName||"Context")+".Consumer";case Wb:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:sm(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return sm(t(e))}catch{}}return null}function HP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sm(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WP(t){var e=Kb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=WP(t))}function Qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function om(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yb(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function am(t,e){Yb(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lm(t,e.type,n):e.hasOwnProperty("defaultValue")&&lm(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lm(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Na(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function Zb(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,Jb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GP=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){GP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function eI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function tI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(t,e){if(e){if(qP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function hm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=null;function Jg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pm=null,ao=null,lo=null;function P_(t){if(t=fu(t)){if(typeof pm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Rh(e),pm(t.stateNode,t.type,e))}}function nI(t){ao?lo?lo.push(t):lo=[t]:ao=t}function rI(){if(ao){var t=ao,e=lo;if(lo=ao=null,P_(t),e)for(t=0;t<e.length;t++)P_(e[t])}}function iI(t,e){return t(e)}function sI(){}var ep=!1;function oI(t,e,n){if(ep)return t(e,n);ep=!0;try{return iI(t,e,n)}finally{ep=!1,(ao!==null||lo!==null)&&(sI(),rI())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var mm=!1;if(Dr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){mm=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{mm=!1}function KP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ga=!1,rd=null,id=!1,gm=null,QP={onError:function(t){Ga=!0,rd=t}};function YP(t,e,n,r,i,s,o,a,l){Ga=!1,rd=null,KP.apply(QP,arguments)}function ZP(t,e,n,r,i,s,o,a,l){if(YP.apply(this,arguments),Ga){if(Ga){var u=rd;Ga=!1,rd=null}else throw Error($(198));id||(id=!0,gm=u)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A_(t){if(Ps(t)!==t)throw Error($(188))}function XP(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return A_(i),t;if(s===r)return A_(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function lI(t){return t=XP(t),t!==null?uI(t):null}function uI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uI(t);if(e!==null)return e;t=t.sibling}return null}var cI=En.unstable_scheduleCallback,k_=En.unstable_cancelCallback,JP=En.unstable_shouldYield,eA=En.unstable_requestPaint,it=En.unstable_now,tA=En.unstable_getCurrentPriorityLevel,ev=En.unstable_ImmediatePriority,dI=En.unstable_UserBlockingPriority,sd=En.unstable_NormalPriority,nA=En.unstable_LowPriority,hI=En.unstable_IdlePriority,Sh=null,sr=null;function rA(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:oA,iA=Math.log,sA=Math.LN2;function oA(t){return t>>>=0,t===0?32:31-(iA(t)/sA|0)|0}var rc=64,ic=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oa(a):(s&=o,s!==0&&(r=Oa(s)))}else o=n&~i,o!==0?r=Oa(o):s!==0&&(r=Oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function aA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fI(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function uA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function pI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mI,nv,gI,vI,yI,ym=!1,sc=[],fi=null,pi=null,mi=null,fl=new Map,pl=new Map,ni=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N_(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&nv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dA(t,e,n,r,i){switch(e){case"focusin":return fi=_a(fi,t,e,n,r,i),!0;case"dragenter":return pi=_a(pi,t,e,n,r,i),!0;case"mouseover":return mi=_a(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,_a(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,_a(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function _I(t){var e=ns(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=aI(n),e!==null){t.blockedOn=e,yI(t.priority,function(){gI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fm=r,n.target.dispatchEvent(r),fm=null}else return e=fu(n),e!==null&&nv(e),t.blockedOn=n,!1;e.shift()}return!0}function O_(t,e,n){Nc(t)&&n.delete(e)}function hA(){ym=!1,fi!==null&&Nc(fi)&&(fi=null),pi!==null&&Nc(pi)&&(pi=null),mi!==null&&Nc(mi)&&(mi=null),fl.forEach(O_),pl.forEach(O_)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,ym||(ym=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,hA)))}function ml(t){function e(i){return wa(i,t)}if(0<sc.length){wa(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&wa(fi,t),pi!==null&&wa(pi,t),mi!==null&&wa(mi,t),fl.forEach(e),pl.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)_I(n),n.blockedOn===null&&ni.shift()}var uo=Hr.ReactCurrentBatchConfig,ad=!0;function fA(t,e,n,r){var i=Oe,s=uo.transition;uo.transition=null;try{Oe=1,rv(t,e,n,r)}finally{Oe=i,uo.transition=s}}function pA(t,e,n,r){var i=Oe,s=uo.transition;uo.transition=null;try{Oe=4,rv(t,e,n,r)}finally{Oe=i,uo.transition=s}}function rv(t,e,n,r){if(ad){var i=_m(t,e,n,r);if(i===null)dp(t,e,r,ld,n),N_(t,r);else if(dA(i,t,e,n,r))r.stopPropagation();else if(N_(t,r),e&4&&-1<cA.indexOf(t)){for(;i!==null;){var s=fu(i);if(s!==null&&mI(s),s=_m(t,e,n,r),s===null&&dp(t,e,r,ld,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dp(t,e,r,null,n)}}var ld=null;function _m(t,e,n,r){if(ld=null,t=Jg(r),t=ns(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function wI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tA()){case ev:return 1;case dI:return 4;case sd:case nA:return 16;case hI:return 536870912;default:return 16}default:return 16}}var ui=null,iv=null,Oc=null;function EI(){if(Oc)return Oc;var t,e=iv,n=e.length,r,i="value"in ui?ui.value:ui.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oc=i.slice(t,1<r?1-r:void 0)}function Dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function D_(){return!1}function In(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:D_,this.isPropagationStopped=D_,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=In(Wo),hu=Qe({},Wo,{view:0,detail:0}),mA=In(hu),np,rp,Ea,xh=Qe({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(np=t.screenX-Ea.screenX,rp=t.screenY-Ea.screenY):rp=np=0,Ea=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),M_=In(xh),gA=Qe({},xh,{dataTransfer:0}),vA=In(gA),yA=Qe({},hu,{relatedTarget:0}),ip=In(yA),_A=Qe({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),wA=In(_A),EA=Qe({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bA=In(EA),IA=Qe({},Wo,{data:0}),L_=In(IA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TA[t])?!!e[t]:!1}function ov(){return CA}var RA=Qe({},hu,{key:function(t){if(t.key){var e=SA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(t){return t.type==="keypress"?Dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PA=In(RA),AA=Qe({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V_=In(AA),kA=Qe({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),NA=In(kA),OA=Qe({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DA=In(OA),MA=Qe({},xh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LA=In(MA),VA=[9,13,27,32],av=Dr&&"CompositionEvent"in window,qa=null;Dr&&"documentMode"in document&&(qa=document.documentMode);var FA=Dr&&"TextEvent"in window&&!qa,bI=Dr&&(!av||qa&&8<qa&&11>=qa),F_=" ",j_=!1;function II(t,e){switch(t){case"keyup":return VA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function jA(t,e){switch(t){case"compositionend":return SI(e);case"keypress":return e.which!==32?null:(j_=!0,F_);case"textInput":return t=e.data,t===F_&&j_?null:t;default:return null}}function UA(t,e){if(Ks)return t==="compositionend"||!av&&II(t,e)?(t=EI(),Oc=iv=ui=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bI&&e.locale!=="ko"?null:e.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BA[t.type]:e==="textarea"}function xI(t,e,n,r){nI(r),e=ud(e,"onChange"),0<e.length&&(n=new sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ka=null,gl=null;function $A(t){LI(t,0)}function Th(t){var e=Zs(t);if(Qb(e))return t}function zA(t,e){if(t==="change")return e}var TI=!1;if(Dr){var sp;if(Dr){var op="oninput"in document;if(!op){var B_=document.createElement("div");B_.setAttribute("oninput","return;"),op=typeof B_.oninput=="function"}sp=op}else sp=!1;TI=sp&&(!document.documentMode||9<document.documentMode)}function $_(){Ka&&(Ka.detachEvent("onpropertychange",CI),gl=Ka=null)}function CI(t){if(t.propertyName==="value"&&Th(gl)){var e=[];xI(e,gl,t,Jg(t)),oI($A,e)}}function HA(t,e,n){t==="focusin"?($_(),Ka=e,gl=n,Ka.attachEvent("onpropertychange",CI)):t==="focusout"&&$_()}function WA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(gl)}function GA(t,e){if(t==="click")return Th(e)}function qA(t,e){if(t==="input"||t==="change")return Th(e)}function KA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:KA;function vl(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tm.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H_(t,e){var n=z_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z_(n)}}function RI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PI(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QA(t){var e=PI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RI(n.ownerDocument.documentElement,n)){if(r!==null&&lv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=H_(n,s);var o=H_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YA=Dr&&"documentMode"in document&&11>=document.documentMode,Qs=null,wm=null,Qa=null,Em=!1;function W_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Em||Qs==null||Qs!==nd(r)||(r=Qs,"selectionStart"in r&&lv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&vl(Qa,r)||(Qa=r,r=ud(wm,"onSelect"),0<r.length&&(e=new sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qs)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},ap={},AI={};Dr&&(AI=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ch(t){if(ap[t])return ap[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AI)return ap[t]=e[n];return t}var kI=Ch("animationend"),NI=Ch("animationiteration"),OI=Ch("animationstart"),DI=Ch("transitionend"),MI=new Map,G_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){MI.set(t,e),Rs(e,[t])}for(var lp=0;lp<G_.length;lp++){var up=G_[lp],ZA=up.toLowerCase(),XA=up[0].toUpperCase()+up.slice(1);Ui(ZA,"on"+XA)}Ui(kI,"onAnimationEnd");Ui(NI,"onAnimationIteration");Ui(OI,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(DI,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function q_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZP(r,e,void 0,t),t.currentTarget=null}function LI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;q_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;q_(i,a,u),s=l}}}if(id)throw t=gm,id=!1,gm=null,t}function $e(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||(VI(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),VI(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[lc]){t[lc]=!0,Hb.forEach(function(n){n!=="selectionchange"&&(JA.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,cp("selectionchange",!1,e))}}function VI(t,e,n,r){switch(wI(e)){case 1:var i=fA;break;case 4:i=pA;break;default:i=rv}n=i.bind(null,e,n,t),i=void 0,!mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}oI(function(){var u=s,d=Jg(n),h=[];e:{var f=MI.get(t);if(f!==void 0){var m=sv,y=t;switch(t){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":m=PA;break;case"focusin":y="focus",m=ip;break;case"focusout":y="blur",m=ip;break;case"beforeblur":case"afterblur":m=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=M_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NA;break;case kI:case NI:case OI:m=wA;break;case DI:m=DA;break;case"scroll":m=mA;break;case"wheel":m=LA;break;case"copy":case"cut":case"paste":m=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=V_}var I=(e&4)!==0,E=!I&&t==="scroll",v=I?f!==null?f+"Capture":null:f;I=[];for(var _=u,x;_!==null;){x=_;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,v!==null&&(A=hl(_,v),A!=null&&I.push(_l(_,A,x)))),E)break;_=_.return}0<I.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==fm&&(y=n.relatedTarget||n.fromElement)&&(ns(y)||y[Mr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ns(y):null,y!==null&&(E=Ps(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(I=M_,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=V_,A="onPointerLeave",v="onPointerEnter",_="pointer"),E=m==null?f:Zs(m),x=y==null?f:Zs(y),f=new I(A,_+"leave",m,n,d),f.target=E,f.relatedTarget=x,A=null,ns(d)===u&&(I=new I(v,_+"enter",y,n,d),I.target=x,I.relatedTarget=E,A=I),E=A,m&&y)t:{for(I=m,v=y,_=0,x=I;x;x=Us(x))_++;for(x=0,A=v;A;A=Us(A))x++;for(;0<_-x;)I=Us(I),_--;for(;0<x-_;)v=Us(v),x--;for(;_--;){if(I===v||v!==null&&I===v.alternate)break t;I=Us(I),v=Us(v)}I=null}else I=null;m!==null&&K_(h,f,m,I,!1),y!==null&&E!==null&&K_(h,E,y,I,!0)}}e:{if(f=u?Zs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=zA;else if(U_(f))if(TI)N=qA;else{N=WA;var D=HA}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=GA);if(N&&(N=N(t,u))){xI(h,N,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&lm(f,"number",f.value)}switch(D=u?Zs(u):window,t){case"focusin":(U_(D)||D.contentEditable==="true")&&(Qs=D,wm=u,Qa=null);break;case"focusout":Qa=wm=Qs=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,W_(h,n,d);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":W_(h,n,d)}var S;if(av)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ks?II(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(bI&&n.locale!=="ko"&&(Ks||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ks&&(S=EI()):(ui=d,iv="value"in ui?ui.value:ui.textContent,Ks=!0)),D=ud(u,w),0<D.length&&(w=new L_(w,t,null,n,d),h.push({event:w,listeners:D}),S?w.data=S:(S=SI(n),S!==null&&(w.data=S)))),(S=FA?jA(t,n):UA(t,n))&&(u=ud(u,"onBeforeInput"),0<u.length&&(d=new L_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}LI(h,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(_l(t,s,i)),s=hl(t,e),s!=null&&r.push(_l(t,s,i))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hl(n,s),l!=null&&o.unshift(_l(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(_l(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(ek,`
`).replace(tk,"")}function uc(t,e,n){if(e=Q_(e),Q_(t)!==e&&n)throw Error($(425))}function cd(){}var bm=null,Im=null;function Sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(ik)}:xm;function ik(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),rr="__reactFiber$"+Go,wl="__reactProps$"+Go,Mr="__reactContainer$"+Go,Tm="__reactEvents$"+Go,sk="__reactListeners$"+Go,ok="__reactHandles$"+Go;function ns(t){var e=t[rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z_(t);t!==null;){if(n=t[rr])return n;t=Z_(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[rr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Rh(t){return t[wl]||null}var Cm=[],Xs=-1;function Bi(t){return{current:t}}function He(t){0>Xs||(t.current=Cm[Xs],Cm[Xs]=null,Xs--)}function Ve(t,e){Xs++,Cm[Xs]=t.current,t.current=e}var Ai={},zt=Bi(Ai),on=Bi(!1),hs=Ai;function bo(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function dd(){He(on),He(zt)}function X_(t,e,n){if(zt.current!==Ai)throw Error($(168));Ve(zt,e),Ve(on,n)}function FI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,HP(t)||"Unknown",i));return Qe({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,hs=zt.current,Ve(zt,t),Ve(on,on.current),!0}function J_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=FI(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,He(on),He(zt),Ve(zt,t)):He(on),Ve(on,n)}var xr=null,Ph=!1,fp=!1;function jI(t){xr===null?xr=[t]:xr.push(t)}function ak(t){Ph=!0,jI(t)}function $i(){if(!fp&&xr!==null){fp=!0;var t=0,e=Oe;try{var n=xr;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Ph=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),cI(ev,$i),i}finally{Oe=e,fp=!1}}return null}var Js=[],eo=0,fd=null,pd=0,Tn=[],Cn=0,fs=null,Tr=1,Cr="";function Xi(t,e){Js[eo++]=pd,Js[eo++]=fd,fd=t,pd=e}function UI(t,e,n){Tn[Cn++]=Tr,Tn[Cn++]=Cr,Tn[Cn++]=fs,fs=t;var r=Tr;t=Cr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tr=1<<32-Hn(e)+i|n<<i|r,Cr=s+t}else Tr=1<<s|n<<i|r,Cr=t}function uv(t){t.return!==null&&(Xi(t,1),UI(t,1,0))}function cv(t){for(;t===fd;)fd=Js[--eo],Js[eo]=null,pd=Js[--eo],Js[eo]=null;for(;t===fs;)fs=Tn[--Cn],Tn[Cn]=null,Cr=Tn[--Cn],Tn[Cn]=null,Tr=Tn[--Cn],Tn[Cn]=null}var vn=null,pn=null,We=!1,Un=null;function BI(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,pn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Tr,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vn=t,pn=null,!0):!1;default:return!1}}function Rm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pm(t){if(We){var e=pn;if(e){var n=e;if(!e1(t,e)){if(Rm(t))throw Error($(418));e=gi(n.nextSibling);var r=vn;e&&e1(t,e)?BI(r,n):(t.flags=t.flags&-4097|2,We=!1,vn=t)}}else{if(Rm(t))throw Error($(418));t.flags=t.flags&-4097|2,We=!1,vn=t}}}function t1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function cc(t){if(t!==vn)return!1;if(!We)return t1(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sm(t.type,t.memoizedProps)),e&&(e=pn)){if(Rm(t))throw $I(),Error($(418));for(;e;)BI(t,e),e=gi(e.nextSibling)}if(t1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=vn?gi(t.stateNode.nextSibling):null;return!0}function $I(){for(var t=pn;t;)t=gi(t.nextSibling)}function Io(){pn=vn=null,We=!1}function dv(t){Un===null?Un=[t]:Un.push(t)}var lk=Hr.ReactCurrentBatchConfig;function ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n1(t){var e=t._init;return e(t._payload)}function zI(t){function e(v,_){if(t){var x=v.deletions;x===null?(v.deletions=[_],v.flags|=16):x.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=wi(v,_),v.index=0,v.sibling=null,v}function s(v,_,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<_?(v.flags|=2,_):x):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,x,A){return _===null||_.tag!==6?(_=wp(x,v.mode,A),_.return=v,_):(_=i(_,x),_.return=v,_)}function l(v,_,x,A){var N=x.type;return N===qs?d(v,_,x.props.children,A,x.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ei&&n1(N)===_.type)?(A=i(_,x.props),A.ref=ba(v,_,x),A.return=v,A):(A=Bc(x.type,x.key,x.props,null,v.mode,A),A.ref=ba(v,_,x),A.return=v,A)}function u(v,_,x,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Ep(x,v.mode,A),_.return=v,_):(_=i(_,x.children||[]),_.return=v,_)}function d(v,_,x,A,N){return _===null||_.tag!==7?(_=as(x,v.mode,A,N),_.return=v,_):(_=i(_,x),_.return=v,_)}function h(v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wp(""+_,v.mode,x),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ec:return x=Bc(_.type,_.key,_.props,null,v.mode,x),x.ref=ba(v,null,_),x.return=v,x;case Gs:return _=Ep(_,v.mode,x),_.return=v,_;case ei:var A=_._init;return h(v,A(_._payload),x)}if(Na(_)||va(_))return _=as(_,v.mode,x,null),_.return=v,_;dc(v,_)}return null}function f(v,_,x,A){var N=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(v,_,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return x.key===N?l(v,_,x,A):null;case Gs:return x.key===N?u(v,_,x,A):null;case ei:return N=x._init,f(v,_,N(x._payload),A)}if(Na(x)||va(x))return N!==null?null:d(v,_,x,A,null);dc(v,x)}return null}function m(v,_,x,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(x)||null,a(_,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ec:return v=v.get(A.key===null?x:A.key)||null,l(_,v,A,N);case Gs:return v=v.get(A.key===null?x:A.key)||null,u(_,v,A,N);case ei:var D=A._init;return m(v,_,x,D(A._payload),N)}if(Na(A)||va(A))return v=v.get(x)||null,d(_,v,A,N,null);dc(_,A)}return null}function y(v,_,x,A){for(var N=null,D=null,S=_,w=_=0,R=null;S!==null&&w<x.length;w++){S.index>w?(R=S,S=null):R=S.sibling;var C=f(v,S,x[w],A);if(C===null){S===null&&(S=R);break}t&&S&&C.alternate===null&&e(v,S),_=s(C,_,w),D===null?N=C:D.sibling=C,D=C,S=R}if(w===x.length)return n(v,S),We&&Xi(v,w),N;if(S===null){for(;w<x.length;w++)S=h(v,x[w],A),S!==null&&(_=s(S,_,w),D===null?N=S:D.sibling=S,D=S);return We&&Xi(v,w),N}for(S=r(v,S);w<x.length;w++)R=m(S,v,w,x[w],A),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),_=s(R,_,w),D===null?N=R:D.sibling=R,D=R);return t&&S.forEach(function(O){return e(v,O)}),We&&Xi(v,w),N}function I(v,_,x,A){var N=va(x);if(typeof N!="function")throw Error($(150));if(x=N.call(x),x==null)throw Error($(151));for(var D=N=null,S=_,w=_=0,R=null,C=x.next();S!==null&&!C.done;w++,C=x.next()){S.index>w?(R=S,S=null):R=S.sibling;var O=f(v,S,C.value,A);if(O===null){S===null&&(S=R);break}t&&S&&O.alternate===null&&e(v,S),_=s(O,_,w),D===null?N=O:D.sibling=O,D=O,S=R}if(C.done)return n(v,S),We&&Xi(v,w),N;if(S===null){for(;!C.done;w++,C=x.next())C=h(v,C.value,A),C!==null&&(_=s(C,_,w),D===null?N=C:D.sibling=C,D=C);return We&&Xi(v,w),N}for(S=r(v,S);!C.done;w++,C=x.next())C=m(S,v,w,C.value,A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?w:C.key),_=s(C,_,w),D===null?N=C:D.sibling=C,D=C);return t&&S.forEach(function(M){return e(v,M)}),We&&Xi(v,w),N}function E(v,_,x,A){if(typeof x=="object"&&x!==null&&x.type===qs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:e:{for(var N=x.key,D=_;D!==null;){if(D.key===N){if(N=x.type,N===qs){if(D.tag===7){n(v,D.sibling),_=i(D,x.props.children),_.return=v,v=_;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ei&&n1(N)===D.type){n(v,D.sibling),_=i(D,x.props),_.ref=ba(v,D,x),_.return=v,v=_;break e}n(v,D);break}else e(v,D);D=D.sibling}x.type===qs?(_=as(x.props.children,v.mode,A,x.key),_.return=v,v=_):(A=Bc(x.type,x.key,x.props,null,v.mode,A),A.ref=ba(v,_,x),A.return=v,v=A)}return o(v);case Gs:e:{for(D=x.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(v,_.sibling),_=i(_,x.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Ep(x,v.mode,A),_.return=v,v=_}return o(v);case ei:return D=x._init,E(v,_,D(x._payload),A)}if(Na(x))return y(v,_,x,A);if(va(x))return I(v,_,x,A);dc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,x),_.return=v,v=_):(n(v,_),_=wp(x,v.mode,A),_.return=v,v=_),o(v)):n(v,_)}return E}var So=zI(!0),HI=zI(!1),md=Bi(null),gd=null,to=null,hv=null;function fv(){hv=to=gd=null}function pv(t){var e=md.current;He(md),t._currentValue=e}function Am(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){gd=t,hv=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(hv!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(gd===null)throw Error($(308));to=t,gd.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var rs=null;function mv(t){rs===null?rs=[t]:rs.push(t)}function WI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function gv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,mv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function Mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}function r1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var i=t.updateQueue;ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,I=a;switch(f=e,m=n,I.tag){case 1:if(y=I.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=I.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Qe({},h,f);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ms|=o,t.lanes=o,t.memoizedState=h}}function i1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var pu={},or=Bi(pu),El=Bi(pu),bl=Bi(pu);function is(t){if(t===pu)throw Error($(174));return t}function vv(t,e){switch(Ve(bl,e),Ve(El,t),Ve(or,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cm(e,t)}He(or),Ve(or,e)}function xo(){He(or),He(El),He(bl)}function qI(t){is(bl.current);var e=is(or.current),n=cm(e,t.type);e!==n&&(Ve(El,t),Ve(or,n))}function yv(t){El.current===t&&(He(or),He(El))}var qe=Bi(0);function yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function _v(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var Lc=Hr.ReactCurrentDispatcher,mp=Hr.ReactCurrentBatchConfig,ps=0,Ke=null,ht=null,vt=null,_d=!1,Ya=!1,Il=0,uk=0;function Dt(){throw Error($(321))}function wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Ev(t,e,n,r,i,s){if(ps=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?fk:pk,t=n(r,i),Ya){s=0;do{if(Ya=!1,Il=0,25<=s)throw Error($(301));s+=1,vt=ht=null,e.updateQueue=null,Lc.current=mk,t=n(r,i)}while(Ya)}if(Lc.current=wd,e=ht!==null&&ht.next!==null,ps=0,vt=ht=Ke=null,_d=!1,e)throw Error($(300));return t}function bv(){var t=Il!==0;return Il=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=t:vt=vt.next=t,vt}function On(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=vt===null?Ke.memoizedState:vt.next;if(e!==null)vt=e,ht=t;else{if(t===null)throw Error($(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Ke.memoizedState=vt=t:vt=vt.next=t}return vt}function Sl(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=On(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ps&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=d,ms|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Kn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=On(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Kn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function KI(){}function QI(t,e){var n=Ke,r=On(),i=e(),s=!Kn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Iv(XI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,xl(9,ZI.bind(null,n,r,i,e),void 0,null),yt===null)throw Error($(349));ps&30||YI(n,e,i)}return i}function YI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZI(t,e,n,r){e.value=n,e.getSnapshot=r,JI(e)&&eS(t)}function XI(t,e,n){return n(function(){JI(e)&&eS(t)})}function JI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function eS(t){var e=Lr(t,1);e!==null&&Wn(e,t,1,-1)}function s1(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=hk.bind(null,Ke,t),[e.memoizedState,t]}function xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tS(){return On().memoizedState}function Vc(t,e,n,r){var i=er();Ke.flags|=t,i.memoizedState=xl(1|e,n,void 0,r===void 0?null:r)}function Ah(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,r!==null&&wv(r,o.deps)){i.memoizedState=xl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=xl(1|e,n,s,r)}function o1(t,e){return Vc(8390656,8,t,e)}function Iv(t,e){return Ah(2048,8,t,e)}function nS(t,e){return Ah(4,2,t,e)}function rS(t,e){return Ah(4,4,t,e)}function iS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sS(t,e,n){return n=n!=null?n.concat([t]):null,Ah(4,4,iS.bind(null,e,t),n)}function Sv(){}function oS(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lS(t,e,n){return ps&21?(Kn(n,e)||(n=fI(),Ke.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function ck(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=mp.transition;mp.transition={};try{t(!1),e()}finally{Oe=n,mp.transition=r}}function uS(){return On().memoizedState}function dk(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))dS(e,n);else if(n=WI(t,e,n,r),n!==null){var i=Zt();Wn(n,t,r,i),hS(n,e,r)}}function hk(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))dS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kn(a,o)){var l=e.interleaved;l===null?(i.next=i,mv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=WI(t,e,i,r),n!==null&&(i=Zt(),Wn(n,t,r,i),hS(n,e,r))}}function cS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function dS(t,e){Ya=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}var wd={readContext:Nn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},fk={readContext:Nn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:o1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4194308,4,iS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dk.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:s1,useDebugValue:Sv,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=s1(!1),e=t[0];return t=ck.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=er();if(We){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),yt===null)throw Error($(349));ps&30||YI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,o1(XI.bind(null,r,s,t),[t]),r.flags|=2048,xl(9,ZI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=yt.identifierPrefix;if(We){var n=Cr,r=Tr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pk={readContext:Nn,useCallback:oS,useContext:Nn,useEffect:Iv,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:gp,useRef:tS,useState:function(){return gp(Sl)},useDebugValue:Sv,useDeferredValue:function(t){var e=On();return lS(e,ht.memoizedState,t)},useTransition:function(){var t=gp(Sl)[0],e=On().memoizedState;return[t,e]},useMutableSource:KI,useSyncExternalStore:QI,useId:uS,unstable_isNewReconciler:!1},mk={readContext:Nn,useCallback:oS,useContext:Nn,useEffect:Iv,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:vp,useRef:tS,useState:function(){return vp(Sl)},useDebugValue:Sv,useDeferredValue:function(t){var e=On();return ht===null?e.memoizedState=t:lS(e,ht.memoizedState,t)},useTransition:function(){var t=vp(Sl)[0],e=On().memoizedState;return[t,e]},useMutableSource:KI,useSyncExternalStore:QI,useId:uS,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function km(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=_i(t),s=kr(r,i);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Wn(e,t,i,r),Mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=_i(t),s=kr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Wn(e,t,i,r),Mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=_i(t),i=kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(Wn(e,t,r,n),Mc(e,t,r))}};function a1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function fS(t,e,n){var r=!1,i=Ai,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=an(e)?hs:zt.current,r=e.contextTypes,s=(r=r!=null)?bo(t,i):Ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function l1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function Nm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=an(e)?hs:zt.current,i.context=bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(km(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kh.enqueueReplaceState(i,i.state,null),vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var n="",r=e;do n+=zP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bd||(bd=!0,zm=r),Om(t,e)},n}function mS(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Om(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Om(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ak.bind(null,t,e,n),e.then(t,t))}function c1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var vk=Hr.ReactCurrentOwner,sn=!1;function Yt(t,e,n,r){e.child=t===null?HI(e,null,n,r):So(e,t.child,n,r)}function h1(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=Ev(t,e,n,r,s,i),n=bv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(We&&n&&uv(e),e.flags|=1,Yt(t,e,r,i),e.child)}function f1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Nv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gS(t,e,s,r,i)):(t=Bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return Dm(t,e,n,r,i)}function vS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ro,fn),fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(ro,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(ro,fn),fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(ro,fn),fn|=r;return Yt(t,e,i,n),e.child}function yS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dm(t,e,n,r,i){var s=an(n)?hs:zt.current;return s=bo(e,s),co(e,i),n=Ev(t,e,n,r,s,i),r=bv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(We&&r&&uv(e),e.flags|=1,Yt(t,e,n,i),e.child)}function p1(t,e,n,r,i){if(an(n)){var s=!0;hd(e)}else s=!1;if(co(e,i),e.stateNode===null)Fc(t,e),fS(e,n,r),Nm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=an(n)?hs:zt.current,u=bo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&l1(e,o,r,u),ti=!1;var f=e.memoizedState;o.state=f,vd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||on.current||ti?(typeof d=="function"&&(km(e,n,d,r),l=e.memoizedState),(a=ti||a1(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=an(n)?hs:zt.current,l=bo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&l1(e,o,r,l),ti=!1,f=e.memoizedState,o.state=f,vd(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||on.current||ti?(typeof m=="function"&&(km(e,n,m,r),y=e.memoizedState),(u=ti||a1(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Mm(t,e,n,r,s,i)}function Mm(t,e,n,r,i,s){yS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&J_(e,n,!1),Vr(t,e,s);r=e.stateNode,vk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=So(e,t.child,null,s),e.child=So(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&J_(e,n,!0),e.child}function _S(t){var e=t.stateNode;e.pendingContext?X_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X_(t,e.context,!1),vv(t,e.containerInfo)}function m1(t,e,n,r,i){return Io(),dv(i),e.flags|=256,Yt(t,e,n,r),e.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function wS(t,e,n){var r=e.pendingProps,i=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(qe,i&1),t===null)return Pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dh(o,r,0,null),t=as(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vm(n),e.memoizedState=Lm,t):xv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wi(a,s):(s=as(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Lm,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xv(t,e){return e=Dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&dv(r),So(e,t.child,null,n),t=xv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yp(Error($(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dh({mode:"visible",children:r.children},i,0,null),s=as(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&So(e,t.child,null,o),e.child.memoizedState=Vm(o),e.memoizedState=Lm,s);if(!(e.mode&1))return hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=yp(s,r,void 0),hc(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lr(t,i),Wn(r,t,i,-1))}return kv(),r=yp(Error($(421))),hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=gi(i.nextSibling),vn=e,We=!0,Un=null,t!==null&&(Tn[Cn++]=Tr,Tn[Cn++]=Cr,Tn[Cn++]=fs,Tr=t.id,Cr=t.overflow,fs=e),e=xv(e,r.children),e.flags|=4096,e)}function g1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Am(t.return,e,n)}function _p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ES(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g1(t,n,e);else if(t.tag===19)g1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_p(e,!0,n,null,s);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _k(t,e,n){switch(e.tag){case 3:_S(e),Io();break;case 5:qI(e);break;case 1:an(e.type)&&hd(e);break;case 4:vv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(md,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?wS(t,e,n):(Ve(qe,qe.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Ve(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ES(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,vS(t,e,n)}return Vr(t,e,n)}var bS,Fm,IS,SS;bS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fm=function(){};IS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,is(or.current);var s=null;switch(n){case"input":i=om(t,i),r=om(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=um(t,i),r=um(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cd)}dm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ia(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wk(t,e,n){var r=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return an(e.type)&&dd(),Mt(e),null;case 3:return r=e.stateNode,xo(),He(on),He(zt),_v(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Gm(Un),Un=null))),Fm(t,e),Mt(e),null;case 5:yv(e);var i=is(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Mt(e),null}if(t=is(or.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rr]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Da.length;i++)$e(Da[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":x_(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":C_(r,s),$e("invalid",r)}dm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":tc(r),T_(r,s,!0);break;case"textarea":tc(r),R_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rr]=e,t[wl]=r,bS(t,e,!1,!1),e.stateNode=t;e:{switch(o=hm(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Da.length;i++)$e(Da[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":x_(t,r),i=om(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),$e("invalid",t);break;case"textarea":C_(t,r),i=um(t,r),$e("invalid",t);break;default:i=r}dm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$e("scroll",t):l!=null&&Qg(t,s,l,o))}switch(n){case"input":tc(t),T_(t,r,!1);break;case"textarea":tc(t),R_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=is(bl.current),is(or.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[rr]=e,(s=r.nodeValue!==n)&&(t=vn,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=e,e.stateNode=r}return Mt(e),null;case 13:if(He(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&pn!==null&&e.mode&1&&!(e.flags&128))$I(),Io(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[rr]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else Un!==null&&(Gm(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ft===0&&(ft=3):kv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return xo(),Fm(t,e),t===null&&yl(e.stateNode.containerInfo),Mt(e),null;case 10:return pv(e.type._context),Mt(e),null;case 17:return an(e.type)&&dd(),Mt(e),null;case 19:if(He(qe),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ia(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yd(t),o!==null){for(e.flags|=128,Ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>Co&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Mt(e),null}else 2*it()-s.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=qe.current,Ve(qe,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return Av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Ek(t,e){switch(cv(e),e.tag){case 1:return an(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),He(on),He(zt),_v(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(He(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(qe),null;case 4:return xo(),null;case 10:return pv(e.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var fc=!1,jt=!1,bk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function jm(t,e,n){try{n()}catch(r){et(t,e,r)}}var v1=!1;function Ik(t,e){if(bm=ad,t=PI(),lv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Im={focusedElem:t,selectionRange:n},ad=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var I=y.memoizedProps,E=y.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?I:Fn(e.type,I),E);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){et(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=v1,v1=!1,y}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jm(e,n,s)}i=i.next}while(i!==r)}}function Nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xS(t){var e=t.alternate;e!==null&&(t.alternate=null,xS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[wl],delete e[Tm],delete e[sk],delete e[ok])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TS(t){return t.tag===5||t.tag===3||t.tag===4}function y1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cd));else if(r!==4&&(t=t.child,t!==null))for(Bm(t,e,n),t=t.sibling;t!==null;)Bm(t,e,n),t=t.sibling}function $m(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($m(t,e,n),t=t.sibling;t!==null;)$m(t,e,n),t=t.sibling}var bt=null,jn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)CS(t,e,n),n=n.sibling}function CS(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:jt||no(n,e);case 6:var r=bt,i=jn;bt=null,Zr(t,e,n),bt=r,jn=i,bt!==null&&(jn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(jn?(t=bt,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),ml(t)):hp(bt,n.stateNode));break;case 4:r=bt,i=jn,bt=n.stateNode.containerInfo,jn=!0,Zr(t,e,n),bt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jm(n,e,o),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!jt&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Zr(t,e,n),jt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function _1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bk),e.forEach(function(r){var i=Nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,jn=!1;break e;case 3:bt=a.stateNode.containerInfo,jn=!0;break e;case 4:bt=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(bt===null)throw Error($(160));CS(s,o,i),bt=null,jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RS(e,t),e=e.sibling}function RS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Jn(t),r&4){try{Za(3,t,t.return),Nh(3,t)}catch(I){et(t,t.return,I)}try{Za(5,t,t.return)}catch(I){et(t,t.return,I)}}break;case 1:Vn(e,t),Jn(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Vn(e,t),Jn(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(I){et(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Yb(i,s),hm(a,o);var u=hm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?tI(i,h):d==="dangerouslySetInnerHTML"?Jb(i,h):d==="children"?dl(i,h):Qg(i,d,h,u)}switch(a){case"input":am(i,s);break;case"textarea":Zb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?oo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(I){et(t,t.return,I)}}break;case 6:if(Vn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){et(t,t.return,I)}}break;case 3:if(Vn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(I){et(t,t.return,I)}break;case 4:Vn(e,t),Jn(t);break;case 13:Vn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rv=it())),r&4&&_1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||d,Vn(e,t),jt=u):Vn(e,t),Jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:no(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(I){et(r,n,I)}}break;case 5:no(f,f.return);break;case 22:if(f.memoizedState!==null){E1(h);continue}}m!==null?(m.return=f,Y=m):E1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eI("display",o))}catch(I){et(t,t.return,I)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(I){et(t,t.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(e,t),Jn(t),r&4&&_1(t);break;case 21:break;default:Vn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var s=y1(t);$m(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y1(t);Bm(t,a,o);break;default:throw Error($(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sk(t,e,n){Y=t,PS(t)}function PS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=fc;var u=jt;if(fc=o,(jt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?b1(i):l!==null?(l.return=o,Y=l):b1(i);for(;s!==null;)Y=s,PS(s),s=s.sibling;Y=i,fc=a,jt=u}w1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):w1(t)}}function w1(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&i1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ml(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jt||e.flags&512&&Um(e)}catch(f){et(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function E1(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function b1(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nh(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{Um(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{Um(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var xk=Math.ceil,Ed=Hr.ReactCurrentDispatcher,Tv=Hr.ReactCurrentOwner,An=Hr.ReactCurrentBatchConfig,Se=0,yt=null,ut=null,Ct=0,fn=0,ro=Bi(0),ft=0,Tl=null,ms=0,Oh=0,Cv=0,Xa=null,tn=null,Rv=0,Co=1/0,Sr=null,bd=!1,zm=null,yi=null,pc=!1,ci=null,Id=0,Ja=0,Hm=null,jc=-1,Uc=0;function Zt(){return Se&6?it():jc!==-1?jc:jc=it()}function _i(t){return t.mode&1?Se&2&&Ct!==0?Ct&-Ct:lk.transition!==null?(Uc===0&&(Uc=fI()),Uc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:wI(t.type)),t):1}function Wn(t,e,n,r){if(50<Ja)throw Ja=0,Hm=null,Error($(185));du(t,n,r),(!(Se&2)||t!==yt)&&(t===yt&&(!(Se&2)&&(Oh|=n),ft===4&&ri(t,Ct)),ln(t,r),n===1&&Se===0&&!(e.mode&1)&&(Co=it()+500,Ph&&$i()))}function ln(t,e){var n=t.callbackNode;lA(t,e);var r=od(t,t===yt?Ct:0);if(r===0)n!==null&&k_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k_(n),e===1)t.tag===0?ak(I1.bind(null,t)):jI(I1.bind(null,t)),rk(function(){!(Se&6)&&$i()}),n=null;else{switch(pI(r)){case 1:n=ev;break;case 4:n=dI;break;case 16:n=sd;break;case 536870912:n=hI;break;default:n=sd}n=VS(n,AS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function AS(t,e){if(jc=-1,Uc=0,Se&6)throw Error($(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=od(t,t===yt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sd(t,r);else{e=r;var i=Se;Se|=2;var s=NS();(yt!==t||Ct!==e)&&(Sr=null,Co=it()+500,os(t,e));do try{Rk();break}catch(a){kS(t,a)}while(!0);fv(),Ed.current=s,Se=i,ut!==null?e=0:(yt=null,Ct=0,e=ft)}if(e!==0){if(e===2&&(i=vm(t),i!==0&&(r=i,e=Wm(t,i))),e===1)throw n=Tl,os(t,0),ri(t,r),ln(t,it()),n;if(e===6)ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!Tk(i)&&(e=Sd(t,r),e===2&&(s=vm(t),s!==0&&(r=s,e=Wm(t,s))),e===1))throw n=Tl,os(t,0),ri(t,r),ln(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Ji(t,tn,Sr);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=Rv+500-it(),10<e)){if(od(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xm(Ji.bind(null,t,tn,Sr),e);break}Ji(t,tn,Sr);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xk(r/1960))-r,10<r){t.timeoutHandle=xm(Ji.bind(null,t,tn,Sr),r);break}Ji(t,tn,Sr);break;case 5:Ji(t,tn,Sr);break;default:throw Error($(329))}}}return ln(t,it()),t.callbackNode===n?AS.bind(null,t):null}function Wm(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(os(t,e).flags|=256),t=Sd(t,e),t!==2&&(e=tn,tn=n,e!==null&&Gm(e)),t}function Gm(t){tn===null?tn=t:tn.push.apply(tn,t)}function Tk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~Cv,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function I1(t){if(Se&6)throw Error($(327));ho();var e=od(t,0);if(!(e&1))return ln(t,it()),null;var n=Sd(t,e);if(t.tag!==0&&n===2){var r=vm(t);r!==0&&(e=r,n=Wm(t,r))}if(n===1)throw n=Tl,os(t,0),ri(t,e),ln(t,it()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,tn,Sr),ln(t,it()),null}function Pv(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Co=it()+500,Ph&&$i())}}function gs(t){ci!==null&&ci.tag===0&&!(Se&6)&&ho();var e=Se;Se|=1;var n=An.transition,r=Oe;try{if(An.transition=null,Oe=1,t)return t()}finally{Oe=r,An.transition=n,Se=e,!(Se&6)&&$i()}}function Av(){fn=ro.current,He(ro)}function os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nk(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dd();break;case 3:xo(),He(on),He(zt),_v();break;case 5:yv(r);break;case 4:xo();break;case 13:He(qe);break;case 19:He(qe);break;case 10:pv(r.type._context);break;case 22:case 23:Av()}n=n.return}if(yt=t,ut=t=wi(t.current,null),Ct=fn=e,ft=0,Tl=null,Cv=Oh=ms=0,tn=Xa=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}rs=null}return t}function kS(t,e){do{var n=ut;try{if(fv(),Lc.current=wd,_d){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_d=!1}if(ps=0,vt=ht=Ke=null,Ya=!1,Il=0,Tv.current=null,n===null||n.return===null){ft=1,Tl=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=c1(o);if(m!==null){m.flags&=-257,d1(m,o,a,s,e),m.mode&1&&u1(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var I=new Set;I.add(l),e.updateQueue=I}else y.add(l);break e}else{if(!(e&1)){u1(s,u,e),kv();break e}l=Error($(426))}}else if(We&&a.mode&1){var E=c1(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),d1(E,o,a,s,e),dv(To(l,a));break e}}s=l=To(l,a),ft!==4&&(ft=2),Xa===null?Xa=[s]:Xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=pS(s,l,e);r1(s,v);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yi===null||!yi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=mS(s,a,e);r1(s,A);break e}}s=s.return}while(s!==null)}DS(n)}catch(N){e=N,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function NS(){var t=Ed.current;return Ed.current=wd,t===null?wd:t}function kv(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(ms&268435455)&&!(Oh&268435455)||ri(yt,Ct)}function Sd(t,e){var n=Se;Se|=2;var r=NS();(yt!==t||Ct!==e)&&(Sr=null,os(t,e));do try{Ck();break}catch(i){kS(t,i)}while(!0);if(fv(),Se=n,Ed.current=r,ut!==null)throw Error($(261));return yt=null,Ct=0,ft}function Ck(){for(;ut!==null;)OS(ut)}function Rk(){for(;ut!==null&&!JP();)OS(ut)}function OS(t){var e=LS(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?DS(t):ut=e,Tv.current=null}function DS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ek(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ut=null;return}}else if(n=wk(n,e,fn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);ft===0&&(ft=5)}function Ji(t,e,n){var r=Oe,i=An.transition;try{An.transition=null,Oe=1,Pk(t,e,n,r)}finally{An.transition=i,Oe=r}return null}function Pk(t,e,n,r){do ho();while(ci!==null);if(Se&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uA(t,s),t===yt&&(ut=yt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,VS(sd,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=Oe;Oe=1;var a=Se;Se|=4,Tv.current=null,Ik(t,n),RS(n,t),QA(Im),ad=!!bm,Im=bm=null,t.current=n,Sk(n),eA(),Se=a,Oe=o,An.transition=s}else t.current=n;if(pc&&(pc=!1,ci=t,Id=i),s=t.pendingLanes,s===0&&(yi=null),rA(n.stateNode),ln(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bd)throw bd=!1,t=zm,zm=null,t;return Id&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===Hm?Ja++:(Ja=0,Hm=t):Ja=0,$i(),null}function ho(){if(ci!==null){var t=pI(Id),e=An.transition,n=Oe;try{if(An.transition=null,Oe=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,Id=0,Se&6)throw Error($(331));var i=Se;for(Se|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Za(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(xS(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var y=s.alternate;if(y!==null){var I=y.child;if(I!==null){y.child=null;do{var E=I.sibling;I.sibling=null,I=E}while(I!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Y=v;break e}Y=s.return}}var _=t.current;for(Y=_;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=_;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nh(9,a)}}catch(N){et(a,a.return,N)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(Se=i,$i(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Sh,t)}catch{}r=!0}return r}finally{Oe=n,An.transition=e}}return!1}function S1(t,e,n){e=To(n,e),e=pS(t,e,1),t=vi(t,e,1),e=Zt(),t!==null&&(du(t,1,e),ln(t,e))}function et(t,e,n){if(t.tag===3)S1(t,t,n);else for(;e!==null;){if(e.tag===3){S1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=To(n,t),t=mS(e,t,1),e=vi(e,t,1),t=Zt(),e!==null&&(du(e,1,t),ln(e,t));break}}e=e.return}}function Ak(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Ct&n)===n&&(ft===4||ft===3&&(Ct&130023424)===Ct&&500>it()-Rv?os(t,0):Cv|=n),ln(t,e)}function MS(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Zt();t=Lr(t,e),t!==null&&(du(t,e,n),ln(t,n))}function kk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MS(t,n)}function Nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),MS(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,_k(t,e,n);sn=!!(t.flags&131072)}else sn=!1,We&&e.flags&1048576&&UI(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var i=bo(e,zt.current);co(e,n),i=Ev(null,e,r,t,i,n);var s=bv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gv(e),i.updater=kh,e.stateNode=i,i._reactInternals=e,Nm(e,r,t,n),e=Mm(null,e,r,!0,s,n)):(e.tag=0,We&&s&&uv(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Dk(r),t=Fn(r,t),i){case 0:e=Dm(null,e,r,t,n);break e;case 1:e=p1(null,e,r,t,n);break e;case 11:e=h1(null,e,r,t,n);break e;case 14:e=f1(null,e,r,Fn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Dm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),p1(t,e,r,i,n);case 3:e:{if(_S(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GI(t,e),vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error($(423)),e),e=m1(t,e,r,n,i);break e}else if(r!==i){i=To(Error($(424)),e),e=m1(t,e,r,n,i);break e}else for(pn=gi(e.stateNode.containerInfo.firstChild),vn=e,We=!0,Un=null,n=HI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===i){e=Vr(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return qI(e),t===null&&Pm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sm(r,i)?o=null:s!==null&&Sm(r,s)&&(e.flags|=32),yS(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Pm(e),null;case 13:return wS(t,e,n);case 4:return vv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=So(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),h1(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(md,r._currentValue),r._currentValue=o,s!==null)if(Kn(s.value,o)){if(s.children===i.children&&!on.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Am(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Am(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=Nn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),f1(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Fc(t,e),e.tag=1,an(r)?(t=!0,hd(e)):t=!1,co(e,n),fS(e,r,i),Nm(e,r,i,n),Mm(null,e,r,!0,t,n);case 19:return ES(t,e,n);case 22:return vS(t,e,n)}throw Error($(156,e.tag))};function VS(t,e){return cI(t,e)}function Ok(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new Ok(t,e,n,r)}function Nv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dk(t){if(typeof t=="function")return Nv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===Xg)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Nv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qs:return as(n.children,i,s,e);case Yg:o=8,i|=8;break;case nm:return t=Rn(12,n,e,i|2),t.elementType=nm,t.lanes=s,t;case rm:return t=Rn(13,n,e,i),t.elementType=rm,t.lanes=s,t;case im:return t=Rn(19,n,e,i),t.elementType=im,t.lanes=s,t;case qb:return Dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wb:o=10;break e;case Gb:o=9;break e;case Zg:o=11;break e;case Xg:o=14;break e;case ei:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function as(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Dh(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=qb,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function Ep(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ov(t,e,n,r,i,s,o,a,l){return t=new Mk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(s),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FS(t){if(!t)return Ai;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(an(n))return FI(t,n,e)}return e}function jS(t,e,n,r,i,s,o,a,l){return t=Ov(n,r,!0,t,i,s,o,a,l),t.context=FS(null),n=t.current,r=Zt(),i=_i(n),s=kr(r,i),s.callback=e??null,vi(n,s,i),t.current.lanes=i,du(t,i,r),ln(t,r),t}function Mh(t,e,n,r){var i=e.current,s=Zt(),o=_i(i);return n=FS(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,o),t!==null&&(Wn(t,i,o,s),Mc(t,i,o)),o}function xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dv(t,e){x1(t,e),(t=t.alternate)&&x1(t,e)}function Vk(){return null}var US=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mv(t){this._internalRoot=t}Lh.prototype.render=Mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Mh(t,e,null,null)};Lh.prototype.unmount=Mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){Mh(null,t,null,null)}),e[Mr]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&_I(t)}};function Lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function T1(){}function Fk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xd(o);s.call(u)}}var o=jS(e,r,t,0,null,!1,!1,"",T1);return t._reactRootContainer=o,t[Mr]=o.current,yl(t.nodeType===8?t.parentNode:t),gs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xd(l);a.call(u)}}var l=Ov(t,0,!1,null,null,!1,!1,"",T1);return t._reactRootContainer=l,t[Mr]=l.current,yl(t.nodeType===8?t.parentNode:t),gs(function(){Mh(e,l,n,r)}),l}function Fh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xd(o);a.call(l)}}Mh(e,o,t,i)}else o=Fk(n,e,t,i,r);return xd(o)}mI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(tv(e,n|1),ln(e,it()),!(Se&6)&&(Co=it()+500,$i()))}break;case 13:gs(function(){var r=Lr(t,1);if(r!==null){var i=Zt();Wn(r,t,1,i)}}),Dv(t,1)}};nv=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Zt();Wn(e,t,134217728,n)}Dv(t,134217728)}};gI=function(t){if(t.tag===13){var e=_i(t),n=Lr(t,e);if(n!==null){var r=Zt();Wn(n,t,e,r)}Dv(t,e)}};vI=function(){return Oe};yI=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};pm=function(t,e,n){switch(e){case"input":if(am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rh(r);if(!i)throw Error($(90));Qb(r),am(r,i)}}}break;case"textarea":Zb(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};iI=Pv;sI=gs;var jk={usingClientEntryPoint:!1,Events:[fu,Zs,Rh,nI,rI,Pv]},Sa={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uk={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lI(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||Vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Sh=mc.inject(Uk),sr=mc}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(e))throw Error($(200));return Lk(t,e,null,n)};bn.createRoot=function(t,e){if(!Lv(t))throw Error($(299));var n=!1,r="",i=US;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ov(t,1,!1,null,null,n,!1,r,i),t[Mr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Mv(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=lI(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return gs(t)};bn.hydrate=function(t,e,n){if(!Vh(e))throw Error($(200));return Fh(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Lv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=US;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jS(e,null,t,1,n??null,i,!1,s,o),t[Mr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};bn.render=function(t,e,n){if(!Vh(e))throw Error($(200));return Fh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Vh(t))throw Error($(40));return t._reactRootContainer?(gs(function(){Fh(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};bn.unstable_batchedUpdates=Pv;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Fh(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function BS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BS)}catch(t){console.error(t)}}BS(),Bb.exports=bn;var mu=Bb.exports;const Bk=Pb(mu);var $S,C1=mu;$S=C1.createRoot,C1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const R1="popstate";function $k(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return qm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Td(i)}return Hk(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function P1(t,e){return{usr:t.state,key:t.key,idx:e}}function qm(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||zk()})}function Td(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=di.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Cl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=di.Pop;let E=d(),v=E==null?null:E-u;u=E,l&&l({action:a,location:I.location,delta:v})}function f(E,v){a=di.Push;let _=qm(I.location,E,v);u=d()+1;let x=P1(_,u),A=I.createHref(_);try{o.pushState(x,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}s&&l&&l({action:a,location:I.location,delta:1})}function m(E,v){a=di.Replace;let _=qm(I.location,E,v);u=d();let x=P1(_,u),A=I.createHref(_);o.replaceState(x,"",A),s&&l&&l({action:a,location:I.location,delta:0})}function y(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Td(E);return _=_.replace(/ $/,"%20"),st(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let I={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R1,h),l=E,()=>{i.removeEventListener(R1,h),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let v=y(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(E){return o.go(E)}};return I}var A1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A1||(A1={}));function Wk(t,e,n){return n===void 0&&(n="/"),Gk(t,e,n,!1)}function Gk(t,e,n,r){let i=typeof e=="string"?qo(e):e,s=Vv(i.pathname||"/",n);if(s==null)return null;let o=HS(t);qk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=iN(s);a=nN(o[l],u,r)}return a}function HS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ei([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(st(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:eN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of WS(s.path))i(s,o,l)}),e}function WS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Kk=/^:[\w-]+$/,Qk=3,Yk=2,Zk=1,Xk=10,Jk=-2,k1=t=>t==="*";function eN(t,e){let n=t.split("/"),r=n.length;return n.some(k1)&&(r+=Jk),e&&(r+=Yk),n.filter(i=>!k1(i)).reduce((i,s)=>i+(Kk.test(s)?Qk:s===""?Zk:Xk),r)}function tN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=N1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=N1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ei([s,h.pathname]),pathnameBase:lN(Ei([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ei([s,h.pathnameBase]))}return o}function N1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let I=a[h]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function rN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:oN(n,e):e,search:uN(r),hash:cN(i)}}function oN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fv(t,e){let n=aN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qo(t):(i=Cl({},t),st(!i.pathname||!i.pathname.includes("?"),bp("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),bp("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),bp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=sN(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ei=t=>t.join("/").replace(/\/\/+/g,"/"),lN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GS=["post","put","patch","delete"];new Set(GS);const hN=["get",...GS];new Set(hN);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}const Uv=k.createContext(null),fN=k.createContext(null),zi=k.createContext(null),jh=k.createContext(null),Hi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),qS=k.createContext(null);function pN(t,e){let{relative:n}=e===void 0?{}:e;Ko()||st(!1);let{basename:r,navigator:i}=k.useContext(zi),{hash:s,pathname:o,search:a}=QS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ei([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ko(){return k.useContext(jh)!=null}function gu(){return Ko()||st(!1),k.useContext(jh).location}function KS(t){k.useContext(zi).static||k.useLayoutEffect(t)}function vu(){let{isDataRoute:t}=k.useContext(Hi);return t?CN():mN()}function mN(){Ko()||st(!1);let t=k.useContext(Uv),{basename:e,future:n,navigator:r}=k.useContext(zi),{matches:i}=k.useContext(Hi),{pathname:s}=gu(),o=JSON.stringify(Fv(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return KS(()=>{a.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=jv(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ei([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function QS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(zi),{matches:i}=k.useContext(Hi),{pathname:s}=gu(),o=JSON.stringify(Fv(i,r.v7_relativeSplatPath));return k.useMemo(()=>jv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function gN(t,e){return vN(t,e)}function vN(t,e,n,r){Ko()||st(!1);let{navigator:i}=k.useContext(zi),{matches:s}=k.useContext(Hi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=gu(),d;if(e){var h;let E=typeof e=="string"?qo(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||st(!1),d=E}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Wk(t,{pathname:m}),I=bN(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ei([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Ei([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&I?k.createElement(jh.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:di.Pop}},I):I}function yN(){let t=TN(),e=dN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const _N=k.createElement(yN,null);class wN extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Hi.Provider,{value:this.props.routeContext},k.createElement(qS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EN(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(Uv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Hi.Provider,{value:e},r)}function bN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||st(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,I=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,I=h.route.errorElement||_N,l&&(u<0&&f===0?(y=!0,E=null):u===f&&(y=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),_=()=>{let x;return m?x=I:y?x=E:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,k.createElement(EN,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(wN,{location:n.location,revalidation:n.revalidation,component:I,error:m,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var YS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(YS||{}),Cd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cd||{});function IN(t){let e=k.useContext(Uv);return e||st(!1),e}function SN(t){let e=k.useContext(fN);return e||st(!1),e}function xN(t){let e=k.useContext(Hi);return e||st(!1),e}function ZS(t){let e=xN(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function TN(){var t;let e=k.useContext(qS),n=SN(Cd.UseRouteError),r=ZS(Cd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CN(){let{router:t}=IN(YS.UseNavigateStable),e=ZS(Cd.UseNavigateStable),n=k.useRef(!1);return KS(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rl({fromRouteId:e},s)))},[t,e])}function RN(t){let{to:e,replace:n,state:r,relative:i}=t;Ko()||st(!1);let{future:s,static:o}=k.useContext(zi),{matches:a}=k.useContext(Hi),{pathname:l}=gu(),u=vu(),d=jv(e,Fv(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Jr(t){st(!1)}function PN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:s,static:o=!1,future:a}=t;Ko()&&st(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:Rl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,I=k.useMemo(()=>{let E=Vv(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:y},navigationType:i}},[l,d,h,f,m,y,i]);return I==null?null:k.createElement(zi.Provider,{value:u},k.createElement(jh.Provider,{children:n,value:I}))}function AN(t){let{children:e,location:n}=t;return gN(Km(e),n)}new Promise(()=>{});function Km(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Km(r.props.children,s));return}r.type!==Jr&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Km(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function kN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ON(t,e){return t.button===0&&(!e||e==="_self")&&!NN(t)}const DN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MN="6";try{window.__reactRouterVersion=MN}catch{}const LN="startTransition",O1=ul[LN];function VN(t){let{basename:e,children:n,future:r,window:i}=t,s=k.useRef();s.current==null&&(s.current=$k({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=k.useCallback(h=>{u&&O1?O1(()=>l(h)):l(h)},[l,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.createElement(PN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=kN(e,DN),{basename:m}=k.useContext(zi),y,I=!1;if(typeof u=="string"&&jN.test(u)&&(y=u,FN))try{let x=new URL(window.location.href),A=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=Vv(A.pathname,m);A.origin===x.origin&&N!=null?u=N+A.search+A.hash:I=!0}catch{}let E=pN(u,{relative:i}),v=UN(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(x){r&&r(x),x.defaultPrevented||v(x)}return k.createElement("a",Qm({},f,{href:y||E,onClick:I||s?r:_,ref:n,target:l}))});var D1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D1||(D1={}));var M1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M1||(M1={}));function UN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=vu(),u=gu(),d=QS(t,{relative:o});return k.useCallback(h=>{if(ON(h,n)){h.preventDefault();let f=r!==void 0?r:Td(u)===Td(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var L1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $N;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(t){const e=XS(t);return JS.encodeByteArray(e,!0)},Rd=function(t){return zN(t).replace(/\./g,"")},ex=function(t){try{return JS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=()=>HN().__FIREBASE_DEFAULTS__,GN=()=>{if(typeof process>"u"||typeof L1>"u")return;const t=L1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ex(t[1]);return e&&JSON.parse(e)},Uh=()=>{try{return WN()||GN()||qN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tx=t=>{var e,n;return(n=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rx=()=>{var t;return(t=Uh())===null||t===void 0?void 0:t.config},ix=t=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rd(JSON.stringify(n)),Rd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function YN(){var t;const e=(t=Uh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eO(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tO(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nO(){try{return typeof indexedDB=="object"}catch{return!1}}function rO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class Bt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iO,Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bt(i,a,r)}}function sO(t,e){return t.replace(oO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oO=/\{\$([^}]+)}/g;function aO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(V1(s)&&V1(o)){if(!Pd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function La(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lO(t,e){const n=new uO(t,e);return n.subscribe.bind(n)}class uO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ip),i.error===void 0&&(i.error=Ip),i.complete===void 0&&(i.complete=Ip);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fO(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hO(t){return t===es?void 0:t}function fO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const mO={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},gO=we.INFO,vO={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},yO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bv{constructor(e){this.name=e,this._logLevel=gO,this._logHandler=yO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const _O=(t,e)=>e.some(n=>t instanceof n);let F1,j1;function wO(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EO(){return j1||(j1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ox=new WeakMap,Ym=new WeakMap,ax=new WeakMap,Sp=new WeakMap,$v=new WeakMap;function bO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ox.set(n,t)}).catch(()=>{}),$v.set(e,t),e}function IO(t){if(Ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ym.set(t,e)}let Zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ax.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){Zm=t(Zm)}function xO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return ax.set(r,e.sort?e.sort():[e]),bi(r)}:EO().includes(t)?function(...e){return t.apply(xp(this),e),bi(ox.get(this))}:function(...e){return bi(t.apply(xp(this),e))}}function TO(t){return typeof t=="function"?xO(t):(t instanceof IDBTransaction&&IO(t),_O(t,wO())?new Proxy(t,Zm):t)}function bi(t){if(t instanceof IDBRequest)return bO(t);if(Sp.has(t))return Sp.get(t);const e=TO(t);return e!==t&&(Sp.set(t,e),$v.set(e,t)),e}const xp=t=>$v.get(t);function CO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bi(o.result),l.oldVersion,l.newVersion,bi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RO=["get","getKey","getAll","getAllKeys","count"],PO=["put","add","delete","clear"],Tp=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tp.set(e,s),s}SO(t=>({...t,get:(e,n,r)=>U1(e,n)||t.get(e,n,r),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",B1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Bv("@firebase/app"),NO="@firebase/app-compat",OO="@firebase/analytics-compat",DO="@firebase/analytics",MO="@firebase/app-check-compat",LO="@firebase/app-check",VO="@firebase/auth",FO="@firebase/auth-compat",jO="@firebase/database",UO="@firebase/data-connect",BO="@firebase/database-compat",$O="@firebase/functions",zO="@firebase/functions-compat",HO="@firebase/installations",WO="@firebase/installations-compat",GO="@firebase/messaging",qO="@firebase/messaging-compat",KO="@firebase/performance",QO="@firebase/performance-compat",YO="@firebase/remote-config",ZO="@firebase/remote-config-compat",XO="@firebase/storage",JO="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai-preview",nD="@firebase/firestore-compat",rD="firebase",iD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",sD={[Xm]:"fire-core",[NO]:"fire-core-compat",[DO]:"fire-analytics",[OO]:"fire-analytics-compat",[LO]:"fire-app-check",[MO]:"fire-app-check-compat",[VO]:"fire-auth",[FO]:"fire-auth-compat",[jO]:"fire-rtdb",[UO]:"fire-data-connect",[BO]:"fire-rtdb-compat",[$O]:"fire-fn",[zO]:"fire-fn-compat",[HO]:"fire-iid",[WO]:"fire-iid-compat",[GO]:"fire-fcm",[qO]:"fire-fcm-compat",[KO]:"fire-perf",[QO]:"fire-perf-compat",[YO]:"fire-rc",[ZO]:"fire-rc-compat",[XO]:"fire-gcs",[JO]:"fire-gcs-compat",[eD]:"fire-fst",[nD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[rD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new Map,oD=new Map,eg=new Map;function $1(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(eg.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,t);for(const n of Ad.values())$1(n,t);for(const n of oD.values())$1(n,t);return!0}function Bh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new yu("app","Firebase",aD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=iD;function lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=rx()),!n)throw Ii.create("no-options");const s=Ad.get(i);if(s){if(Pd(n,s.options)&&Pd(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new pO(i);for(const l of eg.values())o.addComponent(l);const a=new lD(n,r,o);return Ad.set(i,a),a}function zv(t=Jm){const e=Ad.get(t);if(!e&&t===Jm&&rx())return lx();if(!e)throw Ii.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=sD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}vs(new ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firebase-heartbeat-database",cD=1,Pl="firebase-heartbeat-store";let Cp=null;function ux(){return Cp||(Cp=CO(uD,cD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Cp}async function dD(t){try{const n=(await ux()).transaction(Pl),r=await n.objectStore(Pl).get(cx(t));return await n.done,r}catch(e){if(e instanceof Bt)Fr.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function z1(t,e){try{const r=(await ux()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,cx(t)),await r.done}catch(n){if(n instanceof Bt)Fr.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(r.message)}}}function cx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=1024,fD=30*24*60*60*1e3;class pD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H1(),{heartbeatsToSend:r,unsentEntries:i}=mD(this._heartbeatsCache.heartbeats),s=Rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fr.warn(n),""}}}function H1(){return new Date().toISOString().substring(0,10)}function mD(t,e=hD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),W1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nO()?rO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W1(t){return Rd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){vs(new ki("platform-logger",e=>new AO(e),"PRIVATE")),vs(new ki("heartbeat",e=>new pD(e),"PRIVATE")),ar(Xm,B1,t),ar(Xm,B1,"esm2017"),ar("fire-js","")}vD("");var yD="firebase",_D="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(yD,_D,"app");function Hv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=dx,hx=new yu("auth","Firebase",dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Bv("@firebase/auth");function ED(t,...e){kd.logLevel<=we.WARN&&kd.warn(`Auth (${As}): ${t}`,...e)}function $c(t,...e){kd.logLevel<=we.ERROR&&kd.error(`Auth (${As}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Wv(t,...e)}function lr(t,...e){return Wv(t,...e)}function fx(t,e,n){const r=Object.assign(Object.assign({},wD()),{[e]:n});return new yu("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return fx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hx.create(t,...e)}function le(t,e,...n){if(!t)throw Wv(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $c(e),new Error(e)}function jr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bD(){return G1()==="http:"||G1()==="https:"}function G1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bD()||XN()||"connection"in navigator)?navigator.onLine:!0}function SD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=QN()||JN()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new wu(3e4,6e4);function Wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,r,i={}){return mx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_u(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return ZN()||(u.referrerPolicy="no-referrer"),px.fetch()(gx(t,t.config.apiHost,n,a),u)})}async function mx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xD),e);try{const i=new RD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fx(t,d,u);Qn(t,d)}}catch(i){if(i instanceof Bt)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function Eu(t,e,n,r,i={}){const s=await Gr(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gv(t.config,i):`${t.config.apiScheme}://${i}`}function CD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),TD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function q1(t){return t!==void 0&&t.enterprise!==void 0}class PD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function AD(t,e){return Gr(t,"GET","/v2/recaptchaConfig",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function vx(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ND(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=qv(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:el(Rp(i.auth_time)),issuedAtTime:el(Rp(i.iat)),expirationTime:el(Rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const i=ex(n);return i?JSON.parse(i):($c("Failed to decode base64 JWT payload"),null)}catch(i){return $c("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K1(t){const e=qv(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bt&&OD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Al(t,vx(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yx(s.providerUserInfo):[],a=LD(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ng(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function MD(t){const e=mt(t);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yx(t){return t.map(e=>{var{providerId:n}=e,r=Hv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await mx(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",px.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=K1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fo;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ng(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ND(this,e)}reload(){return MD(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Al(this,kD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:A,isAnonymous:N,providerData:D,stsTokenManager:S}=n;le(x&&S,e,"internal-error");const w=fo.fromJSON(this.name,S);le(typeof x=="string",e,"internal-error"),Xr(h,e.name),Xr(f,e.name),le(typeof A=="boolean",e,"internal-error"),le(typeof N=="boolean",e,"internal-error"),Xr(m,e.name),Xr(y,e.name),Xr(I,e.name),Xr(E,e.name),Xr(v,e.name),Xr(_,e.name);const R=new Pr({uid:x,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:N,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:w,createdAt:v,lastLoginAt:_});return D&&Array.isArray(D)&&(R.providerData=D.map(C=>Object.assign({},C))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new fo;i.updateFromServerResponse(n);const s=new Pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new fo;a.updateFromIdToken(r);const l=new Pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ng(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;function Ar(t){jr(t instanceof Function,"Expected a class definition");let e=Q1.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_x.type="NONE";const Y1=_x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zc(this.userKey,i.apiKey,s),this.fullPersistenceKey=zc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Ar(Y1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ar(Y1);const o=zc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Pr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ix(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xx(e))return"Blackberry";if(Tx(e))return"Webos";if(Ex(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(Sx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wx(t=Ht()){return/firefox\//i.test(t)}function Ex(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(t=Ht()){return/crios\//i.test(t)}function Ix(t=Ht()){return/iemobile/i.test(t)}function Sx(t=Ht()){return/android/i.test(t)}function xx(t=Ht()){return/blackberry/i.test(t)}function Tx(t=Ht()){return/webos/i.test(t)}function Kv(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jD(t=Ht()){var e;return Kv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UD(){return eO()&&document.documentMode===10}function Cx(t=Ht()){return Kv(t)||Sx(t)||Tx(t)||xx(t)||/windows phone/i.test(t)||Ix(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e=[]){let n;switch(t){case"Browser":n=Z1(Ht());break;case"Worker":n=`${Z1(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${As}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",Wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6;class HD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vx(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Nr(this));const n=e?mt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),n=new HD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ED(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wi(t){return mt(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=lO(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(t){$h=t}function Px(t){return $h.loadJS(t)}function qD(){return $h.recaptchaEnterpriseScript}function KD(){return $h.gapiScript}function QD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YD="recaptcha-enterprise",ZD="NO_RECAPTCHA";class XD{constructor(e){this.type=YD,this.auth=Wi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PD(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;q1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ZD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&q1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qD();l.length!==0&&(l+=a),Px(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function J1(t,e,n,r=!1){const i=new XD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Od(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await J1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await J1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){const n=Bh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pd(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function e4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function t4(t,e,n){const r=Wi(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ax(e),{host:o,port:a}=n4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),r4()}function Ax(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n4(t){const e=Ax(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ew(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ew(o)}}}function ew(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function i4(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",Wr(t,e))}async function o4(t,e){return Gr(t,"POST","/v1/accounts:sendOobCode",Wr(t,e))}async function a4(t,e){return o4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}async function u4(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Qv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(e,n,"signInWithPassword",s4);case"emailLink":return l4(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Od(e,r,"signUpPassword",i4);case"emailLink":return u4(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="http://localhost";class ys extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Hv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:c4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h4(t){const e=Ma(La(t)).link,n=e?Ma(La(e)).deep_link_id:null,r=Ma(La(t)).deep_link_id;return(r?Ma(La(r)).link:null)||r||n||e||t}class Yv{constructor(e){var n,r,i,s,o,a;const l=Ma(La(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=d4((i=l.mode)!==null&&i!==void 0?i:null);le(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=h4(e);try{return new Yv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yv.parseLink(n);return le(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends bu{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends bu{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends bu{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){return Eu(t,"POST","/v1/accounts:signUp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pr._fromIdTokenResponse(e,r,i),o=tw(r);return new _s({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tw(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Bt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dd(e,n,r,i)}}function Nx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dd._fromErrorAndOperation(t,s,e,r):s})}async function p4(t,e,n=!1){const r=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Nr(r));const i="reauthenticate";try{const s=await Al(t,Nx(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=qv(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),_s._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(t,e,n=!1){if(ir(t.app))return Promise.reject(Nr(t));const r="signIn",i=await Nx(t,r,e),s=await _s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function g4(t,e){return Ox(Wi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t){const e=Wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v4(t,e,n){const r=Wi(t);await Od(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",a4)}async function y4(t,e,n){if(ir(t.app))return Promise.reject(Nr(t));const r=Wi(t),o=await Od(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Dx(t),l}),a=await _s._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nw(t,e,n){return ir(t.app)?Promise.reject(Nr(t)):g4(mt(t),Qo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dx(t),r})}function _4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function w4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function E4(t){return mt(t).signOut()}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=1e3,I4=10;class Lx extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);UD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lx.type="LOCAL";const S4=Lx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vx.type="SESSION";const Fx=Vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await x4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Zv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function C4(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function R4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A4(){return jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebaseLocalStorageDb",k4=1,Ld="firebaseLocalStorage",Bx="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function N4(){const t=indexedDB.deleteDatabase(Ux);return new Iu(t).toPromise()}function rg(){const t=indexedDB.open(Ux,k4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ld,{keyPath:Bx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),await N4(),e(await rg()))})})}async function rw(t,e,n){const r=Hh(t,!0).put({[Bx]:e,value:n});return new Iu(r).toPromise()}async function O4(t,e){const n=Hh(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function iw(t,e){const n=Hh(t,!0).delete(e);return new Iu(n).toPromise()}const D4=800,M4=3;class $x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(A4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R4(),!this.activeServiceWorker)return;this.sender=new T4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await rw(e,Md,"1"),await iw(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hh(i,!1).getAll();return new Iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$x.type="LOCAL";const L4=$x;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){return e?Ar(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F4(t){return Ox(t.auth,new Xv(t),t.bypassAuthState)}function j4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),m4(n,new Xv(t),t.bypassAuthState)}async function U4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),p4(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F4;case"linkViaPopup":case"linkViaRedirect":return U4;case"reauthViaPopup":case"reauthViaRedirect":return j4;default:Qn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new wu(2e3,1e4);class io extends zx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B4.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="pendingRedirect",Hc=new Map;class z4 extends zx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await H4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H4(t,e){const n=q4(e),r=G4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function W4(t,e){Hc.set(t._key(),e)}function G4(t){return Ar(t._redirectPersistence)}function q4(t){return zc($4,t.config.apiKey,t.name)}async function K4(t,e,n=!1){if(ir(t.app))return Promise.reject(Nr(t));const r=Wi(t),i=V4(r,e),o=await new z4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=10*60*1e3;class Y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(sw(e))}saveEventToCache(e){this.cachedEventUids.add(sw(e)),this.lastProcessedEventTime=Date.now()}}function sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function tM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X4(t);for(const n of e)try{if(nM(n))return}catch{}Qn(t,"unauthorized-domain")}function nM(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eM.test(n))return!1;if(J4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new wu(3e4,6e4);function ow(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iM(t){return new Promise((e,n)=>{var r,i,s;function o(){ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ow(),n(lr(t,"network-request-failed"))},timeout:rM.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{const a=QD("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},Px(`${KD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function sM(t){return Wc=Wc||iM(t),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new wu(5e3,15e3),aM="__/auth/iframe",lM="emulator/auth/iframe",uM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dM(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gv(e,lM):`https://${t.config.authDomain}/${aM}`,r={apiKey:e.apiKey,appName:t.name,v:As},i=cM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_u(r).slice(1)}`}async function hM(t){const e=await sM(t),n=ur().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:dM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},oM.get());function l(){ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pM=500,mM=600,gM="_blank",vM="http://localhost";class aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yM(t,e,n,r=pM,i=mM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ht().toLowerCase();n&&(a=bx(u)?gM:n),wx(u)&&(e=e||vM,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(jD(u)&&a!=="_self")return _M(e||"",a),new aw(null);const h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new aw(h)}function _M(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="__/auth/handler",EM="emulator/auth/handler",bM=encodeURIComponent("fac");async function lw(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:As,eventId:i};if(e instanceof kx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof bu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${bM}=${encodeURIComponent(l)}`:"";return`${IM(t)}?${_u(a).slice(1)}${u}`}function IM({config:t}){return t.emulator?Gv(t,EM):`https://${t.authDomain}/${wM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class SM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fx,this._completeRedirectFn=K4,this._overrideRedirectResult=W4}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lw(e,n,r,tg(),i);return yM(e,o,Zv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lw(e,n,r,tg(),i);return C4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hM(e),r=new Y4(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pp,{type:Pp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Pp];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||Ex()||Kv()}}const xM=SM;var uw="@firebase/auth",cw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RM(t){vs(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rx(t)},u=new WD(r,i,s,l);return e4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new ki("auth-internal",e=>{const n=Wi(e.getProvider("auth").getImmediate());return(r=>new TM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(uw,cw,CM(t)),ar(uw,cw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=5*60,AM=ix("authIdTokenMaxAge")||PM;let dw=null;const kM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AM)return;const i=n==null?void 0:n.token;dw!==i&&(dw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NM(t=zv()){const e=Bh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JD(t,{popupRedirectResolver:xM,persistence:[L4,S4,Fx]}),r=ix("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kM(s.toString());w4(n,o,()=>o(n.currentUser)),_4(n,a=>o(a))}}const i=tx("auth");return i&&t4(n,`http://${i}`),n}function OM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RM("Browser");var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,Wx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.D=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(C,O,M){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return w.prototype[O].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,R){R||(R=0);var C=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)C[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)C[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],O=S.g[2];var M=S.g[3],P=w+(M^R&(O^M))+C[0]+3614090360&4294967295;w=R+(P<<7&4294967295|P>>>25),P=M+(O^w&(R^O))+C[1]+3905402710&4294967295,M=w+(P<<12&4294967295|P>>>20),P=O+(R^M&(w^R))+C[2]+606105819&4294967295,O=M+(P<<17&4294967295|P>>>15),P=R+(w^O&(M^w))+C[3]+3250441966&4294967295,R=O+(P<<22&4294967295|P>>>10),P=w+(M^R&(O^M))+C[4]+4118548399&4294967295,w=R+(P<<7&4294967295|P>>>25),P=M+(O^w&(R^O))+C[5]+1200080426&4294967295,M=w+(P<<12&4294967295|P>>>20),P=O+(R^M&(w^R))+C[6]+2821735955&4294967295,O=M+(P<<17&4294967295|P>>>15),P=R+(w^O&(M^w))+C[7]+4249261313&4294967295,R=O+(P<<22&4294967295|P>>>10),P=w+(M^R&(O^M))+C[8]+1770035416&4294967295,w=R+(P<<7&4294967295|P>>>25),P=M+(O^w&(R^O))+C[9]+2336552879&4294967295,M=w+(P<<12&4294967295|P>>>20),P=O+(R^M&(w^R))+C[10]+4294925233&4294967295,O=M+(P<<17&4294967295|P>>>15),P=R+(w^O&(M^w))+C[11]+2304563134&4294967295,R=O+(P<<22&4294967295|P>>>10),P=w+(M^R&(O^M))+C[12]+1804603682&4294967295,w=R+(P<<7&4294967295|P>>>25),P=M+(O^w&(R^O))+C[13]+4254626195&4294967295,M=w+(P<<12&4294967295|P>>>20),P=O+(R^M&(w^R))+C[14]+2792965006&4294967295,O=M+(P<<17&4294967295|P>>>15),P=R+(w^O&(M^w))+C[15]+1236535329&4294967295,R=O+(P<<22&4294967295|P>>>10),P=w+(O^M&(R^O))+C[1]+4129170786&4294967295,w=R+(P<<5&4294967295|P>>>27),P=M+(R^O&(w^R))+C[6]+3225465664&4294967295,M=w+(P<<9&4294967295|P>>>23),P=O+(w^R&(M^w))+C[11]+643717713&4294967295,O=M+(P<<14&4294967295|P>>>18),P=R+(M^w&(O^M))+C[0]+3921069994&4294967295,R=O+(P<<20&4294967295|P>>>12),P=w+(O^M&(R^O))+C[5]+3593408605&4294967295,w=R+(P<<5&4294967295|P>>>27),P=M+(R^O&(w^R))+C[10]+38016083&4294967295,M=w+(P<<9&4294967295|P>>>23),P=O+(w^R&(M^w))+C[15]+3634488961&4294967295,O=M+(P<<14&4294967295|P>>>18),P=R+(M^w&(O^M))+C[4]+3889429448&4294967295,R=O+(P<<20&4294967295|P>>>12),P=w+(O^M&(R^O))+C[9]+568446438&4294967295,w=R+(P<<5&4294967295|P>>>27),P=M+(R^O&(w^R))+C[14]+3275163606&4294967295,M=w+(P<<9&4294967295|P>>>23),P=O+(w^R&(M^w))+C[3]+4107603335&4294967295,O=M+(P<<14&4294967295|P>>>18),P=R+(M^w&(O^M))+C[8]+1163531501&4294967295,R=O+(P<<20&4294967295|P>>>12),P=w+(O^M&(R^O))+C[13]+2850285829&4294967295,w=R+(P<<5&4294967295|P>>>27),P=M+(R^O&(w^R))+C[2]+4243563512&4294967295,M=w+(P<<9&4294967295|P>>>23),P=O+(w^R&(M^w))+C[7]+1735328473&4294967295,O=M+(P<<14&4294967295|P>>>18),P=R+(M^w&(O^M))+C[12]+2368359562&4294967295,R=O+(P<<20&4294967295|P>>>12),P=w+(R^O^M)+C[5]+4294588738&4294967295,w=R+(P<<4&4294967295|P>>>28),P=M+(w^R^O)+C[8]+2272392833&4294967295,M=w+(P<<11&4294967295|P>>>21),P=O+(M^w^R)+C[11]+1839030562&4294967295,O=M+(P<<16&4294967295|P>>>16),P=R+(O^M^w)+C[14]+4259657740&4294967295,R=O+(P<<23&4294967295|P>>>9),P=w+(R^O^M)+C[1]+2763975236&4294967295,w=R+(P<<4&4294967295|P>>>28),P=M+(w^R^O)+C[4]+1272893353&4294967295,M=w+(P<<11&4294967295|P>>>21),P=O+(M^w^R)+C[7]+4139469664&4294967295,O=M+(P<<16&4294967295|P>>>16),P=R+(O^M^w)+C[10]+3200236656&4294967295,R=O+(P<<23&4294967295|P>>>9),P=w+(R^O^M)+C[13]+681279174&4294967295,w=R+(P<<4&4294967295|P>>>28),P=M+(w^R^O)+C[0]+3936430074&4294967295,M=w+(P<<11&4294967295|P>>>21),P=O+(M^w^R)+C[3]+3572445317&4294967295,O=M+(P<<16&4294967295|P>>>16),P=R+(O^M^w)+C[6]+76029189&4294967295,R=O+(P<<23&4294967295|P>>>9),P=w+(R^O^M)+C[9]+3654602809&4294967295,w=R+(P<<4&4294967295|P>>>28),P=M+(w^R^O)+C[12]+3873151461&4294967295,M=w+(P<<11&4294967295|P>>>21),P=O+(M^w^R)+C[15]+530742520&4294967295,O=M+(P<<16&4294967295|P>>>16),P=R+(O^M^w)+C[2]+3299628645&4294967295,R=O+(P<<23&4294967295|P>>>9),P=w+(O^(R|~M))+C[0]+4096336452&4294967295,w=R+(P<<6&4294967295|P>>>26),P=M+(R^(w|~O))+C[7]+1126891415&4294967295,M=w+(P<<10&4294967295|P>>>22),P=O+(w^(M|~R))+C[14]+2878612391&4294967295,O=M+(P<<15&4294967295|P>>>17),P=R+(M^(O|~w))+C[5]+4237533241&4294967295,R=O+(P<<21&4294967295|P>>>11),P=w+(O^(R|~M))+C[12]+1700485571&4294967295,w=R+(P<<6&4294967295|P>>>26),P=M+(R^(w|~O))+C[3]+2399980690&4294967295,M=w+(P<<10&4294967295|P>>>22),P=O+(w^(M|~R))+C[10]+4293915773&4294967295,O=M+(P<<15&4294967295|P>>>17),P=R+(M^(O|~w))+C[1]+2240044497&4294967295,R=O+(P<<21&4294967295|P>>>11),P=w+(O^(R|~M))+C[8]+1873313359&4294967295,w=R+(P<<6&4294967295|P>>>26),P=M+(R^(w|~O))+C[15]+4264355552&4294967295,M=w+(P<<10&4294967295|P>>>22),P=O+(w^(M|~R))+C[6]+2734768916&4294967295,O=M+(P<<15&4294967295|P>>>17),P=R+(M^(O|~w))+C[13]+1309151649&4294967295,R=O+(P<<21&4294967295|P>>>11),P=w+(O^(R|~M))+C[4]+4149444226&4294967295,w=R+(P<<6&4294967295|P>>>26),P=M+(R^(w|~O))+C[11]+3174756917&4294967295,M=w+(P<<10&4294967295|P>>>22),P=O+(w^(M|~R))+C[2]+718787259&4294967295,O=M+(P<<15&4294967295|P>>>17),P=R+(M^(O|~w))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var R=w-this.blockSize,C=this.B,O=this.h,M=0;M<w;){if(O==0)for(;M<=R;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<w;)if(C[O++]=S.charCodeAt(M++),O==this.blockSize){i(this,C),O=0;break}}else for(;M<w;)if(C[O++]=S[M++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var R=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=R&255,R/=256;for(this.u(S),S=Array(16),w=R=0;4>w;++w)for(var C=0;32>C;C+=8)S[R++]=this.g[w]>>>C&255;return S};function s(S,w){var R=a;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function o(S,w){this.h=w;for(var R=[],C=!0,O=S.length-1;0<=O;O--){var M=S[O]|0;C&&M==w||(R[O]=M,C=!1)}this.g=R}var a={};function l(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(u(-S));for(var w=[],R=1,C=0;S>=R;C++)w[C]=S/R|0,R*=4294967296;return new o(w,0)}function d(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return E(d(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(w,8)),C=h,O=0;O<S.length;O+=8){var M=Math.min(8,S.length-O),P=parseInt(S.substring(O,O+M),w);8>M?(M=u(Math.pow(w,M)),C=C.j(M).add(u(P))):(C=C.j(R),C=C.add(u(P)))}return C}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-E(this).m();for(var S=0,w=1,R=0;R<this.g.length;R++){var C=this.i(R);S+=(0<=C?C:4294967296+C)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(I(this))return"-"+E(this).toString(S);for(var w=u(Math.pow(S,6)),R=this,C="";;){var O=A(R,w).g;R=v(R,O.j(w));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=O,y(R))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=v(this,S),I(S)?-1:y(S)?0:1};function E(S){for(var w=S.g.length,R=[],C=0;C<w;C++)R[C]=~S.g[C];return new o(R,~S.h).add(f)}t.abs=function(){return I(this)?E(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],C=0,O=0;O<=w;O++){var M=C+(this.i(O)&65535)+(S.i(O)&65535),P=(M>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);C=P>>>16,M&=65535,P&=65535,R[O]=P<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(S,w){return S.add(E(w))}t.j=function(S){if(y(this)||y(S))return h;if(I(this))return I(S)?E(this).j(E(S)):E(E(this).j(S));if(I(S))return E(this.j(E(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var w=this.g.length+S.g.length,R=[],C=0;C<2*w;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<S.g.length;O++){var M=this.i(C)>>>16,P=this.i(C)&65535,X=S.i(O)>>>16,G=S.i(O)&65535;R[2*C+2*O]+=P*G,_(R,2*C+2*O),R[2*C+2*O+1]+=M*G,_(R,2*C+2*O+1),R[2*C+2*O+1]+=P*X,_(R,2*C+2*O+1),R[2*C+2*O+2]+=M*X,_(R,2*C+2*O+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new o(R,0)};function _(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function x(S,w){this.g=S,this.h=w}function A(S,w){if(y(w))throw Error("division by zero");if(y(S))return new x(h,h);if(I(S))return w=A(E(S),w),new x(E(w.g),E(w.h));if(I(w))return w=A(S,E(w)),new x(E(w.g),w.h);if(30<S.g.length){if(I(S)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var R=f,C=w;0>=C.l(S);)R=N(R),C=N(C);var O=D(R,1),M=D(C,1);for(C=D(C,2),R=D(R,2);!y(C);){var P=M.add(C);0>=P.l(S)&&(O=O.add(R),M=P),C=D(C,1),R=D(R,1)}return w=v(S,O.j(w)),new x(O,w)}for(O=h;0<=S.l(w);){for(R=Math.max(1,Math.floor(S.m()/w.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(R),P=M.j(w);I(P)||0<P.l(S);)R-=C,M=u(R),P=M.j(w);y(M)&&(M=f),O=O.add(M),S=v(S,P)}return new x(O,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)&S.i(C);return new o(R,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)|S.i(C);return new o(R,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],C=0;C<w;C++)R[C]=this.i(C)^S.i(C);return new o(R,this.h^S.h)};function N(S){for(var w=S.g.length+1,R=[],C=0;C<w;C++)R[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(R,S.h)}function D(S,w){var R=w>>5;w%=32;for(var C=S.g.length-R,O=[],M=0;M<C;M++)O[M]=0<w?S.i(M+R)>>>w|S.i(M+R+1)<<32-w:S.i(M+R);return new o(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ls=o}).apply(typeof hw<"u"?hw:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gx,Va,qx,Gc,ig,Kx,Qx,Yx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in g))break e;g=g[L]}c=c[c.length-1],T=g[c],p=p(T),p!=T&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,T=!1,L={next:function(){if(!T&&g<c.length){var F=g++;return{value:p(F,c[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(T,L,F){for(var W=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)W[Le-2]=arguments[Le];return p.prototype[L].apply(T,W)}}function I(c){const p=c.length;if(0<p){const g=Array(p);for(let T=0;T<p;T++)g[T]=c[T];return g}return[]}function E(c,p){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const L=c.length||0,F=T.length||0;c.length=L+F;for(let W=0;W<F;W++)c[L+W]=T[W]}else c.push(T)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var N=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function D(c,p,g){for(const T in c)p.call(g,c[T],T,c)}function S(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function w(c){const p={};for(const g in c)p[g]=c[g];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)c[g]=T[g];for(let F=0;F<R.length;F++)g=R[F],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function O(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function M(c){a.setTimeout(()=>{throw c},0)}function P(){var c=B;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,g){const T=G.get();T.set(p,g),this.h?this.h.next=T:this.g=T,this.h=T}}var G=new v(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,V=!1,B=new X,K=()=>{const c=a.Promise.resolve(void 0);Ce=()=>{c.then(ye)}};var ye=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){M(g)}var p=G;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function Xe(c,p){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(N){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ue[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Xe.aa.h.call(this)}}y(Xe,me);var Ue={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),dn=0;function Dn(c,p,g,T,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!T,this.ha=L,this.key=++dn,this.da=this.fa=!1}function Xn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qr(c){this.src=c,this.g={},this.h=0}qr.prototype.add=function(c,p,g,T,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var W=Mn(c,p,T,L);return-1<W?(p=c[W],g||(p.fa=!1)):(p=new Dn(p,this.src,F,!!T,L),p.fa=g,c.push(p)),p};function dt(c,p){var g=p.type;if(g in c.g){var T=c.g[g],L=Array.prototype.indexOf.call(T,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(T,L,1),F&&(Xn(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Mn(c,p,g,T){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==p&&F.capture==!!g&&F.ha==T)return L}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),ra={};function w0(c,p,g,T,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)w0(c,p[F],g,T,L);return null}return g=I0(g),c&&c[nt]?c.K(p,g,u(T)?!!T.capture:!!T,L):UR(c,p,g,!1,T,L)}function UR(c,p,g,T,L,F){if(!p)throw Error("Invalid event type");var W=u(L)?!!L.capture:!!L,Le=Nf(c);if(Le||(c[Ms]=Le=new qr(c)),g=Le.add(p,g,T,W,F),g.proxy)return g;if(T=BR(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)Ze||(L=W),L===void 0&&(L=!1),c.addEventListener(p.toString(),T,L);else if(c.attachEvent)c.attachEvent(b0(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function BR(){function c(g){return p.call(c.src,c.listener,g)}const p=$R;return c}function E0(c,p,g,T,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)E0(c,p[F],g,T,L);else T=u(T)?!!T.capture:!!T,g=I0(g),c&&c[nt]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],g=Mn(F,g,T,L),-1<g&&(Xn(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Nf(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Mn(p,g,T,L)),(g=-1<c?p[c]:null)&&kf(g))}function kf(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[nt])dt(p.i,c);else{var g=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(g,T,c.capture):p.detachEvent?p.detachEvent(b0(g),T):p.addListener&&p.removeListener&&p.removeListener(T),(g=Nf(p))?(dt(g,c),g.h==0&&(g.src=null,p[Ms]=null)):Xn(c)}}}function b0(c){return c in ra?ra[c]:ra[c]="on"+c}function $R(c,p){if(c.da)c=!0;else{p=new Xe(p,this);var g=c.listener,T=c.ha||c.src;c.fa&&kf(c),c=g.call(T,p)}return c}function Nf(c){return c=c[Ms],c instanceof qr?c:null}var Of="__closure_events_fn_"+(1e9*Math.random()>>>0);function I0(c){return typeof c=="function"?c:(c[Of]||(c[Of]=function(p){return c.handleEvent(p)}),c[Of])}function kt(){oe.call(this),this.i=new qr(this),this.M=this,this.F=null}y(kt,oe),kt.prototype[nt]=!0,kt.prototype.removeEventListener=function(c,p,g,T){E0(this,c,p,g,T)};function Gt(c,p){var g,T=c.F;if(T)for(g=[];T;T=T.F)g.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new me(p,c);else if(p instanceof me)p.target=p.target||c;else{var L=p;p=new me(T,c),C(p,L)}if(L=!0,g)for(var F=g.length-1;0<=F;F--){var W=p.g=g[F];L=Vu(W,T,!0,p)&&L}if(W=p.g=c,L=Vu(W,T,!0,p)&&L,L=Vu(W,T,!1,p)&&L,g)for(F=0;F<g.length;F++)W=p.g=g[F],L=Vu(W,T,!1,p)&&L}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],T=0;T<g.length;T++)Xn(g[T]);delete c.g[p],c.h--}}this.F=null},kt.prototype.K=function(c,p,g,T){return this.i.add(String(c),p,!1,g,T)},kt.prototype.L=function(c,p,g,T){return this.i.add(String(c),p,!0,g,T)};function Vu(c,p,g,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var W=p[F];if(W&&!W.da&&W.capture==g){var Le=W.listener,Et=W.ha||W.src;W.fa&&dt(c.i,W),L=Le.call(Et,T)!==!1&&L}}return L&&!T.defaultPrevented}function S0(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function x0(c){c.g=S0(()=>{c.g=null,c.i&&(c.i=!1,x0(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zR extends oe{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:x0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(c){oe.call(this),this.h=c,this.g={}}y(ia,oe);var T0=[];function C0(c){D(c.g,function(p,g){this.g.hasOwnProperty(g)&&kf(p)},c),c.g={}}ia.prototype.N=function(){ia.aa.N.call(this),C0(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=a.JSON.stringify,HR=a.JSON.parse,WR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mf(){}Mf.prototype.h=null;function R0(c){return c.h||(c.h=c.i())}function P0(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){me.call(this,"d")}y(Lf,me);function Vf(){me.call(this,"c")}y(Vf,me);var qi={},A0=null;function Fu(){return A0=A0||new kt}qi.La="serverreachability";function k0(c){me.call(this,qi.La,c)}y(k0,me);function oa(c){const p=Fu();Gt(p,new k0(p))}qi.STAT_EVENT="statevent";function N0(c,p){me.call(this,qi.STAT_EVENT,c),this.stat=p}y(N0,me);function qt(c){const p=Fu();Gt(p,new N0(p,c))}qi.Ma="timingevent";function O0(c,p){me.call(this,qi.Ma,c),this.size=p}y(O0,me);function aa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function GR(c,p,g,T,L,F){c.info(function(){if(c.g)if(F)for(var W="",Le=F.split("&"),Et=0;Et<Le.length;Et++){var xe=Le[Et].split("=");if(1<xe.length){var Nt=xe[0];xe=xe[1];var Ot=Nt.split("_");W=2<=Ot.length&&Ot[1]=="type"?W+(Nt+"="+xe+"&"):W+(Nt+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+g+`
`+W})}function qR(c,p,g,T,L,F,W){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+g+`
`+F+" "+W})}function Ls(c,p,g,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+QR(c,g)+(T?" "+T:"")})}function KR(c,p){c.info(function(){return"TIMEOUT: "+p})}la.prototype.info=function(){};function QR(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var T=g[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Df(g)}catch{return p}}var ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ff;function Uu(){}y(Uu,Mf),Uu.prototype.g=function(){return new XMLHttpRequest},Uu.prototype.i=function(){return{}},Ff=new Uu;function Kr(c,p,g,T){this.j=c,this.i=p,this.l=g,this.R=T||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M0}function M0(){this.i=null,this.g="",this.h=!1}var L0={},jf={};function Uf(c,p,g){c.L=1,c.v=Hu(Er(p)),c.m=g,c.P=!0,V0(c,null)}function V0(c,p){c.F=Date.now(),Bu(c),c.A=Er(c.v);var g=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Z0(g.i,"t",T),c.C=0,g=c.j.J,c.h=new M0,c.g=m_(c.j,g?p:null,!c.m),0<c.O&&(c.M=new zR(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(T0[0]=L.toString()),L=T0);for(var F=0;F<L.length;F++){var W=w0(g,L[F],T||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),oa(),GR(c.i,c.u,c.A,c.l,c.R,c.m)}Kr.prototype.ca=function(c){c=c.target;const p=this.M;p&&br(c)==3?p.j():this.Y(c)},Kr.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=br(this.g);var p=this.g.Ba();const js=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||i_(this.g)))){this.J||Ot!=4||p==7||(p==8||0>=js?oa(3):oa(2)),Bf(this);var g=this.g.Z();this.X=g;t:if(F0(this)){var T=i_(this.g);c="";var L=T.length,F=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),ua(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(T[p],{stream:!(F&&p==L-1)});T.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,qR(this.i,this.u,this.A,this.l,this.R,Ot,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Et=this.g;if((Le=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Le)){var xe=Le;break t}}xe=null}if(g=xe)Ls(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,g);else{this.o=!1,this.s=3,qt(12),Ki(this),ua(this);break e}}if(this.P){g=!0;let Ln;for(;!this.J&&this.C<W.length;)if(Ln=YR(this,W),Ln==jf){Ot==4&&(this.s=4,qt(14),g=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==L0){this.s=4,qt(15),Ls(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Ls(this.i,this.l,Ln,null),$f(this,Ln);if(F0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||W.length!=0||this.h.h||(this.s=1,qt(16),g=!1),this.o=this.o&&g,!g)Ls(this.i,this.l,W,"[Invalid Chunked Response]"),Ki(this),ua(this);else if(0<W.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Kf(Nt),Nt.M=!0,qt(11))}}else Ls(this.i,this.l,W,null),$f(this,W);Ot==4&&Ki(this),this.o&&!this.J&&(Ot==4?d_(this.j,this):(this.o=!1,Bu(this)))}else fP(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ki(this),ua(this)}}}catch{}finally{}};function F0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function YR(c,p){var g=c.C,T=p.indexOf(`
`,g);return T==-1?jf:(g=Number(p.substring(g,T)),isNaN(g)?L0:(T+=1,T+g>p.length?jf:(p=p.slice(T,T+g),c.C=T+g,p)))}Kr.prototype.cancel=function(){this.J=!0,Ki(this)};function Bu(c){c.S=Date.now()+c.I,j0(c,c.I)}function j0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=aa(f(c.ba,c),p)}function Bf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Kr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(KR(this.i,this.A),this.L!=2&&(oa(),qt(17)),Ki(this),this.s=2,ua(this)):j0(this,this.S-c)};function ua(c){c.j.G==0||c.J||d_(c.j,c)}function Ki(c){Bf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,C0(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function $f(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||zf(g.h,c))){if(!c.K&&zf(g.h,c)&&g.G==3){try{var T=g.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Yu(g),Ku(g);else break e;qf(g),qt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=aa(f(g.Za,g),6e3));if(1>=$0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Yi(g,11)}else if((c.K||g.g==c)&&Yu(g),!_(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let xe=L[p];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const Nt=xe[3];Nt!=null&&(g.la=Nt,g.j.info("VER="+g.la));const Ot=xe[4];Ot!=null&&(g.Aa=Ot,g.j.info("SVER="+g.Aa));const js=xe[5];js!=null&&typeof js=="number"&&0<js&&(T=1.5*js,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ln=c.g;if(Ln){const Xu=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var F=T.h;F.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Hf(F,F.h),F.h=null))}if(T.D){const Qf=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(T.ya=Qf,Be(T.I,T.D,Qf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=c;if(T.qa=p_(T,T.J?T.ia:null,T.W),W.K){z0(T.h,W);var Le=W,Et=T.L;Et&&(Le.I=Et),Le.B&&(Bf(Le),Bu(Le)),T.g=W}else u_(T);0<g.i.length&&Qu(g)}else xe[0]!="stop"&&xe[0]!="close"||Yi(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Yi(g,7):Gf(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}oa(4)}catch{}}var ZR=class{constructor(c,p){this.g=c,this.map=p}};function U0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function B0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $0(c){return c.h?1:c.g?c.g.size:0}function zf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Hf(c,p){c.g?c.g.add(p):c.h=p}function z0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}U0.prototype.cancel=function(){if(this.i=H0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function H0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return I(c.i)}function XR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,T=0;T<g;T++)p.push(c[T]);return p}p=[],g=0;for(T in c)p[g++]=c[T];return p}function JR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const T in c)p[g++]=T;return p}}}function W0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=JR(c),T=XR(c),L=T.length,F=0;F<L;F++)p.call(void 0,T[F],g&&g[F],c)}var G0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eP(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var T=c[g].indexOf("="),L=null;if(0<=T){var F=c[g].substring(0,T);L=c[g].substring(T+1)}else F=c[g];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,$u(this,c.j),this.o=c.o,this.g=c.g,zu(this,c.s),this.l=c.l;var p=c.i,g=new ha;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),q0(this,g),this.m=c.m}else c&&(p=String(c).match(G0))?(this.h=!1,$u(this,p[1]||"",!0),this.o=ca(p[2]||""),this.g=ca(p[3]||"",!0),zu(this,p[4]),this.l=ca(p[5]||"",!0),q0(this,p[6]||"",!0),this.m=ca(p[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}Qi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(da(p,K0,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(da(p,K0,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(da(g,g.charAt(0)=="/"?rP:nP,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",da(g,sP)),c.join("")};function Er(c){return new Qi(c)}function $u(c,p,g){c.j=g?ca(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function zu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function q0(c,p,g){p instanceof ha?(c.i=p,oP(c.i,c.h)):(g||(p=da(p,iP)),c.i=new ha(p,c.h))}function Be(c,p,g){c.i.set(p,g)}function Hu(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ca(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function da(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,tP),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var K0=/[#\/\?@]/g,nP=/[#\?:]/g,rP=/[#\?]/g,iP=/[#\?@]/g,sP=/#/g;function ha(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Qr(c){c.g||(c.g=new Map,c.h=0,c.i&&eP(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=ha.prototype,t.add=function(c,p){Qr(this),this.i=null,c=Vs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function Q0(c,p){Qr(c),p=Vs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Y0(c,p){return Qr(c),p=Vs(c,p),c.g.has(p)}t.forEach=function(c,p){Qr(this),this.g.forEach(function(g,T){g.forEach(function(L){c.call(p,L,T,this)},this)},this)},t.na=function(){Qr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let T=0;T<p.length;T++){const L=c[T];for(let F=0;F<L.length;F++)g.push(p[T])}return g},t.V=function(c){Qr(this);let p=[];if(typeof c=="string")Y0(this,c)&&(p=p.concat(this.g.get(Vs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Qr(this),this.i=null,c=Vs(this,c),Y0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Z0(c,p,g){Q0(c,p),0<g.length&&(c.i=null,c.g.set(Vs(c,p),I(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var T=p[g];const F=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=F;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),c.push(L)}}return this.i=c.join("&")};function Vs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function oP(c,p){p&&!c.j&&(Qr(c),c.i=null,c.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(Q0(this,T),Z0(this,L,g))},c)),c.j=p}function aP(c,p){const g=new la;if(a.Image){const T=new Image;T.onload=m(Yr,g,"TestLoadImage: loaded",!0,p,T),T.onerror=m(Yr,g,"TestLoadImage: error",!1,p,T),T.onabort=m(Yr,g,"TestLoadImage: abort",!1,p,T),T.ontimeout=m(Yr,g,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function lP(c,p){const g=new la,T=new AbortController,L=setTimeout(()=>{T.abort(),Yr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?Yr(g,"TestPingServer: ok",!0,p):Yr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Yr(g,"TestPingServer: error",!1,p)})}function Yr(c,p,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function uP(){this.g=new WR}function cP(c,p,g){const T=g||"";try{W0(c,function(L,F){let W=L;u(L)&&(W=Df(L)),p.push(T+F+"="+encodeURIComponent(W))})}catch(L){throw p.push(T+"type="+encodeURIComponent("_badmap")),L}}function Wu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Wu,Mf),Wu.prototype.g=function(){return new Gu(this.l,this.j)},Wu.prototype.i=function(c){return function(){return c}}({});function Gu(c,p){kt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gu,kt),t=Gu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,pa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function X0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?fa(this):pa(this),this.readyState==3&&X0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,fa(this))},t.Qa=function(c){this.g&&(this.response=c,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function pa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function J0(c){let p="";return D(c,function(g,T){p+=T,p+=":",p+=g,p+=`\r
`}),p}function Wf(c,p,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=J0(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Be(c,p,g))}function Je(c){kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Je,kt);var dP=/^https?$/i,hP=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ff.g(),this.v=this.o?R0(this.o):R0(Ff),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){e_(this,F);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())g.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hP,p,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of g)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r_(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){e_(this,F)}};function e_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,t_(c),qu(c)}function t_(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n_(this):this.bb())},t.bb=function(){n_(this)};function n_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||br(c)!=4||c.Z()!=2)){if(c.u&&br(c)==4)S0(c.Ea,0,c);else if(Gt(c,"readystatechange"),br(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var T;if(T=W===0){var L=String(c.D).match(G0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!dP.test(L?L.toLowerCase():"")}g=T}if(g)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var F=2<br(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",t_(c)}}finally{qu(c)}}}}function qu(c,p){if(c.g){r_(c);const g=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Gt(c,"ready");try{g.onreadystatechange=T}catch{}}}function r_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function br(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),HR(p)}};function i_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fP(c){const p={};c=(c.g&&2<=br(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(_(c[T]))continue;var g=O(c[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=p[L]||[];p[L]=F,F.push(g)}S(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function s_(c){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ma("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ma("baseRetryDelayMs",5e3,c),this.cb=ma("retryDelaySeedMs",1e4,c),this.Wa=ma("forwardChannelMaxRetries",2,c),this.wa=ma("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new U0(c&&c.concurrentRequestLimit),this.Da=new uP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s_.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,T){qt(0),this.W=c,this.H=p||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=p_(this,null,this.W),Qu(this)};function Gf(c){if(o_(c),c.G==3){var p=c.U++,g=Er(c.I);if(Be(g,"SID",c.K),Be(g,"RID",p),Be(g,"TYPE","terminate"),ga(c,g),p=new Kr(c,c.j,p),p.L=2,p.v=Hu(Er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=m_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Bu(p)}f_(c)}function Ku(c){c.g&&(Kf(c),c.g.cancel(),c.g=null)}function o_(c){Ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qu(c){if(!B0(c.h)&&!c.s){c.s=!0;var p=c.Ga;Ce||K(),V||(Ce(),V=!0),B.add(p,c),c.B=0}}function pP(c,p){return $0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=aa(f(c.Ga,c,p),h_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Kr(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=l_(this,L,p),g=Er(this.I),Be(g,"RID",c),Be(g,"CVER",22),this.D&&Be(g,"X-HTTP-Session-Id",this.D),ga(this,g),F&&(this.O?p="headers="+encodeURIComponent(String(J0(F)))+"&"+p:this.m&&Wf(g,this.m,F)),Hf(this.h,L),this.Ua&&Be(g,"TYPE","init"),this.P?(Be(g,"$req",p),Be(g,"SID","null"),L.T=!0,Uf(L,g,null)):Uf(L,g,p),this.G=2}}else this.G==3&&(c?a_(this,c):this.i.length==0||B0(this.h)||a_(this))};function a_(c,p){var g;p?g=p.l:g=c.U++;const T=Er(c.I);Be(T,"SID",c.K),Be(T,"RID",g),Be(T,"AID",c.T),ga(c,T),c.m&&c.o&&Wf(T,c.m,c.o),g=new Kr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=l_(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,g),Uf(g,T,p)}function ga(c,p){c.H&&D(c.H,function(g,T){Be(p,T,g)}),c.l&&W0({},function(g,T){Be(p,T,g)})}function l_(c,p,g){g=Math.min(c.i.length,g);var T=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const W=["count="+g];F==-1?0<g?(F=L[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let Le=!0;for(let Et=0;Et<g;Et++){let xe=L[Et].g;const Nt=L[Et].map;if(xe-=F,0>xe)F=Math.max(0,L[Et].g-100),Le=!1;else try{cP(Nt,W,"req"+xe+"_")}catch{T&&T(Nt)}}if(Le){T=W.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,T}function u_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Ce||K(),V||(Ce(),V=!0),B.add(p,c),c.v=0}}function qf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=aa(f(c.Fa,c),h_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,c_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=aa(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Ku(this),c_(this))};function Kf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function c_(c){c.g=new Kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Er(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),ga(c,p),c.m&&c.o&&Wf(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Hu(Er(p)),g.m=null,g.P=!0,V0(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),qf(this),qt(19))};function Yu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function d_(c,p){var g=null;if(c.g==p){Yu(c),Kf(c),c.g=null;var T=2}else if(zf(c.h,p))g=p.D,z0(c.h,p),T=1;else return;if(c.G!=0){if(p.o)if(T==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;T=Fu(),Gt(T,new O0(T,g)),Qu(c)}else u_(c);else if(L=p.s,L==3||L==0&&0<p.X||!(T==1&&pP(c,p)||T==2&&qf(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),L){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function h_(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function Yi(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),T=c.Xa;const L=!T;T=new Qi(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(T,"https"),Hu(T),L?aP(T.toString(),g):lP(T.toString(),g)}else qt(2);c.G=0,c.l&&c.l.sa(p),f_(c),o_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function f_(c){if(c.G=0,c.ka=[],c.l){const p=H0(c.h);(p.length!=0||c.i.length!=0)&&(E(c.ka,p),E(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function p_(c,p,g){var T=g instanceof Qi?Er(g):new Qi(g);if(T.g!="")p&&(T.g=p+"."+T.g),zu(T,T.s);else{var L=a.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new Qi(null);T&&$u(F,T),p&&(F.g=p),L&&zu(F,L),g&&(F.l=g),T=F}return g=c.D,p=c.ya,g&&p&&Be(T,g,p),Be(T,"VER",c.la),ga(c,T),T}function m_(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Je(new Wu({eb:g})):new Je(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g_(){}t=g_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zu(){}Zu.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){kt.call(this),this.g=new s_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Fs(this)}y(hn,kt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Gf(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Df(c),c=g);p.i.push(new ZR(p.Ya++,c)),p.G==3&&Qu(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,hn.aa.N.call(this)};function v_(c){Lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(v_,Lf);function y_(){Vf.call(this),this.status=1}y(y_,Vf);function Fs(c){this.g=c}y(Fs,g_),Fs.prototype.ua=function(){Gt(this.g,"a")},Fs.prototype.ta=function(c){Gt(this.g,new v_(c))},Fs.prototype.sa=function(c){Gt(this.g,new y_)},Fs.prototype.ra=function(){Gt(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,Yx=function(){return new Zu},Qx=function(){return Fu()},Kx=qi,ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ju.NO_ERROR=0,ju.TIMEOUT=8,ju.HTTP_ERROR=6,Gc=ju,D0.COMPLETE="complete",qx=D0,P0.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Va=P0,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Gx=Je}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const fw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Bv("@firebase/firestore");function xa(){return ws.logLevel}function J(t,...e){if(ws.logLevel<=we.DEBUG){const n=e.map(Jv);ws.debug(`Firestore (${Yo}): ${t}`,...n)}}function Ur(t,...e){if(ws.logLevel<=we.ERROR){const n=e.map(Jv);ws.error(`Firestore (${Yo}): ${t}`,...n)}}function Ro(t,...e){if(ws.logLevel<=we.WARN){const n=e.map(Jv);ws.warn(`Firestore (${Yo}): ${t}`,...n)}}function Jv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function De(t,e){t||ce()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class MM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LM{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Zx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ft(e)}}class VM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new jM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Fe(0,0))}static max(){return new de(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends Nl{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const $M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Nl{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return $M.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(ze.fromString(e))}static fromName(e){return new re(ze.fromString(e).popFirst(5))}static empty(){return new re(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new ze(e.slice()))}}function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Ni(i,re.empty(),e)}function HM(t){return new Ni(t.readTime,t.key,-1)}class Ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ni(de.min(),re.empty(),-1)}static max(){return new Ni(de.max(),re.empty(),-1)}}function WM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==GM)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ey.oe=-1;function Wh(t){return t==null}function Vd(t){return t===0&&1/t==-1/0}function QM(t){return typeof t=="number"&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Rt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eT("Invalid base64 string: "+s):s}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(De(!!t),typeof t=="string"){let e=0;const n=YM.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ny(t){const e=t.mapValue.fields.__previous_value__;return ty(e)?ny(e):e}function Ol(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ty(t)?4:JM(t)?9007199254740991:XM(t)?10:11:ce()}function mr(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oi(i.timestampValue),a=Oi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Es(i.bytesValue).isEqual(Es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rt(i.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rt(i.integerValue)===rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rt(i.doubleValue),a=rt(s.doubleValue);return o===a?Vd(o)===Vd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pw(o)!==pw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function Ml(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rt(s.integerValue||s.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(Ol(t),Ol(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Es(s),l=Es(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Te(a[u],l[u]);if(d!==0)return d}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(rt(s.latitude),rt(o.latitude));return a!==0?a:Te(rt(s.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,I=Te(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:vw(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Te(l[h],d[h]);if(f!==0)return f;const m=Ao(a[l[h]],u[d[h]]);if(m!==0)return m}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Oi(t),r=Oi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function vw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ao(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function ko(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${sg(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function _w(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}function XM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(tl(this.value))}}function tT(t){const e=[];return ks(t.fields,(n,r)=>{const i=new xt([n]);if(qc(r)){const s=tT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,de.min(),de.min(),de.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,de.min(),de.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,de.min(),de.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function Ew(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class ct extends nT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nL(e,n,r):n==="array-contains"?new sL(e,r):n==="in"?new oL(e,r):n==="not-in"?new aL(e,r):n==="array-contains-any"?new lL(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rL(e,r):new iL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends nT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yn(e,n)}matches(e){return rT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rT(t){return t.op==="and"}function iT(t){return tL(t)&&rT(t)}function tL(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function ag(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(iT(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function sT(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sT(o,i.filters[a]),!0):!1}(t,e):void ce()}function oT(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"}(t):"Filter"}class nL extends ct{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class rL extends ct{constructor(e,n){super(e,"in",n),this.keys=aT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iL extends ct{constructor(e,n){super(e,"not-in",n),this.keys=aT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class sL extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&Ml(n.arrayValue,this.value)}}class oL extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class aL extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class lL extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Iw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uL(t,e,n,r,i,s,o)}function iy(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.ue=n}return e.ue}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}function lg(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cL(t,e,n,r,i,s,o,a){return new Tu(t,e,n,r,i,s,o,a)}function oy(t){return new Tu(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lT(t){return t.collectionGroup!==null}function nl(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(xt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jd(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new jd(xt.keyField(),r))}return e.ce}function cr(t){const e=he(t);return e.le||(e.le=dL(e,nl(t))),e.le}function dL(t,e){if(t.limitType==="F")return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jd(i.field,s)});const n=t.endAt?new Fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fd(t.startAt.position,t.startAt.inclusive):null;return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cg(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return sy(cr(t),cr(e))&&t.limitType===e.limitType}function uT(t){return`${iy(cr(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oT(i)).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Ew(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,nl(r),i)||r.endAt&&!function(o,a,l){const u=Ew(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,nl(r),i))}(t,e)}function hL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cT(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const s=fL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fL(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ao(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Ye(re.comparator);function Br(){return pL}const dT=new Ye(re.comparator);function Fa(...t){let e=dT;for(const n of t)e=e.insert(n.key,n);return e}function hT(t){let e=dT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return rl()}function fT(){return rl()}function rl(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const mL=new Ye(re.comparator),gL=new Rt(re.comparator);function _e(...t){let e=gL;for(const n of t)e=e.add(n);return e}const vL=new Rt(Te);function yL(){return vL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function pT(t){return{integerValue:""+t}}function _L(t,e){return QM(e)?pT(e):ay(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function wL(t,e,n){return t instanceof Ud?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ty(s)&&(s=ny(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ll?gT(t,e):t instanceof Vl?vT(t,e):function(i,s){const o=mT(i,s),a=xw(o)+xw(i.Pe);return og(o)&&og(i.Pe)?pT(a):ay(i.serializer,a)}(t,e)}function EL(t,e,n){return t instanceof Ll?gT(t,e):t instanceof Vl?vT(t,e):n}function mT(t,e){return t instanceof Bd?function(r){return og(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ud extends Kh{}class Ll extends Kh{constructor(e){super(),this.elements=e}}function gT(t,e){const n=yT(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends Kh{constructor(e){super(),this.elements=e}}function vT(t,e){let n=yT(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Bd extends Kh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xw(t){return rt(t.integerValue||t.doubleValue)}function yT(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ll&&i instanceof Ll||r instanceof Vl&&i instanceof Vl?Po(r.elements,i.elements,mr):r instanceof Bd&&i instanceof Bd?mr(r.Pe,i.Pe):r instanceof Ud&&i instanceof Ud}(t.transform,e.transform)}class IL{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,Gn.none()):new Cu(t.key,t.data,Gn.none());{const n=t.data,r=nn.empty();let i=new Rt(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new mn(i.toArray()),Gn.none())}}function SL(t,e,n){t instanceof Cu?function(i,s,o){const a=i.value.clone(),l=Cw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(i,s,o){if(!Kc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Cw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Cu?function(s,o,a,l){if(!Kc(s.precondition,o))return a;const u=s.value.clone(),d=Rw(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(s,o,a,l){if(!Kc(s.precondition,o))return a;const u=Rw(s.fieldTransforms,l,o),d=o.data;return d.setAll(wT(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Kc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function xL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mT(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function Tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Po(r,i,(s,o)=>bL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends Qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends Qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cw(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EL(o,a,n[i]))}return r}function Rw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wL(s,o,e))}return r}class ly extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TL extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=_T(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>Tw(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>Tw(n,r))}}class uy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return mL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ee;function AL(t){switch(t){default:return ce();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function ET(t){if(t===void 0)return Ur("GRPC error has no .code"),j.UNKNOWN;switch(t){case ot.OK:return j.OK;case ot.CANCELLED:return j.CANCELLED;case ot.UNKNOWN:return j.UNKNOWN;case ot.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ot.INTERNAL:return j.INTERNAL;case ot.UNAVAILABLE:return j.UNAVAILABLE;case ot.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ot.NOT_FOUND:return j.NOT_FOUND;case ot.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ot.ABORTED:return j.ABORTED;case ot.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ot.DATA_LOSS:return j.DATA_LOSS;default:return ce()}}(Ee=ot||(ot={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new ls([4294967295,4294967295],0);function Pw(t){const e=kL().encode(t),n=new Wx;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ls([n,r],0),new ls([i,s],0)]}class cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ls.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ls.fromNumber(r)));return i.compare(NL)===1&&(i=new ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Pw(e),[r,i]=Aw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Pw(e),[r,i]=Aw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yh(de.min(),i,new Ye(Te),Br(),_e())}}class Ru{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bT{constructor(e,n){this.targetId=e,this.me=n}}class IT{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kw{constructor(){this.fe=0,this.ge=Ow(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ow()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=Nw(),this.Qe=new Ye(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(lg(s))if(r===0){const o=new re(s.path);this.Ue(n,o,Ut.newNoDocument(o,de.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Es(r).toUint8Array()}catch(l){if(l instanceof eT)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cy(o,i,s)}catch(l){return Ro(l instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&lg(a.target)){const l=new re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ut.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Yh(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=Nw(),this.Qe=new Ye(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nw(){return new Ye(re.comparator)}function Ow(){return new Ye(re.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},ML={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LL={and:"AND",or:"OR"};class VL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Wh(e)?e:{value:e}}function $d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FL(t,e){return $d(t,e.toTimestamp())}function dr(t){return De(!!t),de.fromTimestamp(function(n){const r=Oi(n);return new Fe(r.seconds,r.nanos)}(t))}function dy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xT(t){const e=ze.fromString(t);return De(AT(e)),e}function fg(t,e){return dy(t.databaseId,e.path)}function Ap(t,e){const n=xT(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(CT(n))}function TT(t,e){return dy(t.databaseId,e)}function jL(t){const e=xT(t);return e.length===4?ze.emptyPath():CT(e)}function pg(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Dw(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function UL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(De(d===void 0||typeof d=="string"),At.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),At.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?j.UNKNOWN:ET(u.code);return new Z(d,u.message||"")}(o);n=new IT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ap(t,r.document.name),s=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):de.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=Ut.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Qc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ap(t,r.document),s=r.readTime?dr(r.readTime):de.min(),o=Ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ap(t,r.document),s=r.removedTargetIds||[];n=new Qc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new PL(i,s),a=r.targetId;n=new bT(a,o)}}return n}function BL(t,e){let n;if(e instanceof Cu)n={update:Dw(t,e.key,e.value)};else if(e instanceof ly)n={delete:fg(t,e.key)};else if(e instanceof Gi)n={update:Dw(t,e.key,e.data),updateMask:YL(e.fieldMask)};else{if(!(e instanceof TL))return ce();n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:FL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function $L(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dr(i.updateTime):dr(s);return o.isEqual(de.min())&&(o=dr(s)),new IL(o,i.transformResults||[])}(n,e))):[]}function zL(t,e){return{documents:[TT(t,e.path)]}}function HL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TT(t,i);const s=function(u){if(u.length!==0)return PT(Yn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:zs(f.field),direction:qL(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function WL(t){let e=jL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=RT(h);return f instanceof Yn&&iT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new jd(Hs(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Wh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Fd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Fd(m,f)}(n.endAt)),cL(e,i,o,s,a,"F",l,u)}function GL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hs(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hs(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hs(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>RT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function qL(t){return DL[t]}function KL(t){return ML[t]}function QL(t){return LL[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return xt.fromServerFormat(t.fieldPath)}function PT(t){return t instanceof ct?function(n){if(n.op==="=="){if(ww(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(_w(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ww(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(_w(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:KL(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(i=>PT(i));return r.length===1?r[0]:{compositeFilter:{op:QL(n.op),filters:r}}}(t):ce()}function YL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,s=de.min(),o=de.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.ct=e}}function XL(t){const e=WL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.un=new e6}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ni.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class e6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new No(0)}static kn(){return new No(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,mn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Br();const o=rl(),a=function(){return rl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Gi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),il(d.mutation,u,d.mutation.getFieldMask(),Fe.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new n6(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Ye((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=fT();d.forEach(f=>{if(!s.has(f)){const m=_T(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ss());let a=-1,l=s;return o.next(u=>U.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:hT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Fa();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(h,f){return new Tu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ut.newInvalidDocument(d)))});let a=Fa();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&il(d.mutation,u,mn.empty(),Fe.now()),qh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:XL(i.bundledQuery),readTime:dr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.overlays=new Ye(re.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ss(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ss(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RL(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Tr=new Rt(gt.Er),this.dr=new Rt(gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new gt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new ze([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new ze([])),r=new gt(n,e),i=new gt(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(gt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Te);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new gt(new re(s),0);let a=new Rt(Te);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new gt(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Mr=e,this.docs=function(){return new Ye(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WM(HM(d),r)<=0||(i.has(d.key)||qh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new u6(this)}getSize(e){return U.resolve(this.size)}}class u6 extends t6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.persistence=e,this.Nr=new Zo(n=>iy(n),sy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hy,this.targetCount=0,this.kr=No.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new No(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ey(0),this.Kr=!1,this.Kr=!0,this.$r=new o6,this.referenceDelegate=e(this),this.Ur=new c6(this),this.indexManager=new JL,this.remoteDocumentCache=function(i){return new l6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ZL(n),this.Gr=new i6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new a6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new h6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class h6 extends qM{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Jr=new hy,this.Yr=null}static Zr(e){return new fy(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new py(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tO()?8:KM(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new f6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xa()<=we.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(xa()<=we.DEBUG&&J("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xa()<=we.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):U.resolve())}Yi(e,n){if(Sw(n))return U.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cg(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,cg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Sw(n)||i.isEqual(de.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(xa()<=we.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.rs(e,o,n,zM(i,-1)).next(a=>a))})}ts(e,n){let r=new Rt(cT(e));return n.forEach((i,s)=>{qh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return xa()<=we.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",$s(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(Te),this._s=new Zo(s=>iy(s),sy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function g6(t,e,n,r){return new m6(t,e,n,r)}async function kT(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function v6(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=U.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(I=>{const E=u.docVersions.get(y);De(E!==null),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NT(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function y6(t,e){const n=he(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(At.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(I,E,v){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Br(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(_6(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(de.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function _6(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function w6(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E6(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function mg(t,e,n){const r=he(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xu(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Mw(t,e,n){const r=he(t);let i=de.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=he(l),f=h._s.get(d);return f!==void 0?U.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:_e())).next(a=>(b6(r,hL(e),a),{documents:a,Ts:s})))}function b6(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Lw{constructor(){this.activeTargetIds=yL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I6{constructor(){this.so=new Lw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function kp(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class C6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=kp(),l=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(J("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=x6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=kp();return new Promise((o,a)=>{const l=new Gx;l.setWithCredentials(!0),l.listenOnce(qx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gc.NO_ERROR:const d=l.getResponseJson();J(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Gc.TIMEOUT:J(Lt,`RPC '${e}' ${s} timed out`),a(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const h=l.getStatus();if(J(Lt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(m.status);a(new Z(y,m.message))}else a(new Z(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(j.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(Lt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J(Lt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=kp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yx(),a=Qx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");J(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const y=new T6({Io:E=>{m?J(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(J(Lt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),J(Lt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),I=(E,v,_)=>{E.listen(v,x=>{try{_(x)}catch(A){setTimeout(()=>{throw A},0)}})};return I(h,Va.EventType.OPEN,()=>{m||(J(Lt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),I(h,Va.EventType.CLOSE,()=>{m||(m=!0,J(Lt,`RPC '${e}' stream ${i} transport closed`),y.So())}),I(h,Va.EventType.ERROR,E=>{m||(m=!0,Ro(Lt,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),I(h,Va.EventType.MESSAGE,E=>{var v;if(!m){const _=E.data[0];De(!!_);const x=_,A=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(A){J(Lt,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let D=function(R){const C=ot[R];if(C!==void 0)return ET(C)}(N),S=A.message;D===void 0&&(D=j.INTERNAL,S="Unknown error status: "+N+" with message "+A.message),m=!0,y.So(new Z(D,S)),h.close()}else J(Lt,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),I(a,Kx.STAT_EVENT,E=>{E.stat===ig.PROXY?J(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ig.NOPROXY&&J(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){return new VL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R6 extends DT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=UL(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?dr(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=lg(l)?{documents:zL(s,l)}:{query:HL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ST(s,o.resumeToken);const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=$d(s,o.snapshotVersion.toTimestamp());const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=GL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.a_(n)}}class P6 extends DT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$L(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=pg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,hg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(j.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,hg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ur(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ns(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=he(l);u.L_.add(4),await Pu(u),u.q_.set("Unknown"),u.L_.delete(4),await Xh(u)}(this))})}),this.q_=new k6(r,i)}}async function Xh(t){if(Ns(t))for(const e of t.B_)await e(!0)}async function Pu(t){for(const e of t.B_)await e(!1)}function MT(t,e){const n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yy(n)?vy(n):Xo(n).r_()&&gy(n,e))}function my(t,e){const n=he(t),r=Xo(n);n.N_.delete(e),r.r_()&&LT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ns(n)&&n.q_.set("Unknown"))}function gy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).A_(e)}function LT(t,e){t.Q_.xe(e),Xo(t).R_(e)}function vy(t){t.Q_=new OL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.q_.v_()}function yy(t){return Ns(t)&&!Xo(t).n_()&&t.N_.size>0}function Ns(t){return he(t).L_.size===0}function VT(t){t.Q_=void 0}async function O6(t){t.q_.set("Online")}async function D6(t){t.N_.forEach((e,n)=>{gy(t,e)})}async function M6(t,e){VT(t),yy(t)?(t.q_.M_(e),vy(t)):t.q_.set("Unknown")}async function L6(t,e,n){if(t.q_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(t,r)}else if(e instanceof Qc?t.Q_.Ke(e):e instanceof bT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await NT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(At.EMPTY_BYTE_STRING,d.snapshotVersion)),LT(s,l);const h=new hi(d.target,l,u,d.sequenceNumber);gy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await zd(t,r)}}async function zd(t,e,n){if(!xu(e))throw e;t.L_.add(1),await Pu(t),t.q_.set("Offline"),n||(n=()=>NT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xh(t)})}function FT(t,e){return e().catch(n=>zd(t,n,e))}async function Jh(t){const e=he(t),n=Di(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V6(e);)try{const i=await w6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,F6(e,i)}catch(i){await zd(e,i)}jT(e)&&UT(e)}function V6(t){return Ns(t)&&t.O_.length<10}function F6(t,e){t.O_.push(e);const n=Di(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jT(t){return Ns(t)&&!Di(t).n_()&&t.O_.length>0}function UT(t){Di(t).start()}async function j6(t){Di(t).p_()}async function U6(t){const e=Di(t);for(const n of t.O_)e.m_(n.mutations)}async function B6(t,e,n){const r=t.O_.shift(),i=uy.from(r,e,n);await FT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function $6(t,e){e&&Di(t).V_&&await async function(r,i){if(function(o){return AL(o)&&o!==j.ABORTED}(i.code)){const s=r.O_.shift();Di(r).s_(),await FT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jh(r)}}(t,e),jT(t)&&UT(t)}async function Fw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.L_.add(3),await Pu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xh(n)}async function z6(t,e){const n=he(t);e?(n.L_.delete(2),await Xh(n)):e||(n.L_.add(2),await Pu(n),n.q_.set("Unknown"))}function Xo(t){return t.K_||(t.K_=function(n,r,i){const s=he(n);return s.w_(),new R6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:O6.bind(null,t),Ro:D6.bind(null,t),mo:M6.bind(null,t),d_:L6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yy(t)?vy(t):t.q_.set("Unknown")):(await t.K_.stop(),VT(t))})),t.K_}function Di(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new P6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j6.bind(null,t),mo:$6.bind(null,t),f_:U6.bind(null,t),g_:B6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jh(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _y(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),xu(t))return new Z(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.W_=new Ye(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oo(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class W6{constructor(){this.queries=Uw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=Uw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z(j.ABORTED,"Firestore shutting down"))}}function Uw(){return new Zo(t=>uT(t),Gh)}async function BT(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new H6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wy(o,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Ey(n)}async function $T(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G6(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Ey(n)}function q6(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Ey(t){t.Y_.forEach(e=>{e.next()})}var gg,Bw;(Bw=gg||(gg={})).ea="default",Bw.Cache="cache";class zT{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class K6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=cT(e),this.Ra=new go(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new jw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=qh(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),E=!0):this.ga(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,y){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return I(m)-I(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Oo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HT(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Q6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y6{constructor(e){this.key=e,this.va=!1}}class Z6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Zo(a=>uT(a),Gh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(re.comparator),this.Na=new Map,this.La=new hy,this.Ba={},this.ka=new Map,this.qa=No.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X6(t,e,n=!0){const r=ZT(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await GT(r,e,n,!0),i}async function J6(t,e){const n=ZT(t);await GT(n,e,!0,!1)}async function GT(t,e,n,r){const i=await E6(t.localStore,cr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await eV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&MT(t.remoteStore,i),a}async function eV(t,e,n,r,i){t.Ka=(h,f,m)=>async function(I,E,v,_){let x=E.view.ma(v);x.ns&&(x=await Mw(I.localStore,E.query,!1).then(({documents:S})=>E.view.ma(S,x)));const A=_&&_.targetChanges.get(E.targetId),N=_&&_.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(x,I.isPrimaryClient,A,N);return zw(I,E.targetId,D.wa),D.snapshot}(t,h,f,m);const s=await Mw(t.localStore,e,!0),o=new K6(e,s.Ts),a=o.ma(s.documents),l=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);zw(t,n,u.wa);const d=new Q6(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function tV(t,e,n){const r=he(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Gh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&my(r.remoteStore,i.targetId),vg(r,i.targetId)}).catch(Su)):(vg(r,i.targetId),await mg(r.localStore,i.targetId,!0))}async function nV(t,e){const n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),my(n.remoteStore,r.targetId))}async function rV(t,e,n){const r=cV(t);try{const i=await function(o,a){const l=he(o),u=Fe.now(),d=a.reduce((m,y)=>m.add(y.key),_e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Br(),I=_e();return l.cs.getEntries(m,d).next(E=>{y=E,y.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{h=E;const v=[];for(const _ of a){const x=xL(_,h.get(_.key).overlayedDocument);x!=null&&v.push(new Gi(_.key,x,tT(x.value.mapValue),Gn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(m,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:hT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ye(Te)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Au(r,i.changes),await Jh(r.remoteStore)}catch(i){const s=wy(i,"Failed to persist write");n.reject(s)}}async function qT(t,e){const n=he(t);try{const r=await y6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),await Au(n,r,e)}catch(r){await Su(r)}}function $w(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Ey(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iV(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ye(re.comparator);o=o.insert(s,Ut.newNoDocument(s,de.min()));const a=_e().add(s),l=new Yh(de.min(),new Map,new Ye(Te),o,a);await qT(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),by(r)}else await mg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Su)}async function sV(t,e){const n=he(t),r=e.batch.batchId;try{const i=await v6(n.localStore,e);QT(n,r,null),KT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,i)}catch(i){await Su(i)}}async function oV(t,e,n){const r=he(t);try{const i=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(De(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);QT(r,e,n),KT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,i)}catch(i){await Su(i)}}function KT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QT(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YT(t,r)})}function YT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(my(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),by(t))}function zw(t,e,n){for(const r of n)r instanceof HT?(t.La.addReference(r.key,e),aV(t,r)):r instanceof WT?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YT(t,r.key)):ce()}function aV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),by(t))}function by(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new Y6(n)),t.Oa=t.Oa.insert(n,r),MT(t.remoteStore,new hi(cr(oy(n.path)),r,"TargetPurposeLimboResolution",ey.oe))}}async function Au(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=py.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>U.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!xu(h))throw h;J("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),y=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,I)}}}(r.localStore,s))}async function lV(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await kT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.hs)}}function uV(t,e){const n=he(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function ZT(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iV.bind(null,e),e.Ca.d_=G6.bind(null,e.eventManager),e.Ca.$a=q6.bind(null,e.eventManager),e}function cV(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oV.bind(null,e),e}class Hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return g6(this.persistence,new p6,e.initialUser,this.serializer)}Ga(e){return new d6(fy.Zr,this.serializer)}Wa(e){return new I6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hd.provider={build:()=>new Hd};class yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$w(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lV.bind(null,this.syncEngine),await z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W6}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=function(s){return new C6(s)}(e.databaseInfo);return function(s,o,a,l){return new A6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new N6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$w(this.syncEngine,n,0),function(){return Vw.D()?new Vw:new S6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new Z6(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=Xx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Op(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hV(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fw(e.remoteStore,i)),t._onlineComponents=e}async function hV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Op(t,new Hd)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Op(t,new Hd);return t._offlineComponents}async function JT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Hw(t,new yg))),t._onlineComponents}function fV(t){return JT(t).then(e=>e.syncEngine)}async function _g(t){const e=await JT(t),n=e.eventManager;return n.onListen=X6.bind(null,e.syncEngine),n.onUnlisten=tV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nV.bind(null,e.syncEngine),n}function pV(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new XT({next:f=>{d.Za(),o.enqueueAndForget(()=>$T(s,h)),f.fromCache&&l.source==="server"?u.reject(new Z(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new zT(a,d,{includeMetadataChanges:!0,_a:!0});return BT(s,h)}(await _g(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e,n){if(!n)throw new Z(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mV(t,e,n,r){if(e===!0&&r===!0)throw new Z(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gw(t){if(!re.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qw(t){if(re.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DM;switch(r.type){case"firstParty":return new FM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ww.get(n);r&&(J("ComponentProvider","Removing Datastore"),Ww.delete(n),r.terminate())}(this),Promise.resolve()}}function gV(t,e,n,r={}){var i;const s=(t=hr(t,tf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=sx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new MM(new Zx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class xi extends Os{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new re(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function Ti(t,e,...n){if(t=mt(t),t2("collection","path",e),t instanceof tf){const r=ze.fromString(e,...n);return qw(r),new xi(t,null,r)}{if(!(t instanceof un||t instanceof xi))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return qw(r),new xi(t.firestore,null,r)}}function us(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Xx.newId()),t2("doc","path",e),t instanceof tf){const r=ze.fromString(e,...n);return Gw(r),new un(t,null,new re(r))}{if(!(t instanceof un||t instanceof xi))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return Gw(r),new un(t.firestore,t instanceof xi?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OT(this,"async_queue_retry"),this.Vu=()=>{const r=Np();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_y.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Yw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Is extends tf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qw(e),this._firestoreClient=void 0,await e}}}function n2(t,e){const n=typeof t=="object"?t:zv(),r=typeof t=="string"?t:"(default)",i=Bh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nx("firestore");s&&gV(i,...s)}return i}function Iy(t){if(t._terminated)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vV(t),t._firestoreClient}function vV(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new ZM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,e2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dV(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(At.fromBase64String(e))}catch(n){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^__.*__$/;class _V{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class r2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Cy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(i2(this.Cu)&&yV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}Qu(e,n,r,i=!1){return new Cy({Cu:e,methodName:n,qu:r,path:xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ry(t){const e=t._freezeSettings(),n=Zh(t._databaseId);return new wV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EV(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",o,r);const a=s2(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=wg(e,h,n);if(!o.contains(f))throw new Z(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);a2(d,f)||d.push(f)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new _V(new nn(a),l,u)}class rf extends Sy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function bV(t,e,n,r){const i=t.Qu(1,e,n);Py("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();ks(r,(l,u)=>{const d=Ay(e,l,n);u=mt(u);const h=i.Nu(d);if(u instanceof rf)s.push(d);else{const f=ku(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new mn(s);return new r2(o,a,i.fieldTransforms)}function IV(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[wg(e,r,n)],l=[i];if(s.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(wg(e,s[f])),l.push(s[f+1]);const u=[],d=nn.empty();for(let f=a.length-1;f>=0;--f)if(!a2(u,a[f])){const m=a[f];let y=l[f];y=mt(y);const I=o.Nu(m);if(y instanceof rf)u.push(m);else{const E=ku(y,I);E!=null&&(u.push(m),d.set(m,E))}}const h=new mn(u);return new r2(d,h,o.fieldTransforms)}function SV(t,e,n,r=!1){return ku(n,t.Qu(r?4:3,e))}function ku(t,e){if(o2(t=mt(t)))return Py("Unsupported field value:",e,t),s2(t,e);if(t instanceof Sy)return function(r,i){if(!i2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ku(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _L(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fe.fromDate(r);return{timestampValue:$d(i.serializer,s)}}if(r instanceof Fe){const s=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$d(i.serializer,s)}}if(r instanceof xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Do)return{bytesValue:ST(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ty)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return ay(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ef(r)}`)}(t,e)}function s2(t,e){const n={};return Jx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,i)=>{const s=ku(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function o2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof xy||t instanceof Do||t instanceof un||t instanceof Sy||t instanceof Ty)}function Py(t,e,n){if(!o2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ef(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wg(t,e,n){if((e=mt(e))instanceof nf)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw Wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const xV=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(xV)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(j.INVALID_ARGUMENT,a+t+l)}function a2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TV extends l2{data(){return super.data()}}function ky(t,e){return typeof e=="string"?Ay(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class CV extends Ny{}function Mo(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Oy).length,a=s.filter(l=>l instanceof sf).length;if(o>1||o>0&&a>0)throw new Z(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sf extends CV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return c2(e._query,n),new Os(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=Ry(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Xw(h,d);const m=[];for(const y of h)m.push(Zw(l,s,y));f={arrayValue:{values:m}}}else f=Zw(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Xw(h,d),f=SV(a,o,h,d==="in"||d==="not-in");return ct.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lo(t,e,n){const r=e,i=ky("where",t);return sf._create(i,r,n)}class Oy extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Oy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)c2(o,l),o=ug(o,l)}(e._query,n),new Os(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zw(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new Z(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lT(e)&&n.indexOf("/")!==-1)throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!re.isDocumentKey(r))throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yw(t,new re(r))}if(n instanceof un)return yw(t,n._key);throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function Xw(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RV{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>rt(o.doubleValue));return new Ty(s)}convertGeoPoint(e){return new xy(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ny(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);De(AT(r));const i=new Dl(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||Ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d2 extends l2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends d2{data(e={}){return super.data(e)}}class h2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:AV(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class Dy extends RV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Jw(t){t=hr(t,Os);const e=hr(t.firestore,Is),n=Iy(e),r=new Dy(e);return u2(t._query),pV(n,t._query).then(i=>new h2(e,r,t,i))}function Gd(t,e,n,...r){t=hr(t,un);const i=hr(t.firestore,Is),s=Ry(i);let o;return o=typeof(e=mt(e))=="string"||e instanceof nf?IV(s,"updateDoc",t._key,e,n,r):bV(s,"updateDoc",t._key,e),My(i,[o.toMutation(t._key,Gn.exists(!0))])}function f2(t){return My(hr(t.firestore,Is),[new ly(t._key,Gn.none())])}function p2(t,e){const n=hr(t.firestore,Is),r=us(t),i=PV(t.converter,e);return My(n,[EV(Ry(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function sl(t,...e){var n,r,i;t=mt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Yw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Yw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof un)u=hr(t.firestore,Is),d=oy(t._key.path),l={next:h=>{e[o]&&e[o](kV(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=hr(t,Os);u=hr(h.firestore,Is),d=h._query;const f=new Dy(u);l={next:m=>{e[o]&&e[o](new h2(u,f,h,m))},error:e[o+1],complete:e[o+2]},u2(t._query)}return function(f,m,y,I){const E=new XT(I),v=new zT(m,E,y);return f.asyncQueue.enqueueAndForget(async()=>BT(await _g(f),v)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>$T(await _g(f),v))}}(Iy(u),d,a,l)}function My(t,e){return function(r,i){const s=new Si;return r.asyncQueue.enqueueAndForget(async()=>rV(await fV(r),i,s)),s.promise}(Iy(t),e)}function kV(t,e,n){const r=n.docs.get(e._key),i=new Dy(t);return new d2(t,i,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Yo=i})(As),vs(new ki("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Is(new LM(r.getProvider("auth-internal")),new UM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ar(fw,"4.7.3",e),ar(fw,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebasestorage.googleapis.com",NV="storageBucket",OV=2*60*1e3,DV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Bt{constructor(e,n,r=0){super(Dp(e),`Firebase Storage: ${n} (${Dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gr||(gr={}));function Dp(t){return"storage/"+t}function MV(){const t="An unknown error occurred, please check the error payload for server response.";return new _r(gr.UNKNOWN,t)}function LV(){return new _r(gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VV(){return new _r(gr.CANCELED,"User canceled the upload/download.")}function FV(t){return new _r(gr.INVALID_URL,"Invalid URL '"+t+"'.")}function jV(t){return new _r(gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eE(t){return new _r(gr.INVALID_ARGUMENT,t)}function g2(){return new _r(gr.APP_DELETED,"The Firebase app was deleted.")}function UV(t){return new _r(gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw jV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},I=n===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${I}/${i}/${E}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<x.length;A++){const N=x[A],D=N.regex.exec(e);if(D){const S=D[N.indices.bucket];let w=D[N.indices.path];w||(w=""),r=new Bn(S,w),N.postModify(r);break}}if(r==null)throw FV(e);return r}}class BV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(m,l())},E)}function f(){s&&clearTimeout(s)}function m(E,...v){if(u){f();return}if(E){f(),d.call(null,E,...v);return}if(l()||o){f(),d.call(null,E,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let y=!1;function I(E){y||(y=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function zV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){return t!==void 0}function tE(t,e,n,r){if(r<e)throw eE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eE(`Invalid value for '${t}'. Expected ${n} or less.`)}function WV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qd||(qd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qd.NO_ERROR,l=s.getStatus();if(!a||GV(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===qd.ABORT;r(!1,new Ec(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ec(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=MV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?g2():VV();o(l)}else{const l=LV();o(l)}};this.canceled_?n(!1,new Ec(!1,null,!0)):this.backoffId_=$V(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XV(t,e,n,r,i,s,o=!0){const a=WV(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return YV(u,e),KV(u,n),QV(u,s),ZV(u,r),new qV(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function e3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kd(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e3(this._location.path)}get storage(){return this._service}get parent(){const e=JV(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Kd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UV(e)}}function nE(t,e){const n=e==null?void 0:e[NV];return n==null?null:Bn.makeFromBucketSpec(n,t)}function t3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sx(i,t.app.options.projectId))}class n3{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OV,this._maxUploadRetryTime=DV,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=nE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=nE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new BV(g2());{const o=XV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rE="@firebase/storage",iE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="storage";function r3(t=zv(),e){t=mt(t);const r=Bh(t,v2).getImmediate({identifier:e}),i=nx("storage");return i&&i3(r,...i),r}function i3(t,e,n,r={}){t3(t,e,n,r)}function s3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new n3(n,r,i,e,As)}function o3(){vs(new ki(v2,s3,"PUBLIC").setMultipleInstances(!0)),ar(rE,iE,""),ar(rE,iE,"esm2017")}o3();const a3={apiKey:"AIzaSyDIdfV4qdAUg1pBWl7PGgwnMeE5n7zpUZQ",authDomain:"kanban-29a8e.firebaseapp.com",projectId:"kanban-29a8e",storageBucket:"kanban-29a8e.appspot.com",messagingSenderId:"828301283650",appId:"1:828301283650:web:385e59aa3d54431beab8db"},of=lx(a3),vo=NM(of);n2(of);r3(of);const rn=n2(of);var be;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(be||(be={}));var Eg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Eg||(Eg={}));const Q=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),li=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},z=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),l3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $t extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof $t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$t.create=t=>new $t(t);const Vo=(t,e)=>{let n;switch(t.code){case z.invalid_type:t.received===Q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,be.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:n=`Unrecognized key(s) in object: ${be.joinValues(t.keys,", ")}`;break;case z.invalid_union:n="Invalid input";break;case z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${be.joinValues(t.options)}`;break;case z.invalid_enum_value:n=`Invalid enum value. Expected ${be.joinValues(t.options)}, received '${t.received}'`;break;case z.invalid_arguments:n="Invalid function arguments";break;case z.invalid_return_type:n="Invalid function return type";break;case z.invalid_date:n="Invalid date";break;case z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case z.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case z.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case z.custom:n="Invalid input";break;case z.invalid_intersection_types:n="Intersection results could not be merged";break;case z.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case z.not_finite:n="Number must be finite";break;default:n=e.defaultError,be.assertNever(t)}return{message:n}};let y2=Vo;function u3(t){y2=t}function Qd(){return y2}const Yd=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},c3=[];function q(t,e){const n=Qd(),r=Yd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Vo?void 0:Vo].filter(i=>!!i)});t.common.issues.push(r)}class Wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ue;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Wt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ue;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ue=Object.freeze({status:"aborted"}),so=t=>({status:"dirty",value:t}),Xt=t=>({status:"valid",value:t}),bg=t=>t.status==="aborted",Ig=t=>t.status==="dirty",Fl=t=>t.status==="valid",jl=t=>typeof Promise<"u"&&t instanceof Promise;function Zd(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _2(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ee||(ee={}));var Ba,$a;class vr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sE=(t,e)=>{if(Fl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $t(t.common.issues);return this._error=n,this._error}}};function pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return li(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wt,ctx:{common:e.parent.common,data:e.data,parsedType:li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(jl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:li(e)},s=this._parseSync({data:e,path:i.path,parent:i});return sE(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:li(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(jl(i)?i:Promise.resolve(i));return sE(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:z.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Zn({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return fr.create(this,this._def)}nullable(){return Fi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qn.create(this,this._def)}promise(){return jo.create(this,this._def)}or(e){return zl.create([this,e],this._def)}and(e){return Hl.create(this,e,this._def)}transform(e){return new Zn({...pe(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ql({...pe(this._def),innerType:this,defaultValue:n,typeName:ae.ZodDefault})}brand(){return new Ly({typeName:ae.ZodBranded,type:this,...pe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Yl({...pe(this._def),innerType:this,catchValue:n,typeName:ae.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nu.create(this,e)}readonly(){return Zl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const d3=/^c[^\s-]{8,}$/i,h3=/^[0-9a-z]+$/,f3=/^[0-9A-HJKMNP-TV-Z]{26}$/,p3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m3=/^[a-z0-9_-]{21}$/i,g3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,y3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mp;const _3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,w2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",b3=new RegExp(`^${w2}$`);function E2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function I3(t){return new RegExp(`^${E2(t)}$`)}function b2(t){let e=`${w2}T${E2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function S3(t,e){return!!((e==="v4"||!e)&&_3.test(t)||(e==="v6"||!e)&&w3.test(t))}class $n extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const s=this._getOrReturnCtx(e);return q(s,{code:z.invalid_type,expected:Q.string,received:s.parsedType}),ue}const r=new Wt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?q(i,{code:z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(i,{code:z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")v3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Mp||(Mp=new RegExp(y3,"u")),Mp.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")p3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")m3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")d3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")h3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")f3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:z.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:z.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:z.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?b2(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?b3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?I3(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:z.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?g3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:z.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?S3(e.data,s.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:z.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?E3.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:z.invalid_string,message:s.message}),r.dirty()):be.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:z.invalid_string,...ee.errToObj(r)})}_addCheck(e){return new $n({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ee.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ee.errToObj(n)})}nonempty(e){return this.min(1,ee.errToObj(e))}trim(){return new $n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$n.create=t=>{var e;return new $n({checks:[],typeName:ae.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};function x3(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Mi extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const s=this._getOrReturnCtx(e);return q(s,{code:z.invalid_type,expected:Q.number,received:s.parsedType}),ue}let r;const i=new Wt;for(const s of this._def.checks)s.kind==="int"?be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:z.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?x3(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:z.not_finite,message:s.message}),i.dirty()):be.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,i){return new Mi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(i)}]})}_addCheck(e){return new Mi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Mi.create=t=>new Mi({checks:[],typeName:ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class Li extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Q.bigint){const s=this._getOrReturnCtx(e);return q(s,{code:z.invalid_type,expected:Q.bigint,received:s.parsedType}),ue}let r;const i=new Wt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:z.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):be.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,i){return new Li({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(i)}]})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Li.create=t=>{var e;return new Li({checks:[],typeName:ae.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pe(t)})};class Ul extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.boolean,received:r.parsedType}),ue}return Xt(e.data)}}Ul.create=t=>new Ul({typeName:ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class Ss extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const s=this._getOrReturnCtx(e);return q(s,{code:z.invalid_type,expected:Q.date,received:s.parsedType}),ue}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return q(s,{code:z.invalid_date}),ue}const r=new Wt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:z.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:z.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):be.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ss.create=t=>new Ss({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ae.ZodDate,...pe(t)});class Xd extends ge{_parse(e){if(this._getType(e)!==Q.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.symbol,received:r.parsedType}),ue}return Xt(e.data)}}Xd.create=t=>new Xd({typeName:ae.ZodSymbol,...pe(t)});class Bl extends ge{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.undefined,received:r.parsedType}),ue}return Xt(e.data)}}Bl.create=t=>new Bl({typeName:ae.ZodUndefined,...pe(t)});class $l extends ge{_parse(e){if(this._getType(e)!==Q.null){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.null,received:r.parsedType}),ue}return Xt(e.data)}}$l.create=t=>new $l({typeName:ae.ZodNull,...pe(t)});class Fo extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Xt(e.data)}}Fo.create=t=>new Fo({typeName:ae.ZodAny,...pe(t)});class cs extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xt(e.data)}}cs.create=t=>new cs({typeName:ae.ZodUnknown,...pe(t)});class $r extends ge{_parse(e){const n=this._getOrReturnCtx(e);return q(n,{code:z.invalid_type,expected:Q.never,received:n.parsedType}),ue}}$r.create=t=>new $r({typeName:ae.ZodNever,...pe(t)});class Jd extends ge{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.void,received:r.parsedType}),ue}return Xt(e.data)}}Jd.create=t=>new Jd({typeName:ae.ZodVoid,...pe(t)});class qn extends ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Q.array)return q(n,{code:z.invalid_type,expected:Q.array,received:n.parsedType}),ue;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(q(n,{code:o?z.too_big:z.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(q(n,{code:z.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(q(n,{code:z.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new vr(n,o,n.path,a)))).then(o=>Wt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new vr(n,o,n.path,a)));return Wt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new qn({...this._def,minLength:{value:e,message:ee.toString(n)}})}max(e,n){return new qn({...this._def,maxLength:{value:e,message:ee.toString(n)}})}length(e,n){return new qn({...this._def,exactLength:{value:e,message:ee.toString(n)}})}nonempty(e){return this.min(1,e)}}qn.create=(t,e)=>new qn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...pe(e)});function Ws(t){if(t instanceof Ge){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=fr.create(Ws(r))}return new Ge({...t._def,shape:()=>e})}else return t instanceof qn?new qn({...t._def,type:Ws(t.element)}):t instanceof fr?fr.create(Ws(t.unwrap())):t instanceof Fi?Fi.create(Ws(t.unwrap())):t instanceof yr?yr.create(t.items.map(e=>Ws(e))):t}class Ge extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=be.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Q.object){const u=this._getOrReturnCtx(e);return q(u,{code:z.invalid_type,expected:Q.object,received:u.parsedType}),ue}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof $r&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new vr(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof $r){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(q(i,{code:z.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new vr(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Wt.mergeObjectSync(r,u)):Wt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ee.errToObj,new Ge({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ee.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ge({...this._def,unknownKeys:"strip"})}passthrough(){return new Ge({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ge({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ge({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ge({...this._def,catchall:e})}pick(e){const n={};return be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ge({...this._def,shape:()=>n})}omit(e){const n={};return be.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ge({...this._def,shape:()=>n})}deepPartial(){return Ws(this)}partial(e){const n={};return be.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ge({...this._def,shape:()=>n})}required(e){const n={};return be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof fr;)s=s._def.innerType;n[r]=s}}),new Ge({...this._def,shape:()=>n})}keyof(){return I2(be.objectKeys(this.shape))}}Ge.create=(t,e)=>new Ge({shape:()=>t,unknownKeys:"strip",catchall:$r.create(),typeName:ae.ZodObject,...pe(e)});Ge.strictCreate=(t,e)=>new Ge({shape:()=>t,unknownKeys:"strict",catchall:$r.create(),typeName:ae.ZodObject,...pe(e)});Ge.lazycreate=(t,e)=>new Ge({shape:t,unknownKeys:"strip",catchall:$r.create(),typeName:ae.ZodObject,...pe(e)});class zl extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new $t(a.ctx.common.issues));return q(n,{code:z.invalid_union,unionErrors:o}),ue}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new $t(l));return q(n,{code:z.invalid_union,unionErrors:a}),ue}}get options(){return this._def.options}}zl.create=(t,e)=>new zl({options:t,typeName:ae.ZodUnion,...pe(e)});const Ir=t=>t instanceof Gl?Ir(t.schema):t instanceof Zn?Ir(t.innerType()):t instanceof ql?[t.value]:t instanceof Vi?t.options:t instanceof Kl?be.objectValues(t.enum):t instanceof Ql?Ir(t._def.innerType):t instanceof Bl?[void 0]:t instanceof $l?[null]:t instanceof fr?[void 0,...Ir(t.unwrap())]:t instanceof Fi?[null,...Ir(t.unwrap())]:t instanceof Ly||t instanceof Zl?Ir(t.unwrap()):t instanceof Yl?Ir(t._def.innerType):[];class af extends ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.object)return q(n,{code:z.invalid_type,expected:Q.object,received:n.parsedType}),ue;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(q(n,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ir(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new af({typeName:ae.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...pe(r)})}}function Sg(t,e){const n=li(t),r=li(e);if(t===e)return{valid:!0,data:t};if(n===Q.object&&r===Q.object){const i=be.objectKeys(e),s=be.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Sg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Q.array&&r===Q.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Sg(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Q.date&&r===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hl extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(bg(s)||bg(o))return ue;const a=Sg(s.value,o.value);return a.valid?((Ig(s)||Ig(o))&&n.dirty(),{status:n.value,value:a.data}):(q(r,{code:z.invalid_intersection_types}),ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hl.create=(t,e,n)=>new Hl({left:t,right:e,typeName:ae.ZodIntersection,...pe(n)});class yr extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.array)return q(r,{code:z.invalid_type,expected:Q.array,received:r.parsedType}),ue;if(r.data.length<this._def.items.length)return q(r,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new vr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Wt.mergeArray(n,o)):Wt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new yr({...this._def,rest:e})}}yr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yr({items:t,typeName:ae.ZodTuple,rest:null,...pe(e)})};class Wl extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.object)return q(r,{code:z.invalid_type,expected:Q.object,received:r.parsedType}),ue;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new vr(r,a,r.path,a)),value:o._parse(new vr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Wt.mergeObjectAsync(n,i):Wt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ge?new Wl({keyType:e,valueType:n,typeName:ae.ZodRecord,...pe(r)}):new Wl({keyType:$n.create(),valueType:e,typeName:ae.ZodRecord,...pe(n)})}}class eh extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.map)return q(r,{code:z.invalid_type,expected:Q.map,received:r.parsedType}),ue;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new vr(r,a,r.path,[u,"key"])),value:s._parse(new vr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ue;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ue;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}eh.create=(t,e,n)=>new eh({valueType:e,keyType:t,typeName:ae.ZodMap,...pe(n)});class xs extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.set)return q(r,{code:z.invalid_type,expected:Q.set,received:r.parsedType}),ue;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(q(r,{code:z.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(q(r,{code:z.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ue;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new vr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new xs({...this._def,minSize:{value:e,message:ee.toString(n)}})}max(e,n){return new xs({...this._def,maxSize:{value:e,message:ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xs.create=(t,e)=>new xs({valueType:t,minSize:null,maxSize:null,typeName:ae.ZodSet,...pe(e)});class yo extends ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.function)return q(n,{code:z.invalid_type,expected:Q.function,received:n.parsedType}),ue;function r(a,l){return Yd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qd(),Vo].filter(u=>!!u),issueData:{code:z.invalid_arguments,argumentsError:l}})}function i(a,l){return Yd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qd(),Vo].filter(u=>!!u),issueData:{code:z.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof jo){const a=this;return Xt(async function(...l){const u=new $t([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const a=this;return Xt(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new $t([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new $t([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new yo({...this._def,args:yr.create(e).rest(cs.create())})}returns(e){return new yo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new yo({args:e||yr.create([]).rest(cs.create()),returns:n||cs.create(),typeName:ae.ZodFunction,...pe(r)})}}class Gl extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gl.create=(t,e)=>new Gl({getter:t,typeName:ae.ZodLazy,...pe(e)});class ql extends ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return q(n,{received:n.data,code:z.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}ql.create=(t,e)=>new ql({value:t,typeName:ae.ZodLiteral,...pe(e)});function I2(t,e){return new Vi({values:t,typeName:ae.ZodEnum,...pe(e)})}class Vi extends ge{constructor(){super(...arguments),Ba.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{expected:be.joinValues(r),received:n.parsedType,code:z.invalid_type}),ue}if(Zd(this,Ba)||_2(this,Ba,new Set(this._def.values)),!Zd(this,Ba).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return q(n,{received:n.data,code:z.invalid_enum_value,options:r}),ue}return Xt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ba=new WeakMap;Vi.create=I2;class Kl extends ge{constructor(){super(...arguments),$a.set(this,void 0)}_parse(e){const n=be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const i=be.objectValues(n);return q(r,{expected:be.joinValues(i),received:r.parsedType,code:z.invalid_type}),ue}if(Zd(this,$a)||_2(this,$a,new Set(be.getValidEnumValues(this._def.values))),!Zd(this,$a).has(e.data)){const i=be.objectValues(n);return q(r,{received:r.data,code:z.invalid_enum_value,options:i}),ue}return Xt(e.data)}get enum(){return this._def.values}}$a=new WeakMap;Kl.create=(t,e)=>new Kl({values:t,typeName:ae.ZodNativeEnum,...pe(e)});class jo extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return q(n,{code:z.invalid_type,expected:Q.promise,received:n.parsedType}),ue;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return Xt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jo.create=(t,e)=>new jo({type:t,typeName:ae.ZodPromise,...pe(e)});class Zn extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ue;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ue:l.status==="dirty"||n.value==="dirty"?so(l.value):l});{if(n.value==="aborted")return ue;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ue:a.status==="dirty"||n.value==="dirty"?so(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ue:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fl(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Fl(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);be.assertNever(i)}}Zn.create=(t,e,n)=>new Zn({schema:t,typeName:ae.ZodEffects,effect:e,...pe(n)});Zn.createWithPreprocess=(t,e,n)=>new Zn({schema:e,effect:{type:"preprocess",transform:t},typeName:ae.ZodEffects,...pe(n)});class fr extends ge{_parse(e){return this._getType(e)===Q.undefined?Xt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fr.create=(t,e)=>new fr({innerType:t,typeName:ae.ZodOptional,...pe(e)});class Fi extends ge{_parse(e){return this._getType(e)===Q.null?Xt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fi.create=(t,e)=>new Fi({innerType:t,typeName:ae.ZodNullable,...pe(e)});class Ql extends ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ql.create=(t,e)=>new Ql({innerType:t,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pe(e)});class Yl extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return jl(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $t(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Yl.create=(t,e)=>new Yl({innerType:t,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pe(e)});class th extends ge{_parse(e){if(this._getType(e)!==Q.nan){const r=this._getOrReturnCtx(e);return q(r,{code:z.invalid_type,expected:Q.nan,received:r.parsedType}),ue}return{status:"valid",value:e.data}}}th.create=t=>new th({typeName:ae.ZodNaN,...pe(t)});const T3=Symbol("zod_brand");class Ly extends ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nu extends ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ue:s.status==="dirty"?(n.dirty(),so(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ue:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Nu({in:e,out:n,typeName:ae.ZodPipeline})}}class Zl extends ge{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Fl(i)&&(i.value=Object.freeze(i.value)),i);return jl(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Zl.create=(t,e)=>new Zl({innerType:t,typeName:ae.ZodReadonly,...pe(e)});function S2(t,e={},n){return t?Fo.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):Fo.create()}const C3={object:Ge.lazycreate};var ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ae||(ae={}));const R3=(t,e={message:`Input not instance of ${t.name}`})=>S2(n=>n instanceof t,e),x2=$n.create,T2=Mi.create,P3=th.create,A3=Li.create,C2=Ul.create,k3=Ss.create,N3=Xd.create,O3=Bl.create,D3=$l.create,M3=Fo.create,L3=cs.create,V3=$r.create,F3=Jd.create,j3=qn.create,U3=Ge.create,B3=Ge.strictCreate,$3=zl.create,z3=af.create,H3=Hl.create,W3=yr.create,G3=Wl.create,q3=eh.create,K3=xs.create,Q3=yo.create,Y3=Gl.create,Z3=ql.create,X3=Vi.create,J3=Kl.create,e5=jo.create,oE=Zn.create,t5=fr.create,n5=Fi.create,r5=Zn.createWithPreprocess,i5=Nu.create,s5=()=>x2().optional(),o5=()=>T2().optional(),a5=()=>C2().optional(),l5={string:t=>$n.create({...t,coerce:!0}),number:t=>Mi.create({...t,coerce:!0}),boolean:t=>Ul.create({...t,coerce:!0}),bigint:t=>Li.create({...t,coerce:!0}),date:t=>Ss.create({...t,coerce:!0})},u5=ue;var ol=Object.freeze({__proto__:null,defaultErrorMap:Vo,setErrorMap:u3,getErrorMap:Qd,makeIssue:Yd,EMPTY_PATH:c3,addIssueToContext:q,ParseStatus:Wt,INVALID:ue,DIRTY:so,OK:Xt,isAborted:bg,isDirty:Ig,isValid:Fl,isAsync:jl,get util(){return be},get objectUtil(){return Eg},ZodParsedType:Q,getParsedType:li,ZodType:ge,datetimeRegex:b2,ZodString:$n,ZodNumber:Mi,ZodBigInt:Li,ZodBoolean:Ul,ZodDate:Ss,ZodSymbol:Xd,ZodUndefined:Bl,ZodNull:$l,ZodAny:Fo,ZodUnknown:cs,ZodNever:$r,ZodVoid:Jd,ZodArray:qn,ZodObject:Ge,ZodUnion:zl,ZodDiscriminatedUnion:af,ZodIntersection:Hl,ZodTuple:yr,ZodRecord:Wl,ZodMap:eh,ZodSet:xs,ZodFunction:yo,ZodLazy:Gl,ZodLiteral:ql,ZodEnum:Vi,ZodNativeEnum:Kl,ZodPromise:jo,ZodEffects:Zn,ZodTransformer:Zn,ZodOptional:fr,ZodNullable:Fi,ZodDefault:Ql,ZodCatch:Yl,ZodNaN:th,BRAND:T3,ZodBranded:Ly,ZodPipeline:Nu,ZodReadonly:Zl,custom:S2,Schema:ge,ZodSchema:ge,late:C3,get ZodFirstPartyTypeKind(){return ae},coerce:l5,any:M3,array:j3,bigint:A3,boolean:C2,date:k3,discriminatedUnion:z3,effect:oE,enum:X3,function:Q3,instanceof:R3,intersection:H3,lazy:Y3,literal:Z3,map:q3,nan:P3,nativeEnum:J3,never:V3,null:D3,nullable:n5,number:T2,object:U3,oboolean:a5,onumber:o5,optional:t5,ostring:s5,pipeline:i5,preprocess:r5,promise:e5,record:G3,set:K3,strictObject:B3,string:x2,symbol:N3,transformer:oE,tuple:W3,undefined:O3,union:$3,unknown:L3,void:F3,NEVER:u5,ZodIssueCode:z,quotelessJson:l3,ZodError:$t});const c5=ol.object({email:ol.string().email({message:"Invalid email address"}),password:ol.string().min(6,{message:"Password must be at least 6 characters"})}),d5=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(""),o=vu(),a=async l=>{l.preventDefault(),s("");try{const u=c5.parse({email:t,password:n});await y4(vo,u.email,u.password),o("/dashboard")}catch(u){if(u instanceof $t){const d=u.errors.map(h=>h.message).join(" ");s(d)}else u instanceof Bt||u instanceof Error?s(u.message):s("An unexpected error occurred.")}};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100",children:b.jsxs("form",{onSubmit:a,className:"bg-white p-6 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full md:max-w-[35vw] rounded-lg",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold  mb-4 text-center ",children:"Sign Up"}),i&&b.jsx("div",{className:"mb-4 text-red-500 text-sm",children:i}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Email"}),b.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border mt-1 rounded-lg",value:t,onChange:l=>e(l.target.value),placeholder:"Email"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Password"}),b.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border rounded-lg mt-1",value:n,onChange:l=>r(l.target.value),placeholder:"Password"})]}),b.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white text-lg py-2 rounded-lg hover:bg-blue-700 hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Sign Up"}),b.jsxs("p",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",b.jsx("a",{href:"/login",className:"text-blue-500 hover:underline",children:"Log In"})]})]})})};var R2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aE=ke.createContext&&ke.createContext(R2),h5=["attr","size","title"];function f5(t,e){if(t==null)return{};var n=p5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function lE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(n),!0).forEach(function(r){m5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m5(t,e,n){return e=g5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g5(t){var e=v5(t,"string");return typeof e=="symbol"?e:e+""}function v5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2(t){return t&&t.map((e,n)=>ke.createElement(e.tag,rh({key:n},e.attr),P2(e.child)))}function je(t){return e=>ke.createElement(y5,nh({attr:rh({},t.attr)},e),P2(t.child))}function y5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=f5(t,h5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ke.createElement("svg",nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:rh(rh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ke.createElement("title",null,s),t.children)};return aE!==void 0?ke.createElement(aE.Consumer,null,n=>e(n)):e(R2)}function uE(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function _5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function A2(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function w5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function E5(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function Xl(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function ih(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function b5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(t)}function k2(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function I5(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function S5(t){return je({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function xg(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function x5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function cE(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Jl(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function dE(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function hE(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function fE(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function N2(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function ds(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function lf(t){return je({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Vy(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function T5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function pE(t){return je({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function mE(t){return je({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function sh(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function O2(t,e){k.useEffect(()=>{const n=r=>{const i=t==null?void 0:t.current;!i||i.contains(r.target)||e(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}const Tg=({onClose:t,children:e})=>{const n=k.useRef(null);return O2(n,()=>{t()}),k.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:b.jsxs("div",{ref:n,className:"bg-white rounded-lg  w-full max-w-lg relative",children:[b.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none","aria-label":"Close Modal",children:b.jsx(lf,{size:20})}),b.jsx("div",{className:"p-6",children:e})]})})},gE=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState(""),f=vu(),m=ol.string().email({message:"Invalid email address"}),y=ol.string().min(6,{message:"Password must be at least 6 characters"}),I=async A=>{A.preventDefault(),s("");try{const N=m.parse(t),D=y.parse(n);await nw(vo,N,D),f("/summary")}catch(N){if(N instanceof $t){const D=N.errors.map(S=>S.message).join(" ");s(D)}else N instanceof Bt||N instanceof Error?s(N.message):s("An unexpected error occurred.")}},E=async()=>{s("");try{await nw(vo,"guest@gmail.com","guestpassword"),f("/summary")}catch(A){A instanceof Bt||A instanceof Error?s(A.message):s("Failed to log in as guest. Please try again.")}},v=()=>{u(""),h(""),a(!0)},_=()=>{a(!1)},x=async A=>{A.preventDefault(),h(""),s("");try{const N=m.parse(l);await v4(vo,N),h("Password reset email sent. Please check your inbox.")}catch(N){if(N instanceof $t){const D=N.errors.map(S=>S.message).join(" ");s(D)}else N instanceof Bt||N instanceof Error?s(N.message):s("An unexpected error occurred.")}};return b.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100 p-4 ",children:[b.jsxs("form",{onSubmit:I,className:"bg-white p-8 rounded-lg shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full max-w-md min-w-[35vw]",children:[b.jsx("h2",{className:"text-3xl md:text-4xl mb-6 text-center font-bold  flex items-center justify-center",children:"Log In"}),i&&b.jsx("div",{className:"mb-4 text-red-500 text-md",children:i}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:A=>e(A.target.value),placeholder:"Email"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Password"}),b.jsxs("div",{className:"relative",children:[b.jsx(x5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:A=>r(A.target.value),placeholder:"Password"})]})]}),b.jsx("div",{className:"mb-6 text-right",children:b.jsx("button",{type:"button",onClick:v,className:"text-blue-600 hover:text-blue-800 hover:underline text-md font-medium",children:"Forgot Password?"})}),b.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",children:"Log In"}),b.jsx("button",{type:"button",onClick:E,className:"w-full outline-[1px] border border-gray-700 py-3 rounded-lg hover:outline-0 hover:text-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Continue as Guest"}),b.jsxs("p",{className:"mt-6 text-center text-md",children:["Don't have an account?"," ",b.jsx(at,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-medium hover:underline",children:"Sign Up"})]})]}),o&&b.jsx(Tg,{onClose:_,children:b.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded-lg",children:[b.jsx("h2",{className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:"Reset Password"}),i&&b.jsx("div",{className:"mb-4 text-red-500 text-md",children:i}),d&&b.jsx("div",{className:"mb-4 text-green-500 text-md",children:d}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:A=>u(A.target.value),placeholder:"Email"})]})]}),b.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Send Reset Email"}),b.jsx("button",{type:"button",onClick:_,className:"w-full border-gray-700 border-[1px] hover:text-blue-700 py-3 rounded-lg hover:border-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Cancel"})]})})]})},Ds=k.createContext({currentUser:null,loading:!0}),C5=({children:t})=>{const[e,n]=k.useState(null),[r,i]=k.useState(!0);return k.useEffect(()=>{const s=vo.onAuthStateChanged(o=>{n(o),i(!1)});return()=>{s()}},[]),b.jsx(Ds.Provider,{value:{currentUser:e,loading:r},children:t})};function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function R5(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2(t){var e=R5(t,"string");return Ts(e)=="symbol"?e:e+""}function za(t,e,n){return(e=D2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(n),!0).forEach(function(r){za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P5(t){if(Array.isArray(t))return t}function A5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Cg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function M2(t,e){if(t){if(typeof t=="string")return Cg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cg(t,e):void 0}}function k5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(t,e){return P5(t)||A5(t,e)||M2(t,e)||k5()}function N5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function wr(t,e){if(t==null)return{};var n,r,i=N5(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var O5=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function L2(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,m=t.value,y=wr(t,O5),I=k.useState(a!==void 0?a:n),E=Or(I,2),v=E[0],_=E[1],x=k.useState(l!==void 0?l:i),A=Or(x,2),N=A[0],D=A[1],S=k.useState(m!==void 0?m:o),w=Or(S,2),R=w[0],C=w[1],O=k.useCallback(function(V,B){typeof u=="function"&&u(V,B),C(V)},[u]),M=k.useCallback(function(V,B){var K;typeof d=="function"&&(K=d(V,B)),_(K!==void 0?K:V)},[d]),P=k.useCallback(function(){typeof f=="function"&&f(),D(!0)},[f]),X=k.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),G=a!==void 0?a:v,fe=l!==void 0?l:N,Ce=m!==void 0?m:R;return ne(ne({},y),{},{inputValue:G,menuIsOpen:fe,onChange:O,onInputChange:M,onMenuClose:X,onMenuOpen:P,value:Ce})}function ie(){return ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ie.apply(null,arguments)}function D5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D2(r.key),r)}}function M5(t,e,n){return e&&yE(t.prototype,e),n&&yE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rg(t,e)}function L5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function V5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(t,e){if(e&&(Ts(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V5(t)}function j5(t){var e=V2();return function(){var n,r=oh(t);if(e){var i=oh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F5(this,n)}}function U5(t){if(Array.isArray(t))return Cg(t)}function B5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _o(t){return U5(t)||B5(t)||M2(t)||$5()}var z5=!1;function H5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function W5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var G5=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!z5:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=H5(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Vt="-ms-",ah="-moz-",Re="-webkit-",F2="comm",Fy="rule",jy="decl",q5="@import",j2="@keyframes",K5="@layer",Q5=Math.abs,uf=String.fromCharCode,Y5=Object.assign;function Z5(t,e){return St(t,0)^45?(((e<<2^St(t,0))<<2^St(t,1))<<2^St(t,2))<<2^St(t,3):0}function U2(t){return t.trim()}function X5(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function Pg(t,e){return t.indexOf(e)}function St(t,e){return t.charCodeAt(e)|0}function eu(t,e,n){return t.slice(e,n)}function tr(t){return t.length}function Uy(t){return t.length}function bc(t,e){return e.push(t),t}function J5(t,e){return t.map(e).join("")}var cf=1,Uo=1,B2=0,cn=0,lt=0,Jo="";function df(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:cf,column:Uo,length:o,return:""}}function Ta(t,e){return Y5(df("",null,null,"",null,null,0),t,{length:-t.length},e)}function eF(){return lt}function tF(){return lt=cn>0?St(Jo,--cn):0,Uo--,lt===10&&(Uo=1,cf--),lt}function yn(){return lt=cn<B2?St(Jo,cn++):0,Uo++,lt===10&&(Uo=1,cf++),lt}function pr(){return St(Jo,cn)}function Zc(){return cn}function Ou(t,e){return eu(Jo,t,e)}function tu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $2(t){return cf=Uo=1,B2=tr(Jo=t),cn=0,[]}function z2(t){return Jo="",t}function Xc(t){return U2(Ou(cn-1,Ag(t===91?t+2:t===40?t+1:t)))}function nF(t){for(;(lt=pr())&&lt<33;)yn();return tu(t)>2||tu(lt)>3?"":" "}function rF(t,e){for(;--e&&yn()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return Ou(t,Zc()+(e<6&&pr()==32&&yn()==32))}function Ag(t){for(;yn();)switch(lt){case t:return cn;case 34:case 39:t!==34&&t!==39&&Ag(lt);break;case 40:t===41&&Ag(t);break;case 92:yn();break}return cn}function iF(t,e){for(;yn()&&t+lt!==57;)if(t+lt===84&&pr()===47)break;return"/*"+Ou(e,cn-1)+"*"+uf(t===47?t:yn())}function sF(t){for(;!tu(pr());)yn();return Ou(t,cn)}function oF(t){return z2(Jc("",null,null,null,[""],t=$2(t),0,[0],t))}function Jc(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,y=0,I=1,E=1,v=1,_=0,x="",A=i,N=s,D=r,S=x;E;)switch(y=_,_=yn()){case 40:if(y!=108&&St(S,h-1)==58){Pg(S+=Pe(Xc(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=Xc(_);break;case 9:case 10:case 13:case 32:S+=nF(y);break;case 92:S+=rF(Zc()-1,7);continue;case 47:switch(pr()){case 42:case 47:bc(aF(iF(yn(),Zc()),e,n),l);break;default:S+="/"}break;case 123*I:a[u++]=tr(S)*v;case 125*I:case 59:case 0:switch(_){case 0:case 125:E=0;case 59+d:v==-1&&(S=Pe(S,/\f/g,"")),m>0&&tr(S)-h&&bc(m>32?wE(S+";",r,n,h-1):wE(Pe(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(bc(D=_E(S,e,n,u,d,i,a,x,A=[],N=[],h),s),_===123)if(d===0)Jc(S,e,D,D,A,s,h,a,N);else switch(f===99&&St(S,3)===110?100:f){case 100:case 108:case 109:case 115:Jc(t,D,D,r&&bc(_E(t,D,D,0,0,i,a,x,i,A=[],h),N),i,N,h,a,r?A:N);break;default:Jc(S,D,D,D,[""],N,0,a,N)}}u=d=m=0,I=v=1,x=S="",h=o;break;case 58:h=1+tr(S),m=y;default:if(I<1){if(_==123)--I;else if(_==125&&I++==0&&tF()==125)continue}switch(S+=uf(_),_*I){case 38:v=d>0?1:(S+="\f",-1);break;case 44:a[u++]=(tr(S)-1)*v,v=1;break;case 64:pr()===45&&(S+=Xc(yn())),f=pr(),d=h=tr(x=S+=sF(Zc())),_++;break;case 45:y===45&&tr(S)==2&&(I=0)}}return s}function _E(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=Uy(f),y=0,I=0,E=0;y<r;++y)for(var v=0,_=eu(t,h+1,h=Q5(I=o[y])),x=t;v<m;++v)(x=U2(I>0?f[v]+" "+_:Pe(_,/&\f/g,f[v])))&&(l[E++]=x);return df(t,e,n,i===0?Fy:a,l,u,d)}function aF(t,e,n){return df(t,e,n,F2,uf(eF()),eu(t,2,-2),0)}function wE(t,e,n,r){return df(t,e,n,jy,eu(t,0,r),eu(t,r+1,-1),r)}function wo(t,e){for(var n="",r=Uy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function lF(t,e,n,r){switch(t.type){case K5:if(t.children.length)break;case q5:case jy:return t.return=t.return||t.value;case F2:return"";case j2:return t.return=t.value+"{"+wo(t.children,r)+"}";case Fy:t.value=t.props.join(",")}return tr(n=wo(t.children,r))?t.return=t.value+"{"+n+"}":""}function uF(t){var e=Uy(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function cF(t){return function(e){e.root||(e=e.return)&&t(e)}}function dF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var hF=function(e,n,r){for(var i=0,s=0;i=s,s=pr(),i===38&&s===12&&(n[r]=1),!tu(s);)yn();return Ou(e,cn)},fF=function(e,n){var r=-1,i=44;do switch(tu(i)){case 0:i===38&&pr()===12&&(n[r]=1),e[r]+=hF(cn-1,n,r);break;case 2:e[r]+=Xc(i);break;case 4:if(i===44){e[++r]=pr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=uf(i)}while(i=yn());return e},pF=function(e,n){return z2(fF($2(e),n))},EE=new WeakMap,mF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!EE.get(r))&&!i){EE.set(e,!0);for(var s=[],o=pF(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},gF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function H2(t,e){switch(Z5(t,e)){case 5103:return Re+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Re+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Re+t+ah+t+Vt+t+t;case 6828:case 4268:return Re+t+Vt+t+t;case 6165:return Re+t+Vt+"flex-"+t+t;case 5187:return Re+t+Pe(t,/(\w+).+(:[^]+)/,Re+"box-$1$2"+Vt+"flex-$1$2")+t;case 5443:return Re+t+Vt+"flex-item-"+Pe(t,/flex-|-self/,"")+t;case 4675:return Re+t+Vt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/,"")+t;case 5548:return Re+t+Vt+Pe(t,"shrink","negative")+t;case 5292:return Re+t+Vt+Pe(t,"basis","preferred-size")+t;case 6060:return Re+"box-"+Pe(t,"-grow","")+Re+t+Vt+Pe(t,"grow","positive")+t;case 4554:return Re+Pe(t,/([^-])(transform)/g,"$1"+Re+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Re+"$1"),/(image-set)/,Re+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Re+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Re+"box-pack:$3"+Vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Re+t+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Re+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(t)-1-e>6)switch(St(t,e+1)){case 109:if(St(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Re+"$2-$3$1"+ah+(St(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Pg(t,"stretch")?H2(Pe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(St(t,e+1)!==115)break;case 6444:switch(St(t,tr(t)-3-(~Pg(t,"!important")&&10))){case 107:return Pe(t,":",":"+Re)+t;case 101:return Pe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Re+(St(t,14)===45?"inline-":"")+"box$3$1"+Re+"$2$3$1"+Vt+"$2box$3")+t}break;case 5936:switch(St(t,e+11)){case 114:return Re+t+Vt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Re+t+Vt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Re+t+Vt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Re+t+Vt+t+t}return t}var vF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case jy:e.return=H2(e.value,e.length);break;case j2:return wo([Ta(e,{value:Pe(e.value,"@","@"+Re)})],i);case Fy:if(e.length)return J5(e.props,function(s){switch(X5(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wo([Ta(e,{props:[Pe(s,/:(read-\w+)/,":"+ah+"$1")]})],i);case"::placeholder":return wo([Ta(e,{props:[Pe(s,/:(plac\w+)/,":"+Re+"input-$1")]}),Ta(e,{props:[Pe(s,/:(plac\w+)/,":"+ah+"$1")]}),Ta(e,{props:[Pe(s,/:(plac\w+)/,Vt+"input-$1")]})],i)}return""})}},yF=[vF],_F=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var E=I.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||yF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(I){for(var E=I.getAttribute("data-emotion").split(" "),v=1;v<E.length;v++)s[E[v]]=!0;a.push(I)});var l,u=[mF,gF];{var d,h=[lF,cF(function(I){d.insert(I)})],f=uF(u.concat(i,h)),m=function(E){return wo(oF(E),f)};l=function(E,v,_,x){d=_,m(E?E+"{"+v.styles+"}":v.styles),x&&(y.inserted[v.name]=!0)}}var y={key:n,sheet:new G5({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},W2={exports:{}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=typeof Symbol=="function"&&Symbol.for,By=wt?Symbol.for("react.element"):60103,$y=wt?Symbol.for("react.portal"):60106,hf=wt?Symbol.for("react.fragment"):60107,ff=wt?Symbol.for("react.strict_mode"):60108,pf=wt?Symbol.for("react.profiler"):60114,mf=wt?Symbol.for("react.provider"):60109,gf=wt?Symbol.for("react.context"):60110,zy=wt?Symbol.for("react.async_mode"):60111,vf=wt?Symbol.for("react.concurrent_mode"):60111,yf=wt?Symbol.for("react.forward_ref"):60112,_f=wt?Symbol.for("react.suspense"):60113,wF=wt?Symbol.for("react.suspense_list"):60120,wf=wt?Symbol.for("react.memo"):60115,Ef=wt?Symbol.for("react.lazy"):60116,EF=wt?Symbol.for("react.block"):60121,bF=wt?Symbol.for("react.fundamental"):60117,IF=wt?Symbol.for("react.responder"):60118,SF=wt?Symbol.for("react.scope"):60119;function Sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case By:switch(t=t.type,t){case zy:case vf:case hf:case pf:case ff:case _f:return t;default:switch(t=t&&t.$$typeof,t){case gf:case yf:case Ef:case wf:case mf:return t;default:return e}}case $y:return e}}}function G2(t){return Sn(t)===vf}Me.AsyncMode=zy;Me.ConcurrentMode=vf;Me.ContextConsumer=gf;Me.ContextProvider=mf;Me.Element=By;Me.ForwardRef=yf;Me.Fragment=hf;Me.Lazy=Ef;Me.Memo=wf;Me.Portal=$y;Me.Profiler=pf;Me.StrictMode=ff;Me.Suspense=_f;Me.isAsyncMode=function(t){return G2(t)||Sn(t)===zy};Me.isConcurrentMode=G2;Me.isContextConsumer=function(t){return Sn(t)===gf};Me.isContextProvider=function(t){return Sn(t)===mf};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===By};Me.isForwardRef=function(t){return Sn(t)===yf};Me.isFragment=function(t){return Sn(t)===hf};Me.isLazy=function(t){return Sn(t)===Ef};Me.isMemo=function(t){return Sn(t)===wf};Me.isPortal=function(t){return Sn(t)===$y};Me.isProfiler=function(t){return Sn(t)===pf};Me.isStrictMode=function(t){return Sn(t)===ff};Me.isSuspense=function(t){return Sn(t)===_f};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hf||t===vf||t===pf||t===ff||t===_f||t===wF||typeof t=="object"&&t!==null&&(t.$$typeof===Ef||t.$$typeof===wf||t.$$typeof===mf||t.$$typeof===gf||t.$$typeof===yf||t.$$typeof===bF||t.$$typeof===IF||t.$$typeof===SF||t.$$typeof===EF)};Me.typeOf=Sn;W2.exports=Me;var xF=W2.exports,q2=xF,TF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},CF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K2={};K2[q2.ForwardRef]=TF;K2[q2.Memo]=CF;var RF=!0;function PF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Q2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||RF===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},AF=function(e,n,r){Q2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function kF(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var NF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},OF=!1,DF=/[A-Z]|^ms/g,MF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Y2=function(e){return e.charCodeAt(1)===45},bE=function(e){return e!=null&&typeof e!="boolean"},Lp=dF(function(t){return Y2(t)?t:t.replace(DF,"-$&").toLowerCase()}),IE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(MF,function(r,i,s){return nr={name:i,styles:s,next:nr},i})}return NF[e]!==1&&!Y2(e)&&typeof n=="number"&&n!==0?n+"px":n},LF="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function nu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return nr={name:i.name,styles:i.styles,next:nr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)nr={name:o.name,styles:o.styles,next:nr},o=o.next;var a=s.styles+";";return a}return VF(t,e,n)}case"function":{if(t!==void 0){var l=nr,u=n(t);return nr=l,nu(t,e,u)}break}}var d=n;return d}function VF(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=nu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;bE(a)&&(r+=Lp(s)+":"+IE(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&OF)throw new Error(LF);if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)bE(o[l])&&(r+=Lp(s)+":"+IE(s,o[l])+";");else{var u=nu(t,e,o);switch(s){case"animation":case"animationName":{r+=Lp(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var SE=/label:\s*([^\s;{]+)\s*(;|$)/g,nr;function Z2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";nr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=nu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=nu(n,e,t[a]),r){var l=s;i+=l[a]}SE.lastIndex=0;for(var u="",d;(d=SE.exec(i))!==null;)u+="-"+d[1];var h=kF(i)+u;return{name:h,styles:i,next:nr}}var FF=function(e){return e()},jF=ul.useInsertionEffect?ul.useInsertionEffect:!1,UF=jF||FF,BF=!1,X2=k.createContext(typeof HTMLElement<"u"?_F({key:"css"}):null);X2.Provider;var $F=function(e){return k.forwardRef(function(n,r){var i=k.useContext(X2);return e(n,i,r)})},zF=k.createContext({}),Hy={}.hasOwnProperty,kg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HF=function(e,n){var r={};for(var i in n)Hy.call(n,i)&&(r[i]=n[i]);return r[kg]=e,r},WF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Q2(n,r,i),UF(function(){return AF(n,r,i)}),null},GF=$F(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[kg],s=[r],o="";typeof t.className=="string"?o=PF(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Z2(s,void 0,k.useContext(zF));o+=e.key+"-"+a.name;var l={};for(var u in t)Hy.call(t,u)&&u!=="css"&&u!==kg&&!BF&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),k.createElement(k.Fragment,null,k.createElement(WF,{cache:e,serialized:a,isStringTag:typeof i=="string"}),k.createElement(i,l))}),qF=GF,se=function(e,n){var r=arguments;if(n==null||!Hy.call(n,"css"))return k.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=qF,s[1]=HF(e,n);for(var o=2;o<i;o++)s[o]=r[o];return k.createElement.apply(null,s)};function Wy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Z2(e)}var KF=function(){var e=Wy.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function QF(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const YF=Math.min,ZF=Math.max,lh=Math.round,Ic=Math.floor,uh=t=>({x:t,y:t});function XF(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bf(){return typeof window<"u"}function J2(t){return tC(t)?(t.nodeName||"").toLowerCase():"#document"}function zr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eC(t){var e;return(e=(tC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tC(t){return bf()?t instanceof Node||t instanceof zr(t).Node:!1}function JF(t){return bf()?t instanceof Element||t instanceof zr(t).Element:!1}function Gy(t){return bf()?t instanceof HTMLElement||t instanceof zr(t).HTMLElement:!1}function xE(t){return!bf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zr(t).ShadowRoot}function nC(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qy(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function e9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function t9(t){return["html","body","#document"].includes(J2(t))}function qy(t){return zr(t).getComputedStyle(t)}function n9(t){if(J2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xE(t)&&t.host||eC(t);return xE(e)?e.host:e}function rC(t){const e=n9(t);return t9(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gy(e)&&nC(e)?e:rC(e)}function ch(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=zr(i);if(s){const a=Ng(o);return e.concat(o,o.visualViewport||[],nC(i)?i:[],a&&n?ch(a):[])}return e.concat(i,ch(i,[],n))}function Ng(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r9(t){const e=qy(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gy(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=lh(n)!==s||lh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ky(t){return JF(t)?t:t.contextElement}function TE(t){const e=Ky(t);if(!Gy(e))return uh(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=r9(e);let o=(s?lh(n.width):n.width)/r,a=(s?lh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const i9=uh(0);function s9(t){const e=zr(t);return!e9()||!e.visualViewport?i9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function o9(t,e,n){return!1}function CE(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=Ky(t);let o=uh(1);e&&(o=TE(t));const a=o9()?s9(s):uh(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=zr(s),m=r;let y=f,I=Ng(y);for(;I&&r&&m!==y;){const E=TE(I),v=I.getBoundingClientRect(),_=qy(I),x=v.left+(I.clientLeft+parseFloat(_.paddingLeft))*E.x,A=v.top+(I.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,h*=E.y,l+=x,u+=A,y=zr(I),I=Ng(y)}}return XF({width:d,height:h,x:l,y:u})}function a9(t,e){let n=null,r;const i=eC(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Ic(d),y=Ic(i.clientWidth-(u+h)),I=Ic(i.clientHeight-(d+f)),E=Ic(u),_={rootMargin:-m+"px "+-y+"px "+-I+"px "+-E+"px",threshold:ZF(0,YF(1,l))||1};let x=!0;function A(N){const D=N[0].intersectionRatio;if(D!==l){if(!x)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return o(!0),s}function l9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ky(t),d=i||s?[...u?ch(u):[],...ch(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=u&&a?a9(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,I=l?CE(t):null;l&&E();function E(){const v=CE(t);I&&(v.x!==I.x||v.y!==I.y||v.width!==I.width||v.height!==I.height)&&n(),I=v,y=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(y)}}var Og=k.useLayoutEffect,u9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],dh=function(){};function c9(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function d9(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(c9(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var hh=function(e){return w9(e)?e.filter(Boolean):Ts(e)==="object"&&e!==null?[e]:[]},iC=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=wr(e,u9);return ne({},n)},tt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function If(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function h9(t){return If(t)?window.innerHeight:t.clientHeight}function sC(t){return If(t)?window.pageYOffset:t.scrollTop}function fh(t,e){if(If(t)){window.scrollTo(0,e);return}t.scrollTop=e}function f9(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function p9(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Sc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dh,i=sC(t),s=e-i,o=10,a=0;function l(){a+=o;var u=p9(a,i,s,n);fh(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function RE(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?fh(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&fh(t,Math.max(e.offsetTop-i,0))}function m9(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function PE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function g9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var oC=!1,v9={get passive(){return oC=!0}},xc=typeof window<"u"?window:{};xc.addEventListener&&xc.removeEventListener&&(xc.addEventListener("p",dh,v9),xc.removeEventListener("p",dh,!1));var y9=oC;function _9(t){return t!=null}function w9(t){return Array.isArray(t)}function Ha(t,e,n){return t?e:n}var E9=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Or(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Or(a,2),u=l[0],d=l[1];return o[u]=d,o},{})},b9=["children","innerProps"],I9=["children","innerProps"];function S9(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=f9(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,f=n.getBoundingClientRect(),m=f.bottom,y=f.height,I=f.top,E=n.offsetParent.getBoundingClientRect(),v=E.top,_=o?window.innerHeight:h9(l),x=sC(l),A=parseInt(getComputedStyle(n).marginBottom,10),N=parseInt(getComputedStyle(n).marginTop,10),D=v-N,S=_-I,w=D+x,R=h-x-I,C=m-_+x+A,O=x+I-N,M=160;switch(i){case"auto":case"bottom":if(S>=y)return{placement:"bottom",maxHeight:e};if(R>=y&&!o)return s&&Sc(l,C,M),{placement:"bottom",maxHeight:e};if(!o&&R>=r||o&&S>=r){s&&Sc(l,C,M);var P=o?S-A:R-A;return{placement:"bottom",maxHeight:P}}if(i==="auto"||o){var X=e,G=o?D:w;return G>=r&&(X=Math.min(G-A-a,e)),{placement:"top",maxHeight:X}}if(i==="bottom")return s&&fh(l,C),{placement:"bottom",maxHeight:e};break;case"top":if(D>=y)return{placement:"top",maxHeight:e};if(w>=y&&!o)return s&&Sc(l,O,M),{placement:"top",maxHeight:e};if(!o&&w>=r||o&&D>=r){var fe=e;return(!o&&w>=r||o&&D>=r)&&(fe=o?D-N:w-N),s&&Sc(l,O,M),{placement:"top",maxHeight:fe}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function x9(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var aC=function(e){return e==="auto"?"bottom":e},T9=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ne((r={label:"menu"},za(r,x9(i),"100%"),za(r,"position","absolute"),za(r,"width","100%"),za(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},lC=k.createContext(null),C9=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=k.useContext(lC)||{},d=u.setPortalPlacement,h=k.useRef(null),f=k.useState(i),m=Or(f,2),y=m[0],I=m[1],E=k.useState(null),v=Or(E,2),_=v[0],x=v[1],A=l.spacing.controlHeight;return Og(function(){var N=h.current;if(N){var D=o==="fixed",S=a&&!D,w=S9({maxHeight:i,menuEl:N,minHeight:r,placement:s,shouldScroll:S,isFixedPosition:D,controlHeight:A});I(w.maxHeight),x(w.placement),d==null||d(w.placement)}},[i,s,o,a,r,d,A]),n({ref:h,placerProps:ne(ne({},e),{},{placement:_||aC(s),maxHeight:y})})},R9=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return se("div",ie({},tt(e,"menu",{menu:!0}),{ref:r},i),n)},P9=R9,A9=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ne({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},k9=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return se("div",ie({},tt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},uC=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ne({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},N9=uC,O9=uC,D9=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=wr(e,b9);return se("div",ie({},tt(ne(ne({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},M9=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=wr(e,I9);return se("div",ie({},tt(ne(ne({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},L9=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},V9=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=k.useRef(null),u=k.useRef(null),d=k.useState(aC(o)),h=Or(d,2),f=h[0],m=h[1],y=k.useMemo(function(){return{setPortalPlacement:m}},[]),I=k.useState(null),E=Or(I,2),v=E[0],_=E[1],x=k.useCallback(function(){if(i){var S=m9(i),w=a==="fixed"?0:window.pageYOffset,R=S[f]+w;(R!==(v==null?void 0:v.offset)||S.left!==(v==null?void 0:v.rect.left)||S.width!==(v==null?void 0:v.rect.width))&&_({offset:R,rect:S})}},[i,a,f,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Og(function(){x()},[x]);var A=k.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=l9(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);Og(function(){A()},[A]);var N=k.useCallback(function(S){l.current=S,A()},[A]);if(!n&&a!=="fixed"||!v)return null;var D=se("div",ie({ref:N},tt(ne(ne({},e),{},{offset:v.offset,position:a,rect:v.rect}),"menuPortal",{"menu-portal":!0}),s),r);return se(lC.Provider,{value:y},n?mu.createPortal(D,n):D)},F9=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},j9=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return se("div",ie({},tt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},U9=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ne({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},B9=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return se("div",ie({},tt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},$9=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},z9=function(e){var n=e.children,r=e.innerProps;return se("div",ie({},tt(e,"indicatorsContainer",{indicators:!0}),r),n)},AE,H9=["size"],W9=["innerProps","isRtl","size"],G9={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},cC=function(e){var n=e.size,r=wr(e,H9);return se("svg",ie({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:G9},r))},Qy=function(e){return se(cC,ie({size:20},e),se("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},dC=function(e){return se(cC,ie({size:20},e),se("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hC=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ne({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},q9=hC,K9=function(e){var n=e.children,r=e.innerProps;return se("div",ie({},tt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||se(dC,null))},Q9=hC,Y9=function(e){var n=e.children,r=e.innerProps;return se("div",ie({},tt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||se(Qy,null))},Z9=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ne({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},X9=function(e){var n=e.innerProps;return se("span",ie({},n,tt(e,"indicatorSeparator",{"indicator-separator":!0})))},J9=KF(AE||(AE=QF([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ej=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ne({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},Vp=function(e){var n=e.delay,r=e.offset;return se("span",{css:Wy({animation:"".concat(J9," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tj=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=wr(e,W9);return se("div",ie({},tt(ne(ne({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),se(Vp,{delay:0,offset:r}),se(Vp,{delay:160,offset:!0}),se(Vp,{delay:320,offset:!r}))},nj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ne({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},rj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return se("div",ie({ref:s},tt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},ij=rj,sj=["data"],oj=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},aj=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return se("div",ie({},tt(e,"group",{group:!0}),l),se(o,ie({},a,{selectProps:h,theme:d,getStyles:i,getClassNames:s,cx:r}),u),se("div",null,n))},lj=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ne({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},uj=function(e){var n=iC(e);n.data;var r=wr(n,sj);return se("div",ie({},tt(e,"groupHeading",{"group-heading":!0}),r))},cj=aj,dj=["innerRef","isDisabled","isHidden","inputClassName"],hj=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ne(ne({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},fj),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},fC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},fj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ne({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fC)},pj=function(e){return ne({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},fC)},mj=function(e){var n=e.cx,r=e.value,i=iC(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=wr(i,dj);return se("div",ie({},tt(e,"input",{"input-container":!0}),{"data-value":r||""}),se("input",ie({className:n({input:!0},l),ref:s,style:pj(a),disabled:o},u)))},gj=mj,vj=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ne({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},yj=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ne({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},_j=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ne({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},pC=function(e){var n=e.children,r=e.innerProps;return se("div",r,n)},wj=pC,Ej=pC;function bj(t){var e=t.children,n=t.innerProps;return se("div",ie({role:"button"},n),e||se(Qy,{size:14}))}var Ij=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return se(u,{data:i,innerProps:ne(ne({},tt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},se(d,{data:i,innerProps:ne({},tt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),se(h,{data:i,innerProps:ne(ne({},tt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Sj=Ij,xj=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ne({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Tj=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return se("div",ie({},tt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Cj=Tj,Rj=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ne({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Pj=function(e){var n=e.children,r=e.innerProps;return se("div",ie({},tt(e,"placeholder",{placeholder:!0}),r),n)},Aj=Pj,kj=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ne({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Nj=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return se("div",ie({},tt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Oj=Nj,Dj={ClearIndicator:Y9,Control:ij,DropdownIndicator:K9,DownChevron:dC,CrossIcon:Qy,Group:cj,GroupHeading:uj,IndicatorsContainer:z9,IndicatorSeparator:X9,Input:gj,LoadingIndicator:tj,Menu:P9,MenuList:k9,MenuPortal:V9,LoadingMessage:M9,NoOptionsMessage:D9,MultiValue:Sj,MultiValueContainer:wj,MultiValueLabel:Ej,MultiValueRemove:bj,Option:Cj,Placeholder:Aj,SelectContainer:j9,SingleValue:Oj,ValueContainer:B9},Mj=function(e){return ne(ne({},Dj),e.components)},kE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Lj(t,e){return!!(t===e||kE(t)&&kE(e))}function Vj(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Lj(t[n],e[n]))return!1;return!0}function pt(t,e){e===void 0&&(e=Vj);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Fj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},jj=function(e){return se("span",ie({css:Fj},e))},NE=jj,Uj={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(I,E){return I&&I.length?"".concat(I.indexOf(E)+1," of ").concat(I.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"&&d){var f=l?" disabled":"",m="".concat(u?" selected":"").concat(f);return"".concat(o).concat(m,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Bj=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,m=l.inputValue,y=l.isMulti,I=l.isOptionDisabled,E=l.isSearchable,v=l.menuIsOpen,_=l.options,x=l.screenReaderStatus,A=l.tabSelectsValue,N=l.isLoading,D=l["aria-label"],S=l["aria-live"],w=k.useMemo(function(){return ne(ne({},Uj),h||{})},[h]),R=k.useMemo(function(){var G="";if(n&&w.onChange){var fe=n.option,Ce=n.options,V=n.removedValue,B=n.removedValues,K=n.value,ye=function(dn){return Array.isArray(dn)?null:dn},oe=V||fe||ye(K),me=oe?f(oe):"",Ze=Ce||B||void 0,Xe=Ze?Ze.map(f):[],Ue=ne({isDisabled:oe&&I(oe,a),label:me,labels:Xe},n);G=w.onChange(Ue)}return G},[n,w,I,a,f]),C=k.useMemo(function(){var G="",fe=r||i,Ce=!!(r&&a&&a.includes(r));if(fe&&w.onFocus){var V={focused:fe,label:f(fe),isDisabled:I(fe,a),isSelected:Ce,options:s,context:fe===r?"menu":"value",selectValue:a,isAppleDevice:d};G=w.onFocus(V)}return G},[r,i,f,I,w,s,a,d]),O=k.useMemo(function(){var G="";if(v&&_.length&&!N&&w.onFilter){var fe=x({count:s.length});G=w.onFilter({inputValue:m,resultsMessage:fe})}return G},[s,m,v,w,_,x,N]),M=(n==null?void 0:n.action)==="initial-input-focus",P=k.useMemo(function(){var G="";if(w.guidance){var fe=i?"value":v?"menu":"input";G=w.guidance({"aria-label":D,context:fe,isDisabled:r&&I(r,a),isMulti:y,isSearchable:E,tabSelectsValue:A,isInitialFocus:M})}return G},[D,r,i,y,I,E,v,w,a,A,M]),X=se(k.Fragment,null,se("span",{id:"aria-selection"},R),se("span",{id:"aria-focused"},C),se("span",{id:"aria-results"},O),se("span",{id:"aria-guidance"},P));return se(k.Fragment,null,se(NE,{id:u},M&&X),se(NE,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&X))},$j=Bj,Dg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],zj=new RegExp("["+Dg.map(function(t){return t.letters}).join("")+"]","g"),mC={};for(var Fp=0;Fp<Dg.length;Fp++)for(var jp=Dg[Fp],Up=0;Up<jp.letters.length;Up++)mC[jp.letters[Up]]=jp.base;var gC=function(e){return e.replace(zj,function(n){return mC[n]})},Hj=pt(gC),OE=function(e){return e.replace(/^\s+|\s+$/g,"")},Wj=function(e){return"".concat(e.label," ").concat(e.value)},Gj=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ne({ignoreCase:!0,ignoreAccents:!0,stringify:Wj,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,d=l?OE(r):r,h=l?OE(a(n)):a(n);return s&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=Hj(d),h=gC(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},qj=["innerRef"];function Kj(t){var e=t.innerRef,n=wr(t,qj),r=E9(n,"onExited","in","enter","exit","appear");return se("input",ie({ref:e},r,{css:Wy({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Qj=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Yj(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=k.useRef(!1),a=k.useRef(!1),l=k.useRef(0),u=k.useRef(null),d=k.useCallback(function(E,v){if(u.current!==null){var _=u.current,x=_.scrollTop,A=_.scrollHeight,N=_.clientHeight,D=u.current,S=v>0,w=A-N-x,R=!1;w>v&&o.current&&(r&&r(E),o.current=!1),S&&a.current&&(s&&s(E),a.current=!1),S&&v>w?(n&&!o.current&&n(E),D.scrollTop=A,R=!0,o.current=!0):!S&&-v>x&&(i&&!a.current&&i(E),D.scrollTop=0,R=!0,a.current=!0),R&&Qj(E)}},[n,r,i,s]),h=k.useCallback(function(E){d(E,E.deltaY)},[d]),f=k.useCallback(function(E){l.current=E.changedTouches[0].clientY},[]),m=k.useCallback(function(E){var v=l.current-E.changedTouches[0].clientY;d(E,v)},[d]),y=k.useCallback(function(E){if(E){var v=y9?{passive:!1}:!1;E.addEventListener("wheel",h,v),E.addEventListener("touchstart",f,v),E.addEventListener("touchmove",m,v)}},[m,f,h]),I=k.useCallback(function(E){E&&(E.removeEventListener("wheel",h,!1),E.removeEventListener("touchstart",f,!1),E.removeEventListener("touchmove",m,!1))},[m,f,h]);return k.useEffect(function(){if(e){var E=u.current;return y(E),function(){I(E)}}},[e,y,I]),function(E){u.current=E}}var DE=["boxSizing","height","overflow","paddingRight","position"],ME={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function LE(t){t.preventDefault()}function VE(t){t.stopPropagation()}function FE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function jE(){return"ontouchstart"in window||navigator.maxTouchPoints}var UE=!!(typeof window<"u"&&window.document&&window.document.createElement),Ca=0,Bs={capture:!1,passive:!1};function Zj(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=k.useRef({}),s=k.useRef(null),o=k.useCallback(function(l){if(UE){var u=document.body,d=u&&u.style;if(r&&DE.forEach(function(y){var I=d&&d[y];i.current[y]=I}),r&&Ca<1){var h=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+h||0;Object.keys(ME).forEach(function(y){var I=ME[y];d&&(d[y]=I)}),d&&(d.paddingRight="".concat(m,"px"))}u&&jE()&&(u.addEventListener("touchmove",LE,Bs),l&&(l.addEventListener("touchstart",FE,Bs),l.addEventListener("touchmove",VE,Bs))),Ca+=1}},[r]),a=k.useCallback(function(l){if(UE){var u=document.body,d=u&&u.style;Ca=Math.max(Ca-1,0),r&&Ca<1&&DE.forEach(function(h){var f=i.current[h];d&&(d[h]=f)}),u&&jE()&&(u.removeEventListener("touchmove",LE,Bs),l&&(l.removeEventListener("touchstart",FE,Bs),l.removeEventListener("touchmove",VE,Bs)))}},[r]);return k.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var Xj=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Jj={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function e8(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=Yj({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),d=Zj({isEnabled:n}),h=function(m){u(m),d(m)};return se(k.Fragment,null,n&&se("div",{onClick:Xj,css:Jj}),e(h))}var t8={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},n8=function(e){var n=e.name,r=e.onFocus;return se("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:t8,value:"",onChange:function(){}})},r8=n8;function Yy(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function i8(){return Yy(/^iPhone/i)}function vC(){return Yy(/^Mac/i)}function s8(){return Yy(/^iPad/i)||vC()&&navigator.maxTouchPoints>1}function o8(){return i8()||s8()}function a8(){return vC()||o8()}var l8=function(e){return e.label},yC=function(e){return e.label},_C=function(e){return e.value},u8=function(e){return!!e.isDisabled},c8={clearIndicator:Q9,container:F9,control:nj,dropdownIndicator:q9,group:oj,groupHeading:lj,indicatorsContainer:$9,indicatorSeparator:Z9,input:hj,loadingIndicator:ej,loadingMessage:O9,menu:T9,menuList:A9,menuPortal:L9,multiValue:vj,multiValueLabel:yj,multiValueRemove:_j,noOptionsMessage:N9,option:xj,placeholder:Rj,singleValue:kj,valueContainer:U9},d8={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},h8=4,wC=4,f8=38,p8=wC*2,m8={baseUnit:wC,controlHeight:f8,menuGutter:p8},Bp={borderRadius:h8,colors:d8,spacing:m8},g8={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:PE(),captureMenuScroll:!PE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Gj(),formatGroupLabel:l8,getOptionLabel:yC,getOptionValue:_C,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:u8,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!g9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function BE(t,e,n,r){var i=IC(t,e,n),s=SC(t,e,n),o=bC(t,e),a=ph(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function ed(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return BE(t,o,e,a)}).filter(function(o){return zE(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=BE(t,n,e,r);return zE(t,s)?s:void 0}).filter(_9)}function EC(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,_o(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function $E(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,_o(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function v8(t,e){return EC(ed(t,e))}function zE(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!TC(t)||!s)&&xC(t,{label:o,value:a,data:i},r)}function y8(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function _8(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var $p=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},bC=function(e,n){return e.getOptionLabel(n)},ph=function(e,n){return e.getOptionValue(n)};function IC(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function SC(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=ph(t,e);return n.some(function(i){return ph(t,i)===r})}function xC(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var TC=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},w8=1,Zy=function(t){L5(n,t);var e=j5(n);function n(r){var i;if(D5(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=a8(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var d=i.props,h=d.onChange,f=d.name;u.name=f,i.ariaOnChange(l,u),h(l,u)},i.setValue=function(l,u,d){var h=i.props,f=h.closeMenuOnSelect,m=h.isMulti,y=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:y}),f&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:d})},i.selectOption=function(l){var u=i.props,d=u.blurInputOnSelect,h=u.isMulti,f=u.name,m=i.state.selectValue,y=h&&i.isOptionSelected(l,m),I=i.isOptionDisabled(l,m);if(y){var E=i.getOptionValue(l);i.setValue(m.filter(function(v){return i.getOptionValue(v)!==E}),"deselect-option",l)}else if(!I)h?i.setValue([].concat(_o(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:f});return}d&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),f=d.filter(function(y){return i.getOptionValue(y)!==h}),m=Ha(u,f,f[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Ha(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),f=Ha(l,h,h[0]||null);d&&i.onChange(f,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return $p(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return $E(ed(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return d9.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return bC(i.props,l)},i.getOptionValue=function(l){return ph(i.props,l)},i.getStyles=function(l,u){var d=i.props.unstyled,h=c8[l](u,d);h.boxSizing="border-box";var f=i.props.styles[l];return f?f(h,u):h},i.getClassNames=function(l,u){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return Mj(i.props)},i.buildCategorizedOptions=function(){return ed(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return EC(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:ne({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,d=u.isMulti,h=u.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&If(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),f=Math.abs(d.clientY-i.initialTouchY),m=5;i.userIsDragging=h>m||f>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),d=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return TC(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,d=u.isMulti,h=u.backspaceRemovesValue,f=u.escapeClearsValue,m=u.inputValue,y=u.isClearable,I=u.isDisabled,E=u.menuIsOpen,v=u.onKeyDown,_=u.tabSelectsValue,x=u.openMenuOnFocus,A=i.state,N=A.focusedOption,D=A.focusedValue,S=A.selectValue;if(!I&&!(typeof v=="function"&&(v(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||m)return;i.focusValue("previous");break;case"ArrowRight":if(!d||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():y&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!E||!_||!N||x&&i.isOptionSelected(N,S))return;i.selectOption(N);break;case"Enter":if(l.keyCode===229)break;if(E){if(!N||i.isComposing)return;i.selectOption(N);break}return;case"Escape":E?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):y&&f&&i.clearValue();break;case" ":if(m)return;if(!E){i.openMenu("first");break}if(!N)return;i.selectOption(N);break;case"ArrowUp":E?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":E?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!E)return;i.focusOption("pageup");break;case"PageDown":if(!E)return;i.focusOption("pagedown");break;case"Home":if(!E)return;i.focusOption("first");break;case"End":if(!E)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++w8),i.state.selectValue=hh(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=$p(s,o[a])}return i}return M5(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&RE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(RE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Bp):ne(ne({},Bp),this.props.theme):Bp}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,f=h.isMulti,m=h.isRtl,y=h.options,I=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:I,isMulti:f,isRtl:m,options:y,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return IC(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return SC(this.props,i,s)}},{key:"filterOption",value:function(i,s){return xC(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,h=i.menuIsOpen,f=i.required,m=this.getComponents(),y=m.Input,I=this.state,E=I.inputIsHidden,v=I.ariaSelection,_=this.commonProps,x=a||this.getElementId("input"),A=ne(ne(ne({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?k.createElement(y,ie({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},A)):k.createElement(Kj,ie({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:dh,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},A))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,h=s.Placeholder,f=this.commonProps,m=this.props,y=m.controlShouldRenderValue,I=m.isDisabled,E=m.isMulti,v=m.inputValue,_=m.placeholder,x=this.state,A=x.selectValue,N=x.focusedValue,D=x.isFocused;if(!this.hasValue()||!y)return v?null:k.createElement(h,ie({},f,{key:"placeholder",isDisabled:I,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),_);if(E)return A.map(function(w,R){var C=w===N,O="".concat(i.getOptionLabel(w),"-").concat(i.getOptionValue(w));return k.createElement(o,ie({},f,{components:{Container:a,Label:l,Remove:u},isFocused:C,isDisabled:I,key:O,index:R,removeProps:{onClick:function(){return i.removeValue(w)},onTouchEnd:function(){return i.removeValue(w)},onMouseDown:function(P){P.preventDefault()}},data:w}),i.formatOptionLabel(w,"value"))});if(v)return null;var S=A[0];return k.createElement(d,ie({},f,{data:S,isDisabled:I}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(s,ie({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return k.createElement(s,ie({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return k.createElement(o,ie({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(s,ie({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,y=this.commonProps,I=this.state.focusedOption,E=this.props,v=E.captureMenuScroll,_=E.inputValue,x=E.isLoading,A=E.loadingMessage,N=E.minMenuHeight,D=E.maxMenuHeight,S=E.menuIsOpen,w=E.menuPlacement,R=E.menuPosition,C=E.menuPortalTarget,O=E.menuShouldBlockScroll,M=E.menuShouldScrollIntoView,P=E.noOptionsMessage,X=E.onMenuScrollToTop,G=E.onMenuScrollToBottom;if(!S)return null;var fe=function(me,Ze){var Xe=me.type,Ue=me.data,nt=me.isDisabled,dn=me.isSelected,Dn=me.label,Xn=me.value,qr=I===Ue,dt=nt?void 0:function(){return i.onOptionHover(Ue)},Mn=nt?void 0:function(){return i.selectOption(Ue)},Ms="".concat(i.getElementId("option"),"-").concat(Ze),ra={id:Ms,onClick:Mn,onMouseMove:dt,onMouseOver:dt,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:dn};return k.createElement(m,ie({},y,{innerProps:ra,data:Ue,isDisabled:nt,isSelected:dn,key:Ms,label:Dn,type:Xe,value:Xn,isFocused:qr,innerRef:qr?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(me.data,"menu"))},Ce;if(this.hasOptions())Ce=this.getCategorizedOptions().map(function(oe){if(oe.type==="group"){var me=oe.data,Ze=oe.options,Xe=oe.index,Ue="".concat(i.getElementId("group"),"-").concat(Xe),nt="".concat(Ue,"-heading");return k.createElement(o,ie({},y,{key:Ue,data:me,options:Ze,Heading:a,headingProps:{id:nt,data:oe.data},label:i.formatGroupLabel(oe.data)}),oe.options.map(function(dn){return fe(dn,"".concat(Xe,"-").concat(dn.index))}))}else if(oe.type==="option")return fe(oe,"".concat(oe.index))});else if(x){var V=A({inputValue:_});if(V===null)return null;Ce=k.createElement(h,y,V)}else{var B=P({inputValue:_});if(B===null)return null;Ce=k.createElement(f,y,B)}var K={minMenuHeight:N,maxMenuHeight:D,menuPlacement:w,menuPosition:R,menuShouldScrollIntoView:M},ye=k.createElement(C9,ie({},y,K),function(oe){var me=oe.ref,Ze=oe.placerProps,Xe=Ze.placement,Ue=Ze.maxHeight;return k.createElement(l,ie({},y,K,{innerRef:me,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:Xe}),k.createElement(e8,{captureEnabled:v,onTopArrive:X,onBottomArrive:G,lockEnabled:O},function(nt){return k.createElement(u,ie({},y,{innerRef:function(Dn){i.getMenuListRef(Dn),nt(Dn)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:Ue,focusedOption:I}),Ce)}))});return C||R==="fixed"?k.createElement(d,ie({},y,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:R}),ye):ye}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!a)return k.createElement(r8,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var f=h.map(function(I){return i.getOptionValue(I)}).join(o);return k.createElement("input",{name:u,type:"hidden",value:f})}else{var m=h.length>0?h.map(function(I,E){return k.createElement("input",{key:"i-".concat(E),name:u,type:"hidden",value:i.getOptionValue(I)})}):k.createElement("input",{name:u,type:"hidden",value:""});return k.createElement("div",null,m)}else{var y=h[0]?this.getOptionValue(h[0]):"";return k.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,h=this.getFocusableOptions();return k.createElement($j,ie({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,h=u.id,f=u.isDisabled,m=u.menuIsOpen,y=this.state.isFocused,I=this.commonProps=this.getCommonProps();return k.createElement(a,ie({},I,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:y}),this.renderLiveRegion(),k.createElement(s,ie({},I,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:y,menuIsOpen:m}),k.createElement(l,ie({},I,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(o,ie({},I,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,m=i.options,y=i.value,I=i.menuIsOpen,E=i.inputValue,v=i.isMulti,_=hh(y),x={};if(o&&(y!==o.value||m!==o.options||I!==o.menuIsOpen||E!==o.inputValue)){var A=I?v8(i,_):[],N=I?$E(ed(i,_),"".concat(f,"-option")):[],D=a?y8(s,_):null,S=_8(s,A),w=$p(N,S);x={selectValue:_,focusedOption:S,focusedOptionId:w,focusableOptionsWithIds:N,focusedValue:D,clearFocusValueOnUpdate:!1}}var R=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},C=u,O=d&&h;return d&&!O&&(C={value:Ha(v,_,_[0]||null),options:_,action:"initial-input-focus"},O=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(C=null),ne(ne(ne({},x),R),{},{prevProps:i,ariaSelection:C,prevWasFocused:O})}}]),n}(k.Component);Zy.defaultProps=g8;var E8=k.forwardRef(function(t,e){var n=L2(t);return k.createElement(Zy,ie({ref:e},n))}),CC=E8,b8=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],HE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},zp={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return HE(e,s,i)})||r.some(function(s){return HE(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function I8(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,o=s===void 0?zp.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?zp.isValidNewOption:a,u=t.getNewOptionData,d=u===void 0?zp.getNewOptionData:u,h=t.onCreateOption,f=t.options,m=f===void 0?[]:f,y=t.onChange,I=wr(t,b8),E=I.getOptionValue,v=E===void 0?_C:E,_=I.getOptionLabel,x=_===void 0?yC:_,A=I.inputValue,N=I.isLoading,D=I.isMulti,S=I.value,w=I.name,R=k.useMemo(function(){return l(A,hh(S),m,{getOptionValue:v,getOptionLabel:x})?d(A,o(A)):void 0},[o,d,x,v,A,l,m,S]),C=k.useMemo(function(){return(n||!N)&&R?i==="first"?[R].concat(_o(m)):[].concat(_o(m),[R]):m},[n,i,N,R,m]),O=k.useCallback(function(M,P){if(P.action!=="select-option")return y(M,P);var X=Array.isArray(M)?M:[M];if(X[X.length-1]===R){if(h)h(A);else{var G=d(A,A),fe={action:"create-option",name:w,option:G};y(Ha(D,[].concat(_o(hh(S)),[G]),G),fe)}return}y(M,P)},[d,A,D,w,R,h,y,S]);return ne(ne({},I),{},{options:C,onChange:O})}var S8=k.forwardRef(function(t,e){var n=L2(t),r=I8(n);return k.createElement(Zy,ie({ref:e},r))}),RC=S8;const x8=({task:t,contacts:e,categories:n,onClose:r,onUpdate:i})=>{const[s,o]=k.useState(t.title),[a,l]=k.useState(t.description),[u,d]=k.useState(t.priority||"Normal"),[h,f]=k.useState([]),[m,y]=k.useState(t.category),[I,E]=k.useState(n),[v,_]=k.useState(t.dueDate instanceof Fe?t.dueDate.toDate().toISOString().substr(0,10):""),[x,A]=k.useState(""),[N,D]=k.useState(t.subtask||[]),[S,w]=k.useState(t.status),[R,C]=k.useState(""),O=k.useRef(null);k.useEffect(()=>{const V=e.filter(B=>t.assignedTo.includes(B.id||""));f(V)},[e,t.assignedTo]),O2(O,r);const M=V=>{const B=V.trim();B&&!I.includes(B)&&E(K=>[...K,B]),y(B)},P=async V=>{if(V.preventDefault(),C(""),s.trim()===""||a.trim()===""||h.length===0||m.trim()===""||v.trim()===""){C("Title, Description, Assigned To, Category, and Due Date are required.");return}const B={...t,title:s,description:a,priority:u,assignedTo:h.map(K=>K.id),category:m,dueDate:Fe.fromDate(new Date(v)),subtask:N,status:S};try{const K=us(rn,"tasks",t.id);await Gd(K,{title:B.title,description:B.description,priority:B.priority,assignedTo:B.assignedTo,category:B.category,dueDate:Fe.fromDate(new Date(v)),subtask:B.subtask,status:B.status}),i(B),r()}catch(K){console.error("Error updating task:",K),C("Failed to update task. Please try again.")}},X=()=>{if(x.trim()!==""){const V={description:x.trim(),status:"not done"};D([...N,V]),A("")}},G=V=>{const B=N.filter((K,ye)=>ye!==V);D(B)},fe=V=>{const B=[...N];B[V].status=B[V].status==="done"?"not done":"done",D(B)},Ce=(V,B)=>{const K=[...N];K[V].description=B,D(K)};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:b.jsxs("div",{ref:O,className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-4xl relative overflow-y-auto max-h-screen",children:[b.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none",children:b.jsx(lf,{size:20})}),b.jsxs("h2",{className:"text-3xl md:text-4xl mb-6 text-center font-bold flex items-center justify-center",children:[b.jsx(Xl,{className:"mr-3 text-blue-700 text-4xl"})," Edit Task"]}),R&&b.jsx("div",{className:"mb-6 text-red-500 text-md",children:R}),b.jsxs("form",{onSubmit:P,children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),b.jsxs("div",{className:"relative",children:[b.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:V=>o(V.target.value),placeholder:"Task Title"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),b.jsxs("div",{className:"relative",children:[b.jsx(xg,{className:"absolute left-3 top-3 text-gray-400"}),b.jsx("textarea",{required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:V=>l(V.target.value),placeholder:"Task Description",rows:4})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),b.jsxs("div",{className:"relative",children:[b.jsx(sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("div",{className:"pl-12",children:b.jsx(CC,{isMulti:!0,options:e.map(V=>({value:V.id,label:`${V.name} (${V.email})`})),className:"react-select-container",classNamePrefix:"react-select",value:h.map(V=>({value:V.id,label:`${V.name} (${V.email})`})),onChange:V=>{f(V.map(B=>e.find(ye=>ye.id===B.value)))},placeholder:"Select Contacts"})})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),b.jsxs("div",{className:"relative",children:[b.jsx(N2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("div",{className:"pl-12",children:b.jsx(RC,{isClearable:!0,options:I.map(V=>({value:V,label:V})),value:m?{value:m,label:m}:null,onChange:V=>{y(V?V.value:"")},onCreateOption:M,placeholder:"Enter or select a category"})})]})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),b.jsxs("div",{className:"relative",children:[b.jsx(A2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v,onChange:V=>_(V.target.value)})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),b.jsxs("div",{className:"flex",children:[b.jsxs("div",{className:"relative w-full",children:[b.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:V=>A(V.target.value),placeholder:"Enter a subtask"})]}),b.jsx("button",{type:"button",onClick:X,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200",children:"Add"})]}),N.length>0&&b.jsx("ul",{className:"mt-4",children:N.map((V,B)=>b.jsxs("li",{className:"flex items-center justify-between bg-gray-200 p-3 rounded-lg mt-2",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",className:"mr-2",checked:V.status==="done",onChange:()=>fe(B)}),b.jsx("input",{type:"text",className:`flex-1 bg-transparent border-none focus:outline-none ${V.status==="done"?"line-through text-gray-500":""}`,value:V.description,onChange:K=>Ce(B,K.target.value)})]}),b.jsx("button",{type:"button",onClick:()=>G(B),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:b.jsx(Vy,{})})]},B))})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),b.jsxs("div",{className:"relative",children:[b.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsxs("select",{className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:V=>d(V.target.value),children:[b.jsx("option",{value:"Low",children:"Low"}),b.jsx("option",{value:"Normal",children:"Normal"}),b.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Status"}),b.jsxs("div",{className:"relative",children:[b.jsx(xg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsxs("select",{className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:S,onChange:V=>w(V.target.value),children:[b.jsx("option",{value:"To do",children:"To do"}),b.jsx("option",{value:"In progress",children:"In progress"}),b.jsx("option",{value:"Awaiting Feedback",children:"Awaiting Feedback"}),b.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),b.jsx("div",{className:"flex justify-center mt-6",children:b.jsxs("button",{type:"submit",className:"w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold ml-2 flex items-center justify-center",children:[b.jsx(Xl,{className:"mr-2"}),"Update Task"]})})]})]})})};function Qt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var T8=typeof Symbol=="function"&&Symbol.observable||"@@observable",WE=T8,Hp=()=>Math.random().toString(36).substring(7).split("").join("."),C8={INIT:`@@redux/INIT${Hp()}`,REPLACE:`@@redux/REPLACE${Hp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hp()}`},GE=C8;function R8(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function PC(t,e,n){if(typeof t!="function")throw new Error(Qt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qt(1));return n(PC)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((E,v)=>{o.set(v,E)}))}function d(){if(l)throw new Error(Qt(3));return i}function h(E){if(typeof E!="function")throw new Error(Qt(4));if(l)throw new Error(Qt(5));let v=!0;u();const _=a++;return o.set(_,E),function(){if(v){if(l)throw new Error(Qt(6));v=!1,u(),o.delete(_),s=null}}}function f(E){if(!R8(E))throw new Error(Qt(7));if(typeof E.type>"u")throw new Error(Qt(8));if(typeof E.type!="string")throw new Error(Qt(17));if(l)throw new Error(Qt(9));try{l=!0,i=r(i,E)}finally{l=!1}return(s=o).forEach(_=>{_()}),E}function m(E){if(typeof E!="function")throw new Error(Qt(10));r=E,f({type:GE.REPLACE})}function y(){const E=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Qt(11));function _(){const A=v;A.next&&A.next(d())}return _(),{unsubscribe:E(_)}},[WE](){return this}}}return f({type:GE.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[WE]:y}}function qE(t,e){return function(...n){return e(t.apply(this,n))}}function KE(t,e){if(typeof t=="function")return qE(t,e);if(typeof t!="object"||t===null)throw new Error(Qt(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=qE(i,e))}return n}function AC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function P8(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Qt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=AC(...a)(i.dispatch),{...i,dispatch:s}}}var A8={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=k;function k8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var N8=typeof Object.is=="function"?Object.is:k8,O8=Du.useSyncExternalStore,D8=Du.useRef,M8=Du.useEffect,L8=Du.useMemo,V8=Du.useDebugValue;A8.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=D8(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=L8(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,N8(d,m))return y;var I=r(m);return i!==void 0&&i(y,I)?y:(d=m,h=I)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=O8(t,s[0],s[1]);return M8(function(){o.hasValue=!0,o.value=a},[a]),V8(a),a};var Ae="default"in ul?ke:ul,QE=Symbol.for("react-redux-context"),YE=typeof globalThis<"u"?globalThis:{};function F8(){if(!Ae.createContext)return{};const t=YE[QE]??(YE[QE]=new Map);let e=t.get(Ae.createContext);return e||(e=Ae.createContext(null),t.set(Ae.createContext,e)),e}var kC=F8(),j8=()=>{throw new Error("uSES not initialized!")},U8=Symbol.for("react.element"),B8=Symbol.for("react.portal"),$8=Symbol.for("react.fragment"),z8=Symbol.for("react.strict_mode"),H8=Symbol.for("react.profiler"),W8=Symbol.for("react.provider"),G8=Symbol.for("react.context"),q8=Symbol.for("react.server_context"),NC=Symbol.for("react.forward_ref"),K8=Symbol.for("react.suspense"),Q8=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),Y8=Symbol.for("react.lazy"),Z8=NC,X8=Xy;function J8(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case U8:{const n=t.type;switch(n){case $8:case H8:case z8:case K8:case Q8:return n;default:{const r=n&&n.$$typeof;switch(r){case q8:case G8:case NC:case Y8:case Xy:case W8:return r;default:return e}}}}case B8:return e}}}function eU(t){return J8(t)===Xy}function tU(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,d,h,f;function m(_,x){return l=_,u=x,d=t(l,u),h=e(r,u),f=n(d,h,u),a=!0,f}function y(){return d=t(l,u),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function I(){return t.dependsOnOwnProps&&(d=t(l,u)),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function E(){const _=t(l,u),x=!o(_,d);return d=_,x&&(f=n(d,h,u)),f}function v(_,x){const A=!s(x,u),N=!i(_,l,x,u);return l=_,u=x,A&&N?y():A?I():N?E():f}return function(x,A){return a?v(x,A):m(x,A)}}function nU(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return tU(s,o,a,t,i)}function rU(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function Mg(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function ZE(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function OC(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=ZE(t);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=ZE(u),u=s(a,l)),u},s}}function Jy(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function iU(t){return t&&typeof t=="object"?Mg(e=>rU(t,e)):t?typeof t=="function"?OC(t):Jy(t,"mapDispatchToProps"):Mg(e=>({dispatch:e}))}function sU(t){return t?typeof t=="function"?OC(t):Jy(t,"mapStateToProps"):Mg(()=>({}))}function oU(t,e,n){return{...n,...t,...e}}function aU(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,d){const h=t(l,u,d);return s?i(h,o)||(o=h):(s=!0,o=h),o}}}function lU(t){return t?typeof t=="function"?aU(t):Jy(t,"mergeProps"):()=>oU}function uU(t){t()}function cU(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uU(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var XE={notify(){},get:()=>[]};function DC(t,e){let n,r=XE,i=0,s=!1;function o(I){d();const E=r.subscribe(I);let v=!1;return()=>{v||(v=!0,E(),h())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=cU())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=XE)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var dU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hU=typeof navigator<"u"&&navigator.product==="ReactNative",mh=dU||hU?Ae.useLayoutEffect:Ae.useEffect;function JE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Wp(t,e){if(JE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!JE(t[n[i]],e[n[i]]))return!1;return!0}var fU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gU={[Z8]:mU,[X8]:MC};function eb(t){return eU(t)?MC:gU[t.$$typeof]||fU}var vU=Object.defineProperty,yU=Object.getOwnPropertyNames,tb=Object.getOwnPropertySymbols,_U=Object.getOwnPropertyDescriptor,wU=Object.getPrototypeOf,nb=Object.prototype;function Lg(t,e){if(typeof e!="string"){if(nb){const s=wU(e);s&&s!==nb&&Lg(t,s)}let n=yU(e);tb&&(n=n.concat(tb(e)));const r=eb(t),i=eb(e);for(let s=0;s<n.length;++s){const o=n[s];if(!pU[o]&&!(i&&i[o])&&!(r&&r[o])){const a=_U(e,o);try{vU(t,o,a)}catch{}}}}return t}var LC=j8,EU=t=>{LC=t},bU=[null,null];function IU(t,e,n){mh(()=>t(...e),n)}function SU(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function xU(t,e,n,r,i,s,o,a,l,u,d){if(!t)return()=>{};let h=!1,f=null;const m=()=>{if(h||!a.current)return;const I=e.getState();let E,v;try{E=r(I,i.current)}catch(_){v=_,f=_}v||(f=null),E===s.current?o.current||u():(s.current=E,l.current=E,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function TU(t,e){return t===e}function CU(t,e,n,{pure:r,areStatesEqual:i=TU,areOwnPropsEqual:s=Wp,areStatePropsEqual:o=Wp,areMergedPropsEqual:a=Wp,forwardRef:l=!1,context:u=kC}={}){const d=u,h=sU(t),f=iU(e),m=lU(n),y=!!t;return E=>{const v=E.displayName||E.name||"Component",_=`Connect(${v})`,x={shouldHandleStateChanges:y,displayName:_,wrappedComponentName:v,WrappedComponent:E,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function A(S){const[w,R,C]=Ae.useMemo(()=>{const{reactReduxForwardedRef:dt,...Mn}=S;return[S.context,dt,Mn]},[S]),O=Ae.useMemo(()=>{let dt=d;return w!=null&&w.Consumer,dt},[w,d]),M=Ae.useContext(O),P=!!S.store&&!!S.store.getState&&!!S.store.dispatch,X=!!M&&!!M.store,G=P?S.store:M.store,fe=X?M.getServerState:G.getState,Ce=Ae.useMemo(()=>nU(G.dispatch,x),[G]),[V,B]=Ae.useMemo(()=>{if(!y)return bU;const dt=DC(G,P?void 0:M.subscription),Mn=dt.notifyNestedSubs.bind(dt);return[dt,Mn]},[G,P,M]),K=Ae.useMemo(()=>P?M:{...M,subscription:V},[P,M,V]),ye=Ae.useRef(void 0),oe=Ae.useRef(C),me=Ae.useRef(void 0),Ze=Ae.useRef(!1),Xe=Ae.useRef(!1),Ue=Ae.useRef(void 0);mh(()=>(Xe.current=!0,()=>{Xe.current=!1}),[]);const nt=Ae.useMemo(()=>()=>me.current&&C===oe.current?me.current:Ce(G.getState(),C),[G,C]),dn=Ae.useMemo(()=>Mn=>V?xU(y,G,V,Ce,oe,ye,Ze,Xe,me,B,Mn):()=>{},[V]);IU(SU,[oe,ye,Ze,C,me,B]);let Dn;try{Dn=LC(dn,nt,fe?()=>Ce(fe(),C):nt)}catch(dt){throw Ue.current&&(dt.message+=`
The error may be correlated with this previous error:
${Ue.current.stack}

`),dt}mh(()=>{Ue.current=void 0,me.current=void 0,ye.current=Dn});const Xn=Ae.useMemo(()=>Ae.createElement(E,{...Dn,ref:R}),[R,E,Dn]);return Ae.useMemo(()=>y?Ae.createElement(O.Provider,{value:K},Xn):Xn,[O,Xn,K])}const D=Ae.memo(A);if(D.WrappedComponent=E,D.displayName=A.displayName=_,l){const w=Ae.forwardRef(function(C,O){return Ae.createElement(D,{...C,reactReduxForwardedRef:O})});return w.displayName=_,w.WrappedComponent=E,Lg(w,E)}return Lg(D,E)}}var VC=CU;function RU({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ae.useMemo(()=>{const u=DC(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Ae.useMemo(()=>t.getState(),[t]);mh(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||kC;return Ae.createElement(l.Provider,{value:o},n)}var PU=RU;EU(k.useSyncExternalStore);function AU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function FC(t,e){var n=k.useState(function(){return{inputs:e,result:t()}})[0],r=k.useRef(!0),i=k.useRef(n),s=r.current||!!(e&&i.current.inputs&&AU(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return k.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function kU(t,e){return FC(function(){return t},e)}var Ie=FC,te=kU,NU="Invariant failed";function OU(t,e){throw new Error(NU)}var zn=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},e0=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},rb=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},DU=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Gp={top:0,right:0,bottom:0,left:0},t0=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Gp:r,s=e.border,o=s===void 0?Gp:s,a=e.padding,l=a===void 0?Gp:a,u=zn(e0(n,i)),d=zn(rb(n,o)),h=zn(rb(d,l));return{marginBox:u,borderBox:zn(n),paddingBox:d,contentBox:h,margin:i,border:o,padding:l}},xn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&OU(),i},MU=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gh=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=DU(r,n);return t0({borderBox:a,border:i,margin:s,padding:o})},vh=function(e,n){return n===void 0&&(n=MU()),gh(e,n)},jC=function(e,n){var r={top:xn(n.marginTop),right:xn(n.marginRight),bottom:xn(n.marginBottom),left:xn(n.marginLeft)},i={top:xn(n.paddingTop),right:xn(n.paddingRight),bottom:xn(n.paddingBottom),left:xn(n.paddingLeft)},s={top:xn(n.borderTopWidth),right:xn(n.borderRightWidth),bottom:xn(n.borderBottomWidth),left:xn(n.borderLeftWidth)};return t0({borderBox:e,margin:r,padding:i,border:s})},UC=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return jC(n,r)},ru=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function BC(t,e){}BC.bind(null,"warn");BC.bind(null,"error");function Ci(){}function LU(t,e){return{...t,...e}}function Pn(t,e,n){const r=e.map(i=>{const s=LU(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const VU="Invariant failed";class yh extends Error{}yh.prototype.toString=function(){return this.message};function H(t,e){throw new yh(VU)}class FU extends ke.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ci,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof yh&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Pn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof yh){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const jU=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_h=t=>t+1,UU=t=>`
  You have lifted an item in position ${_h(t.source.index)}
`,$C=(t,e)=>{const n=t.droppableId===e.droppableId,r=_h(t.index),i=_h(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},zC=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,BU=t=>{const e=t.destination;if(e)return $C(t.source,e);const n=t.combine;return n?zC(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},ib=t=>`
  The item has returned to its starting position
  of ${_h(t.index)}
`,$U=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${ib(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${$C(t.source,e)}
    `:n?`
      You have dropped the item.
      ${zC(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ib(t.source)}
  `},td={dragHandleUsageInstructions:jU,onDragStart:UU,onDragUpdate:BU,onDragEnd:$U},_t={x:0,y:0},Tt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),gn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ri=(t,e)=>t.x===e.x&&t.y===e.y,ea=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Cs=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},iu=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),sb=(t,e)=>Math.min(...e.map(n=>iu(t,n))),HC=t=>e=>({x:t(e.x),y:t(e.y)});var zU=(t,e)=>{const n=zn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Mu=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),ob=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],HU={top:0,right:0,bottom:0,left:0},WU=(t,e)=>e?Mu(t,e.scroll.diff.displacement):t,GU=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,qU=(t,e)=>e&&e.shouldClipSubject?zU(e.pageMarginBox,t):zn(t);var Bo=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=WU(t.marginBox,r),s=GU(i,n,e),o=qU(s,r);return{page:t,withPlaceholder:e,active:o}},n0=(t,e)=>{t.frame||H();const n=t.frame,r=gn(e,n.scroll.initial),i=ea(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Bo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const WC=pt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),GC=pt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Sf=pt(t=>Object.values(t)),KU=pt(t=>Object.values(t));var ta=pt((t,e)=>KU(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function r0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function xf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Tf=pt((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),QU=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!r0(i))return null;function o(m){const y={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:y}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const u=Tf(e,r);if(!l){if(!u.length)return null;const m=u[u.length-1];return o(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===l);d===-1&&H();const h=d-1;if(h<0)return null;const f=u[h];return o(f.descriptor.id)},na=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const qC={point:_t,value:0},su={invisible:{},visible:{},all:[]},YU={displaced:su,displacedBy:qC,at:null};var kn=(t,e)=>n=>t<=n&&n<=e,KC=t=>{const e=kn(t.top,t.bottom),n=kn(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return l&&u?!0:l&&o||u&&s}},ZU=t=>{const e=kn(t.top,t.bottom),n=kn(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const i0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},QC={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var XU=t=>e=>{const n=kn(e.top,e.bottom),r=kn(e.left,e.right);return i=>t===i0?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const JU=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:_t;return Mu(t,n)},eB=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,tB=(t,e,n)=>n(e)(t),s0=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?JU(t,e):t;return eB(s,e,i)&&tB(s,n,i)},nB=t=>s0({...t,isVisibleThroughFrameFn:KC}),YC=t=>s0({...t,isVisibleThroughFrameFn:ZU}),rB=t=>s0({...t,isVisibleThroughFrameFn:XU(t.destination.axis)}),iB=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function sB(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return zn(e0(n,r))}function ou({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const u=sB(l,n),d=l.descriptor.id;if(a.all.push(d),!nB({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=iB(d,s,i),m={draggableId:d,shouldAnimate:f};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function oB(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function ab({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=oB(t,{inHomeList:e});return{displaced:su,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function wh({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=na(t,n);if(o==null)return ab({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=e.find(y=>y.descriptor.index===o);if(!u)return ab({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const d=Tf(t,e),h=e.indexOf(u),f=d.slice(h);return{displaced:ou({afterDragging:f,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function ji(t,e){return!!e.effected[t]}var aB=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return ji(s,i)?t?a:a-1:t?a+1:a},lB=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},uB=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||H(),u.type==="REORDER"){const h=lB({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:s});return h==null?null:wh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const d=aB({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:l});return d==null?null:wh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},cB=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return ji(n,e)?i?_t:ea(r.point):i?r.point:_t},dB=({afterCritical:t,impact:e,draggables:n})=>{const r=xf(e);r||H();const i=r.draggableId,s=n[i].page.borderBox.center,o=cB({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Tt(s,o)};const ZC=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,hB=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,o0=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,lb=({axis:t,moveRelativeTo:e,isMoving:n})=>Cs(t.line,e.marginBox[t.end]+ZC(t,n),o0(t,e.marginBox,n)),ub=({axis:t,moveRelativeTo:e,isMoving:n})=>Cs(t.line,e.marginBox[t.start]-hB(t,n),o0(t,e.marginBox,n)),fB=({axis:t,moveInto:e,isMoving:n})=>Cs(t.line,e.contentBox[t.start]+ZC(t,n),o0(t,e.contentBox,n));var pB=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=ta(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return fB({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:u}=t,d=l.all[0];if(d){const f=n[d];if(ji(d,i))return ub({axis:a,moveRelativeTo:f.page,isMoving:o});const m=gh(f.page,u.point);return ub({axis:a,moveRelativeTo:m,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===e.descriptor.id)return o.borderBox.center;if(ji(h.descriptor.id,i)){const f=gh(h.page,ea(i.displacedBy.point));return lb({axis:a,moveRelativeTo:f,isMoving:o})}return lb({axis:a,moveRelativeTo:h.page,isMoving:o})},Vg=(t,e)=>{const n=t.frame;return n?Tt(e,n.scroll.diff.displacement):e};const mB=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?pB({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):dB({impact:t,draggables:r,afterCritical:i})};var Cf=t=>{const e=mB(t),n=t.droppable;return n?Vg(n,e):e},XC=(t,e)=>{const n=gn(e,t.scroll.initial),r=ea(n);return{frame:zn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function cb(t,e){return t.map(n=>e[n])}function gB(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var vB=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=XC(e,Tt(e.scroll.current,i)),o=n.frame?n0(n,Tt(n.frame.scroll.current,i)):n,a=t.displaced,l=ou({afterDragging:cb(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=ou({afterDragging:cb(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},h={},f=[a,l,u];return a.all.forEach(y=>{const I=gB(y,f);if(I){h[y]=I;return}d[y]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:h}}},yB=(t,e)=>Tt(t.scroll.diff.displacement,e),a0=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=yB(n,t),i=gn(r,e.page.borderBox.center);return Tt(e.client.borderBox.center,i)},JC=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=gn(n,t.page.borderBox.center),l={target:Mu(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?rB(l):YC(l)},_B=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=ta(n.descriptor.id,r),d=na(e,n),h=QU({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:i})||uB({isMovingForward:t,isInHomeList:d,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:l});if(!h)return null;const f=Cf({impact:h,draggable:e,droppable:n,draggables:r,afterCritical:l});if(JC({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:a0({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:h,scrollJumpRequest:null};const y=gn(f,o),I=vB({impact:h,viewport:s,destination:n,draggables:r,maxScrollChange:y});return{clientSelection:a,impact:I,scrollJumpRequest:y}};const Kt=t=>{const e=t.subject.active;return e||H(),e};var wB=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=kn(s[o.start],s[o.end]),l=Sf(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>KC(i.frame)(Kt(d))).filter(d=>{const h=Kt(d);return t?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const h=Kt(d),f=kn(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||f(s[o.start])||f(s[o.end])}).sort((d,h)=>{const f=Kt(d)[o.crossAxisStart],m=Kt(h)[o.crossAxisStart];return t?f-m:m-f}).filter((d,h,f)=>Kt(d)[o.crossAxisStart]===Kt(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(d=>kn(Kt(d)[o.start],Kt(d)[o.end])(e[o.line]));return u.length===1?u[0]:u.length>1?u.sort((d,h)=>Kt(d)[o.start]-Kt(h)[o.start])[0]:l.sort((d,h)=>{const f=sb(e,ob(Kt(d))),m=sb(e,ob(Kt(h)));return f!==m?f-m:Kt(d)[o.start]-Kt(h)[o.start]})[0]};const db=(t,e)=>{const n=t.page.borderBox.center;return ji(t.descriptor.id,e)?gn(n,e.displacedBy.point):n},EB=(t,e)=>{const n=t.page.borderBox;return ji(t.descriptor.id,e)?Mu(n,ea(e.displacedBy.point)):n};var bB=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>YC({target:EB(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=iu(t,Vg(n,db(o,i))),u=iu(t,Vg(n,db(a,i)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,Lu=pt(function(e,n){const r=n[e.line];return{value:r,point:Cs(e.line,r)}});const IB=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Cs(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=ta(t.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Cs(r.line,l)},eR=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),tR=(t,e,n)=>{const r=t.frame;na(e,t)&&H(),t.subject.withPlaceholder&&H();const i=Lu(t.axis,e.displaceBy).point,s=IB(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=Bo({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=s?Tt(r.scroll.max,s):r.scroll.max,l=eR(r,a),u=Bo({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:u,frame:l}},SB=t=>{const e=t.subject.withPlaceholder;e||H();const n=t.frame;if(!n){const o=Bo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||H();const i=eR(n,r),s=Bo({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var xB=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const h={displaced:su,displacedBy:qC,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=Cf({impact:h,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=na(r,s)?s:tR(s,r,i);return JC({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],u=(()=>{const h=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?h:h+1})(),d=Lu(s.axis,r.displaceBy);return wh({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:su,index:u})},TB=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=wB({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const u=ta(l.descriptor.id,i),d=bB({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:u,afterCritical:a}),h=xB({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:a});if(!h)return null;const f=Cf({impact:h,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:a0({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},_n=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const CB=(t,e)=>{const n=_n(t);return n?e[n]:null};var RB=({state:t,type:e})=>{const n=CB(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return a?_B({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):TB({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function ts(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function nR(t){const e=kn(t.top,t.bottom),n=kn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function PB(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function AB({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Cs(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:iu(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function kB({pageBorderBox:t,draggable:e,droppables:n}){const r=Sf(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!PB(t,s))return!1;if(nR(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],u=t[o.crossAxisEnd],d=kn(s[o.crossAxisStart],s[o.crossAxisEnd]),h=d(l),f=d(u);return!h&&!f?!0:h?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:AB({pageBorderBox:t,draggable:e,candidates:r}):null}const rR=(t,e)=>zn(Mu(t,e));var NB=(t,e)=>{const n=t.frame;return n?rR(e,n.scroll.diff.value):e};function iR({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function OB({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var DB=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=Lu(n.axis,e.displaceBy),u=l.value,d=t[a.start],h=t[a.end],m=Tf(e,r).find(I=>{const E=I.descriptor.id,v=I.page.borderBox.center[a.line],_=ji(E,o),x=iR({displaced:i,id:E});return _?x?h<=v:d<v-u:x?h<=v+u:d<v})||null,y=OB({draggable:e,closest:m,inHomeList:na(e,n)});return wh({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:y})};const MB=4;var LB=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=Lu(r.axis,t.displaceBy),l=a.value,u=e[o.start],d=e[o.end],f=Tf(t,i).find(y=>{const I=y.descriptor.id,E=y.page.borderBox,_=E[o.size]/MB,x=ji(I,s),A=iR({displaced:n.displaced,id:I});return x?A?d>E[o.start]+_&&d<E[o.end]-_:u>E[o.start]-l+_&&u<E[o.end]-l-_:A?d>E[o.start]+l+_&&d<E[o.end]+l-_:u>E[o.start]+_&&u<E[o.end]-_});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},sR=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=rR(e.page.borderBox,t),l=kB({pageBorderBox:a,draggable:e,droppables:r});if(!l)return YU;const u=r[l],d=ta(u.descriptor.id,n),h=NB(u,a);return LB({pageBorderBoxWithDroppableScroll:h,draggable:e,previousImpact:i,destination:u,insideDestination:d,afterCritical:o})||DB({pageBorderBoxWithDroppableScroll:h,draggable:e,destination:u,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},l0=(t,e)=>({...t,[e.descriptor.id]:e});const VB=({previousImpact:t,impact:e,droppables:n})=>{const r=_n(t),i=_n(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=SB(s);return l0(n,o)};var FB=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=VB({previousImpact:r,impact:i,droppables:n}),o=_n(i);if(!o)return s;const a=n[o];if(na(t,a)||a.subject.withPlaceholder)return s;const l=tR(a,t,e);return l0(s,l)},al=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,u=gn(l,t.initial.client.selection),d={offset:u,selection:l,borderBoxCenter:Tt(t.initial.client.borderBoxCenter,u)},h={selection:Tt(d.selection,o.scroll.current),borderBoxCenter:Tt(d.borderBoxCenter,o.scroll.current),offset:Tt(d.offset,o.scroll.diff.value)},f={client:d,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const m=a.draggables[t.critical.draggable.id],y=i||sR({pageOffset:h.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),I=FB({draggable:m,impact:y,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:I},impact:y,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function jB(t,e){return t.map(n=>e[n])}var oR=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=jB(s.all,n),a=ou({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},aR=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=Cf({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return a0({pageBorderBoxCenter:o,draggable:e,viewport:i})},lR=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&H();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],u=_n(r);u||H();const d=a[u],h=oR({impact:r,viewport:i,destination:d,draggables:o}),f=aR({impact:h,draggable:l,droppable:d,draggables:o,viewport:i,afterCritical:t.afterCritical});return al({impact:h,clientSelection:f,state:t,dimensions:s,viewport:i})},UB=t=>({index:t.index,droppableId:t.droppableId}),uR=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Lu(e.axis,t.displaceBy),s=ta(e.descriptor.id,n),o=s.indexOf(t);o===-1&&H();const a=s.slice(o+1),l=a.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:ou({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:UB(t.descriptor)}},afterCritical:u}},BB=(t,e)=>({draggables:t.draggables,droppables:l0(t.droppables,e)}),$B=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=gh(t.client,e),i=vh(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},zB=t=>{const e=t.frame;return e||H(),e},HB=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=zB(o).scroll.diff.value,u=Tt(r,l);return $B({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},WB=({state:t,published:e})=>{const n=e.modified.map(v=>{const _=t.dimensions.droppables[v.droppableId];return n0(_,v.scroll)}),r={...t.dimensions.droppables,...WC(n)},i=GC(HB({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(v=>{delete s[v]});const o={droppables:r,draggables:s},a=_n(t.impact),l=a?o.droppables[a]:null,u=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=uR({draggable:u,home:d,draggables:s,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:h,y=sR({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:f}),I={...t,phase:"DRAGGING",impact:y,onLiftImpact:h,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?I:{...I,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Fg=t=>t.movementMode==="SNAP",qp=(t,e,n)=>{const r=BB(t.dimensions,e);return!Fg(t)||n?al({state:t,dimensions:r}):lR({state:t,dimensions:r})};function Kp(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const hb={phase:"IDLE",completed:null,shouldFlush:!1};var GB=(t=hb,e)=>{if(e.type==="FLUSH")return{...hb,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&H();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:_t},d={client:u,page:{selection:Tt(u.selection,i.scroll.initial),borderBoxCenter:Tt(u.selection,i.scroll.initial),offset:Tt(u.selection,i.scroll.diff.value)}},h=Sf(s.droppables).every(I=>!I.isFixedOnPage),{impact:f,afterCritical:m}=uR({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:m,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&H(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||H(),WB({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ts(t)||H();const{client:n}=e.payload;return Ri(n,t.current.client.selection)?t:al({state:t,clientSelection:n,impact:Fg(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Kp(t);ts(t)||H();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=n0(i,r);return qp(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ts(t)||H();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||H(),i.isEnabled===r&&H();const s={...i,isEnabled:r};return qp(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ts(t)||H();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||H(),i.isCombineEnabled===r&&H();const s={...i,isCombineEnabled:r};return qp(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ts(t)||H(),t.isWindowScrollAllowed||H();const n=e.payload.newScroll;if(Ri(t.viewport.scroll.current,n))return Kp(t);const r=XC(t.viewport,n);return Fg(t)?lR({state:t,viewport:r}):al({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ts(t))return t;const n=e.payload.maxScroll;if(Ri(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&H();const n=RB({state:t,type:e.type});return n?al({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&H(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||H(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Ne(t,e){return t instanceof Object&&"type"in t&&t.type===e}const qB=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),KB=t=>({type:"LIFT",payload:t}),QB=t=>({type:"INITIAL_PUBLISH",payload:t}),YB=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),ZB=()=>({type:"COLLECTION_STARTING",payload:null}),XB=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),JB=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),e$=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),cR=t=>({type:"MOVE",payload:t}),t$=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),n$=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),r$=()=>({type:"MOVE_UP",payload:null}),i$=()=>({type:"MOVE_DOWN",payload:null}),s$=()=>({type:"MOVE_RIGHT",payload:null}),o$=()=>({type:"MOVE_LEFT",payload:null}),u0=()=>({type:"FLUSH",payload:null}),a$=t=>({type:"DROP_ANIMATE",payload:t}),c0=t=>({type:"DROP_COMPLETE",payload:t}),dR=t=>({type:"DROP",payload:t}),l$=t=>({type:"DROP_PENDING",payload:t}),hR=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var u$=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Ne(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(c0({completed:l.completed})),e().phase!=="IDLE"&&H(),n(u0()),n(qB({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:f,viewport:m}=t.startPublishing(d);n(QB({critical:h,dimensions:f,clientSelection:o,movementMode:a,viewport:m}))},c$=t=>()=>e=>n=>{Ne(n,"INITIAL_PUBLISH")&&t.dragging(),Ne(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Ne(n,"FLUSH")||Ne(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const d0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},au={opacity:{drop:0,combining:.7},scale:{drop:.75}},fR={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Zi=`${fR.outOfTheWay}s ${d0.outOfTheWay}`,ll={fluid:`opacity ${Zi}`,snap:`transform ${Zi}, opacity ${Zi}`,drop:t=>{const e=`${t}s ${d0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Zi}`,placeholder:`height ${Zi}, width ${Zi}, margin ${Zi}`},fb=t=>Ri(t,_t)?void 0:`translate(${t.x}px, ${t.y}px)`,jg={moveTo:fb,drop:(t,e)=>{const n=fb(t);if(n)return e?`${n} scale(${au.scale.drop})`:n}},{minDropTime:Ug,maxDropTime:pR}=fR,d$=pR-Ug,pb=1500,h$=.6;var f$=({current:t,destination:e,reason:n})=>{const r=iu(t,e);if(r<=0)return Ug;if(r>=pb)return pR;const i=r/pb,s=Ug+d$*i,o=n==="CANCEL"?s*h$:s;return Number(o.toFixed(2))},p$=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=_n(t),l=a?o[a]:null,u=o[e.descriptor.droppableId],d=aR({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||u,viewport:r});return gn(d,e.client.borderBox.center)},m$=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:oR({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:su},didDropInsideDroppable:!0};const g$=({getState:t,dispatch:e})=>n=>r=>{if(!Ne(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(l$({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&H(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||H();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=m$({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=h?r0(d):null,m=h?xf(d):null,y={index:a.draggable.index,droppableId:a.droppable.id},I={draggableId:u.descriptor.id,type:u.descriptor.type,source:y,reason:s,mode:i.movementMode,destination:f,combine:m},E=p$({impact:d,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:I,impact:d};if(!(!Ri(i.current.client.offset,E)||!!I.combine)){e(c0({completed:v}));return}const x=f$({current:i.current.client.offset,destination:E,reason:s});e(a$({newHomeClientOffset:E,dropDuration:x,completed:v}))};var mR=()=>({x:window.pageXOffset,y:window.pageYOffset});function v$(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function y$({onWindowScroll:t}){function e(){t(mR())}const n=ru(e),r=v$(n);let i=Ci;function s(){return i!==Ci}function o(){s()&&H(),i=Pn(window,[r])}function a(){s()||H(),n.cancel(),i(),i=Ci}return{start:o,stop:a,isActive:s}}const _$=t=>Ne(t,"DROP_COMPLETE")||Ne(t,"DROP_ANIMATE")||Ne(t,"FLUSH"),w$=t=>{const e=y$({onWindowScroll:n=>{t.dispatch(t$({newScroll:n}))}});return n=>r=>{!e.isActive()&&Ne(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&_$(r)&&e.stop(),n(r)}};var E$=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},b$=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&H();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const I$=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,S$=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,x$=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},Ra=(t,e)=>{e()},Tc=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Qp(t,e,n,r){if(!t){n(r(e));return}const i=E$(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var T$=(t,e)=>{const n=b$();let r=null;const i=(h,f)=>{r&&H(),Ra("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:h,mode:f})})},s=(h,f)=>{r&&H(),Ra("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(Tc(h,f))})},o=(h,f)=>{r&&H();const m=Tc(h,f);r={mode:f,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{Ra("onDragStart",()=>Qp(t().onDragStart,m,e,td.onDragStart))})},a=(h,f)=>{const m=r0(f),y=xf(f);r||H();const I=!x$(h,r.lastCritical);I&&(r.lastCritical=h);const E=!I$(r.lastLocation,m);E&&(r.lastLocation=m);const v=!S$(r.lastCombine,y);if(v&&(r.lastCombine=y),!I&&!E&&!v)return;const _={...Tc(h,r.mode),combine:y,destination:m};n.add(()=>{Ra("onDragUpdate",()=>Qp(t().onDragUpdate,_,e,td.onDragUpdate))})},l=()=>{r||H(),n.flush()},u=h=>{r||H(),r=null,Ra("onDragEnd",()=>Qp(t().onDragEnd,h,e,td.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const h={...Tc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},C$=(t,e)=>{const n=T$(t,e);return r=>i=>s=>{if(Ne(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Ne(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Ne(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Ne(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const R$=t=>e=>n=>{if(!Ne(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&H(),t.dispatch(c0({completed:r.completed}))},P$=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((Ne(s,"FLUSH")||Ne(s,"DROP_COMPLETE")||Ne(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Ne(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(hR())}};n=requestAnimationFrame(()=>{n=null,e=Pn(window,[o])})}};var A$=t=>()=>e=>n=>{(Ne(n,"DROP_COMPLETE")||Ne(n,"FLUSH")||Ne(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},k$=t=>{let e=!1;return()=>n=>r=>{if(Ne(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Ne(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Ne(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const N$=t=>Ne(t,"DROP_COMPLETE")||Ne(t,"DROP_ANIMATE")||Ne(t,"FLUSH");var O$=t=>e=>n=>r=>{if(N$(r)){t.stop(),n(r);return}if(Ne(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&H(),t.start(i);return}n(r),t.scroll(e.getState())};const D$=t=>e=>n=>{if(e(n),!Ne(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(dR({reason:r.reason})))},M$=AC;var L$=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>PC(GB,M$(P8(c$(n),A$(t),u$(t),g$,R$,P$,D$,O$(s),w$,k$(e),C$(r,i))));const Yp=()=>({additions:{},removals:{},modified:{}});function V$({registry:t,callbacks:e}){let n=Yp(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:d}=n,h=Object.keys(l).map(y=>t.draggable.getById(y).getDimension(_t)).sort((y,I)=>y.descriptor.index-I.descriptor.index),f=Object.keys(d).map(y=>{const E=t.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:E}}),m={additions:h,removals:Object.keys(u),modified:f};n=Yp(),e.publish(m)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Yp())}}}var gR=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=gn({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},vR=()=>{const t=document.documentElement;return t||H(),t},yR=()=>{const t=vR();return gR({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},F$=()=>{const t=mR(),e=yR(),n=t.y,r=t.x,i=vR(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:zn({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:_t,displacement:_t}}}},j$=({critical:t,scrollOptions:e,registry:n})=>{const r=F$(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:GC(a),droppables:WC(o)},critical:t,viewport:r}};function mb(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var U$=(t,e)=>{let n=null;const r=V$({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,m)=>{t.droppable.exists(f)||H(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:m})},s=(f,m)=>{n&&(t.droppable.exists(f)||H(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},o=(f,m)=>{n&&(t.droppable.exists(f)||H(),e.updateDroppableScroll({id:f,newScroll:m}))},a=(f,m)=>{n&&t.droppable.getById(f).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||H();const m=n.critical.draggable;f.type==="ADDITION"&&mb(t,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&mb(t,m,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{n&&H();const m=t.draggable.getById(f.draggableId),y=t.droppable.getById(m.descriptor.droppableId),I={draggable:m.descriptor,droppable:y.descriptor},E=t.subscribe(u);return n={critical:I,unsubscribe:E},j$({critical:I,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},_R=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",B$=t=>{window.scrollBy(t.x,t.y)};const $$=pt(t=>Sf(t).filter(e=>!(!e.isEnabled||!e.frame))),z$=(t,e)=>$$(e).find(r=>(r.frame||H(),nR(r.frame.pageMarginBox)(t)))||null;var H$=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return z$(t,n)};const lu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var W$=(t,e,n=()=>lu)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},wR=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},h0=1,G$=(t,e,n=()=>lu)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return h0;const s=1-wR({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},q$=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,u=Date.now()-o;if(u>=s)return t;if(u<i)return h0;const d=wR({startOfRange:i,endOfRange:a,current:u}),h=t*r.ease(d);return Math.ceil(h)},gb=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=G$(t,e,i);return s===0?0:r?Math.max(q$(s,n,i),h0):s},vb=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=W$(t,r,s);return e[r.end]<e[r.start]?gb({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*gb({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},K$=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Q$=HC(t=>t===0?0:t);var ER=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=vb({container:e,distanceToEdges:o,dragStartTime:t,axis:i0,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=vb({container:e,distanceToEdges:o,dragStartTime:t,axis:QC,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=Q$({x:l,y:a});if(Ri(u,_t))return null;const d=K$({container:e,subject:n,proposedScroll:u});return d?Ri(d,_t)?null:d:null};const Y$=HC(t=>t===0?0:t>0?1:-1),f0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Tt(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ri(s,_t)?null:s}})(),bR=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Y$(n),s=f0({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},p0=(t,e)=>bR({current:t.scroll.current,max:t.scroll.max,change:e}),Z$=(t,e)=>{if(!p0(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return f0({current:r,max:n,change:e})},m0=(t,e)=>{const n=t.frame;return n?bR({current:n.scroll.current,max:n.scroll.max,change:e}):!1},X$=(t,e)=>{const n=t.frame;return!n||!m0(t,e)?null:f0({current:n.scroll.current,max:n.scroll.max,change:e})};var J$=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=ER({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&p0(t,o)?o:null},e7=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=ER({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&m0(t,a)?a:null},yb=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,f=J$({dragStartTime:e,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(f){r(f);return}}const u=H$({center:o,destination:_n(t.impact),droppables:t.dimensions.droppables});if(!u)return;const d=e7({dragStartTime:e,droppable:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&i(u.descriptor.id,d)},t7=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>lu})=>{const r=ru(t),i=ru(e);let s=null;const o=u=>{s||H();const{shouldUseTimeDampening:d,dragStartTime:h}=s;yb({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{s&&H();const d=Date.now();let h=!1;const f=()=>{h=!0};yb({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&o(u)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},n7=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const u=Tt(a.current.client.selection,l);t({client:u})},i=(a,l)=>{if(!m0(a,l))return l;const u=X$(a,l);if(!u)return e(a.descriptor.id,l),null;const d=gn(l,u);return e(a.descriptor.id,d),gn(l,d)},s=(a,l,u)=>{if(!a||!p0(l,u))return u;const d=Z$(l,u);if(!d)return n(u),null;const h=gn(u,d);return n(h),gn(u,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=_n(a.impact);u||H();const d=i(a.dimensions.droppables[u],l);if(!d)return;const h=a.viewport,f=s(a.isWindowScrollAllowed,h,d);f&&r(a,f)}},r7=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=t7({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=n7({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const $o="data-rfd",zo=(()=>{const t=`${$o}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Bg=(()=>{const t=`${$o}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),i7=(()=>{const t=`${$o}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),_b={contextId:`${$o}-scroll-container-context-id`},s7=t=>e=>`[${e}="${t}"]`,Pa=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),o7="pointer-events: none;";var a7=t=>{const e=s7(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:o7,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ll.outOfTheWay};
    `;return{selector:e(Bg.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(i7.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Pa(o,"always"),resting:Pa(o,"resting"),dragging:Pa(o,"dragging"),dropAnimating:Pa(o,"dropAnimating"),userCancel:Pa(o,"userCancel")}};const wn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,Zp=()=>{const t=document.querySelector("head");return t||H(),t},wb=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function l7(t,e){const n=Ie(()=>a7(t),[t]),r=k.useRef(null),i=k.useRef(null),s=te(pt(h=>{const f=i.current;f||H(),f.textContent=h}),[]),o=te(h=>{const f=r.current;f||H(),f.textContent=h},[]);wn(()=>{!r.current&&!i.current||H();const h=wb(e),f=wb(e);return r.current=h,i.current=f,h.setAttribute(`${$o}-always`,t),f.setAttribute(`${$o}-dynamic`,t),Zp().appendChild(h),Zp().appendChild(f),o(n.always),s(n.resting),()=>{const m=y=>{const I=y.current;I||H(),Zp().removeChild(I),y.current=null};m(r),m(i)}},[e,o,s,n.always,n.resting,t]);const a=te(()=>s(n.dragging),[s,n.dragging]),l=te(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=te(()=>{i.current&&s(n.resting)},[s,n.resting]);return Ie(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function IR(t,e){return Array.from(t.querySelectorAll(e))}var SR=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Rf(t){return t instanceof SR(t).HTMLElement}function u7(t,e){const n=`[${zo.contextId}="${t}"]`,r=IR(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(zo.draggableId)===e);return!i||!Rf(i)?null:i}function c7(t){const e=k.useRef({}),n=k.useRef(null),r=k.useRef(null),i=k.useRef(!1),s=te(function(f,m){const y={id:f,focus:m};return e.current[f]=y,function(){const E=e.current;E[f]!==y&&delete E[f]}},[]),o=te(function(f){const m=u7(t,f);m&&m!==document.activeElement&&m.focus()},[t]),a=te(function(f,m){n.current===f&&(n.current=m)},[]),l=te(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&o(f)}))},[o]),u=te(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(zo.draggableId)===f&&(n.current=f)},[]);return wn(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Ie(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function d7(){const t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){const m=e.indexOf(h);m!==-1&&e.splice(m,1)}}function r(h){e.length&&e.forEach(f=>f(h))}function i(h){return t.draggables[h]||null}function s(h){const f=i(h);return f||H(),f}const o={register:h=>{t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,f)=>{const m=t.draggables[f.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const f=h.descriptor.id,m=i(f);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[f],t.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(t.draggables).filter(f=>f.descriptor.type===h)};function a(h){return t.droppables[h]||null}function l(h){const f=a(h);return f||H(),f}const u={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const f=a(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(t.droppables).filter(f=>f.descriptor.type===h)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:d}}function h7(){const t=Ie(d7,[]);return k.useEffect(()=>function(){t.clean()},[t]),t}var g0=ke.createContext(null),Eh=()=>{const t=document.body;return t||H(),t};const f7={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},p7=t=>`rfd-announcement-${t}`;function m7(t){const e=Ie(()=>p7(t),[t]),n=k.useRef(null);return k.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ie(s.style,f7),Eh().appendChild(s),function(){setTimeout(function(){const l=Eh();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),te(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const g7={separator:"::"};function v0(t,e=g7){const n=ke.useId();return Ie(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function v7({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function y7({contextId:t,text:e}){const n=v0("hidden-text",{separator:"-"}),r=Ie(()=>v7({contextId:t,uniqueId:n}),[n,t]);return k.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",Eh().appendChild(s),function(){const a=Eh();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var Pf=ke.createContext(null);function xR(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e}function _7(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&H();const a={abandon:o};return t=a,a}function i(){t||H(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function uu(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const w7=9,E7=13,y0=27,TR=32,b7=33,I7=34,S7=35,x7=36,T7=37,C7=38,R7=39,P7=40,A7={[E7]:!0,[w7]:!0};var CR=t=>{A7[t.keyCode]&&t.preventDefault()};const Af=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),RR=0,Eb=5;function k7(t,e){return Math.abs(e.x-t.x)>=Eb||Math.abs(e.y-t.y)>=Eb}const bb={type:"IDLE"};function N7({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==RR)return;const l={x:o,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&H();const d=u.point;if(!k7(d,l))return;i.preventDefault();const h=u.actions.fluidLift(l);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===y0){i.preventDefault(),t();return}CR(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&H(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Af,fn:t}]}function O7(t){const e=k.useRef(bb),n=k.useRef(Ci),r=Ie(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==RR||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const f=t.findClosestDraggableId(h);if(!f)return;const m=t.tryGetLock(f,o,{sourceEvent:h});if(!m)return;h.preventDefault();const y={x:h.clientX,y:h.clientY};n.current(),u(m,y)}}),[t]),i=Ie(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=t.findClosestDraggableId(d);if(!h)return;const f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}),[t]),s=te(function(){const h={passive:!1,capture:!0};n.current=Pn(window,[i,r],h)},[i,r]),o=te(()=>{e.current.type!=="IDLE"&&(e.current=bb,n.current(),s())},[s]),a=te(()=>{const d=e.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=te(function(){const h={capture:!0,passive:!1},f=N7({cancel:a,completed:o,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=Pn(window,f,h)},[a,o]),u=te(function(h,f){e.current.type!=="IDLE"&&H(),e.current={type:"PENDING",point:f,actions:h},l()},[l]);wn(function(){return s(),function(){n.current()}},[s])}function D7(){}const M7={[I7]:!0,[b7]:!0,[x7]:!0,[S7]:!0};function L7(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===y0){i.preventDefault(),n();return}if(i.keyCode===TR){i.preventDefault(),r();return}if(i.keyCode===P7){i.preventDefault(),t.moveDown();return}if(i.keyCode===C7){i.preventDefault(),t.moveUp();return}if(i.keyCode===R7){i.preventDefault(),t.moveRight();return}if(i.keyCode===T7){i.preventDefault(),t.moveLeft();return}if(M7[i.keyCode]){i.preventDefault();return}CR(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Af,fn:n}]}function V7(t){const e=k.useRef(D7),n=Ie(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==TR)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();e.current();function d(){l||H(),l=!1,e.current(),r()}e.current=Pn(window,L7(u,d),{capture:!0,passive:!1})}}),[t]),r=te(function(){const s={passive:!1,capture:!0};e.current=Pn(window,[n],s)},[n]);wn(function(){return r(),function(){e.current()}},[r])}const Xp={type:"IDLE"},F7=120,j7=.15;function U7({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===y0&&n.preventDefault(),t()}},{eventName:Af,fn:t}]}function B7({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&H();const s=r.touches[0];if(!s||!(s.force>=j7))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:Af,fn:t}]}function $7(t){const e=k.useRef(Xp),n=k.useRef(Ci),r=te(function(){return e.current},[]),i=te(function(m){e.current=m},[]),s=Ie(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const y=t.findClosestDraggableId(m);if(!y)return;const I=t.tryGetLock(y,a,{sourceEvent:m});if(!I)return;const E=m.touches[0],{clientX:v,clientY:_}=E,x={x:v,y:_};n.current(),h(I,x)}}),[t]),o=te(function(){const m={capture:!0,passive:!1};n.current=Pn(window,[s],m)},[s]),a=te(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(Xp),n.current(),o())},[o,i]),l=te(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=te(function(){const m={capture:!0,passive:!1},y={cancel:l,completed:a,getPhase:r},I=Pn(window,B7(y),m),E=Pn(window,U7(y),m);n.current=function(){I(),E()}},[l,r,a]),d=te(function(){const m=r();m.type!=="PENDING"&&H();const y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[r,i]),h=te(function(m,y){r().type!=="IDLE"&&H();const I=setTimeout(d,F7);i({type:"PENDING",point:y,actions:m,longPressTimerId:I}),u()},[u,r,i,d]);wn(function(){return o(),function(){n.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(Xp))}},[r,o,i]),wn(function(){return Pn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const z7=["input","button","textarea","select","option","optgroup","video","audio"];function PR(t,e){if(e==null)return!1;if(z7.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:PR(t,e.parentElement)}function H7(t,e){const n=e.target;return Rf(n)?PR(t,n):!1}var W7=t=>zn(t.getBoundingClientRect()).center;function G7(t){return t instanceof SR(t).Element}const q7=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function AR(t,e){return t==null?null:t[q7](e)?t:AR(t.parentElement,e)}function K7(t,e){return t.closest?t.closest(e):AR(t,e)}function Q7(t){return`[${zo.contextId}="${t}"]`}function Y7(t,e){const n=e.target;if(!G7(n))return null;const r=Q7(t),i=K7(n,r);return!i||!Rf(i)?null:i}function Z7(t,e){const n=Y7(t,e);return n?n.getAttribute(zo.draggableId):null}function X7(t,e){const n=`[${Bg.contextId}="${t}"]`,i=IR(document,n).find(s=>s.getAttribute(Bg.id)===e);return!i||!Rf(i)?null:i}function J7(t){t.preventDefault()}function Cc({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function kR({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!_R(e.getState(),r))}function ez({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!kR({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=X7(e,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&H7(u,o))return null;const d=t.claim(s||Ci);let h="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}function y(N,D){Cc({expected:N,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(D())}const I=y.bind(null,"DRAGGING");function E(N){function D(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(D(),H()),n.dispatch(KB(N.liftActionArgs)),h="DRAGGING";function S(w,R={shouldBlockNextClick:!1}){if(N.cleanup(),R.shouldBlockNextClick){const C=Pn(window,[{eventName:"click",fn:J7,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(C)}D(),n.dispatch(dR({reason:w}))}return{isActive:()=>Cc({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,drop:w=>S("DROP",w),cancel:w=>S("CANCEL",w),...N.actions}}function v(N){const D=ru(w=>{I(()=>cR({client:w}))});return{...E({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function _(){const N={moveUp:()=>I(r$),moveRight:()=>I(s$),moveDown:()=>I(i$),moveLeft:()=>I(o$)};return E({liftActionArgs:{id:i,clientSelection:W7(u),movementMode:"SNAP"},cleanup:Ci,actions:N})}function x(){Cc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>Cc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:v,snapLift:_,abort:x}}const tz=[O7,V7,$7];function nz({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?tz:[],...r||[]],o=k.useState(()=>_7())[0],a=te(function(E,v){uu(E)&&!uu(v)&&o.tryAbandon()},[o]);wn(function(){let E=e.getState();return e.subscribe(()=>{const _=e.getState();a(E,_),E=_})},[o,e,a]),wn(()=>o.tryAbandon,[o.tryAbandon]);const l=te(I=>kR({lockAPI:o,registry:n,store:e,draggableId:I}),[o,n,e]),u=te((I,E,v)=>ez({lockAPI:o,registry:n,contextId:t,store:e,draggableId:I,forceSensorStop:E||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[t,o,n,e]),d=te(I=>Z7(t,I),[t]),h=te(I=>{const E=n.draggable.findById(I);return E?E.options:null},[n.draggable]),f=te(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(u0()))},[o,e]),m=te(()=>o.isClaimed(),[o]),y=Ie(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:m}),[l,u,d,h,f,m]);for(let I=0;I<s.length;I++)s[I](y)}const rz=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};mu.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),iz=t=>({...lu,...t.autoScrollerOptions,durationDampening:{...lu.durationDampening,...t.autoScrollerOptions}});function Aa(t){return t.current||H(),t.current}function sz(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=k.useRef(null),a=xR(t),l=te(()=>rz(a.current),[a]),u=te(()=>iz(a.current),[a]),d=m7(e),h=y7({contextId:e,text:s}),f=l7(e,i),m=te(C=>{Aa(o).dispatch(C)},[]),y=Ie(()=>KE({publishWhileDragging:YB,updateDroppableScroll:XB,updateDroppableIsEnabled:JB,updateDroppableIsCombineEnabled:e$,collectionStarting:ZB},m),[m]),I=h7(),E=Ie(()=>U$(I,y),[I,y]),v=Ie(()=>r7({scrollWindow:B$,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:u,...KE({move:cR},m)}),[E.scrollDroppable,m,u]),_=c7(e),x=Ie(()=>L$({announce:d,autoScroller:v,dimensionMarshal:E,focusMarshal:_,getResponders:l,styleMarshal:f}),[d,v,E,_,l,f]);o.current=x;const A=te(()=>{const C=Aa(o);C.getState().phase!=="IDLE"&&C.dispatch(u0())},[]),N=te(()=>{const C=Aa(o).getState();return C.phase==="DROP_ANIMATING"?!0:C.phase==="IDLE"?!1:C.isDragging},[]),D=Ie(()=>({isDragging:N,tryAbort:A}),[N,A]);n(D);const S=te(C=>_R(Aa(o).getState(),C),[]),w=te(()=>ts(Aa(o).getState()),[]),R=Ie(()=>({marshal:E,focus:_,contextId:e,canLift:S,isMovementAllowed:w,dragHandleUsageInstructionsId:h,registry:I}),[e,E,h,_,S,w,I]);return nz({contextId:e,store:x,registry:I,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),k.useEffect(()=>A,[A]),ke.createElement(Pf.Provider,{value:R},ke.createElement(PU,{context:g0,store:x},t.children))}function oz(){return ke.useId()}function az(t){const e=oz(),n=t.dragHandleUsageInstructions||td.dragHandleUsageInstructions;return ke.createElement(FU,null,r=>ke.createElement(sz,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const Ib={dragging:5e3,dropAnimating:4500},lz=(t,e)=>e?ll.drop(e.duration):t?ll.snap:ll.fluid,uz=(t,e)=>{if(t)return e?au.opacity.drop:au.opacity.combining},cz=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function dz(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=cz(t),l=!!s,u=l?jg.drop(r,o):jg.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:lz(a,s),transform:u,opacity:uz(o,l),zIndex:l?Ib.dropAnimating:Ib.dragging,pointerEvents:"none"}}function hz(t){return{transform:jg.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function fz(t){return t.type==="DRAGGING"?dz(t):hz(t)}function pz(t,e,n=_t){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=jC(i,r),o=vh(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function mz(t){const e=v0("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=Ie(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=te(m=>{const y=i();return y||H(),pz(n,y,m)},[n,i]),d=Ie(()=>({uniqueId:e,descriptor:n,options:l,getDimension:u}),[n,u,l,e]),h=k.useRef(d),f=k.useRef(!0);wn(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),wn(()=>{if(f.current){f.current=!1;return}const m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}var _0=ke.createContext(null);function bh(t){const e=k.useContext(t);return e||H(),e}function gz(t){t.preventDefault()}const vz=t=>{const e=k.useRef(null),n=te((D=null)=>{e.current=D},[]),r=te(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=bh(Pf),{type:a,droppableId:l}=bh(_0),u=Ie(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:y,isClone:I,mapped:E,dropAnimationFinished:v}=t;if(!I){const D=Ie(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:m,isEnabled:f}),[u,o,r,y,m,f]);mz(D)}const _=Ie(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:gz}:null,[i,s,h,f]),x=te(D=>{E.type==="DRAGGING"&&E.dropping&&D.propertyName==="transform"&&mu.flushSync(v)},[v,E]),A=Ie(()=>{const D=fz(E),S=E.type==="DRAGGING"&&E.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:D,onTransitionEnd:S},dragHandleProps:_}},[i,_,h,E,x,n]),N=Ie(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return ke.createElement(ke.Fragment,null,d(A,E.snapshot,N))};var NR=(t,e)=>t===e,OR=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const yz=t=>t.combine?t.combine.draggableId:null,_z=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function wz(){const t=pt((i,s)=>({x:i,y:s})),e=pt((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=pt((i,s,o,a,l=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:d,snapshot:e(s,a,l,u,null)}}));return(i,s)=>{if(uu(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=_n(i.impact),u=_z(i.impact),d=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,u,d)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],u=o.result,d=u.mode,h=OR(u),f=yz(u),y={duration:i.dropDuration,curve:d0.drop,moveTo:i.newHomeClientOffset,opacity:f?au.opacity.drop:null,scale:f?au.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:y,draggingOver:h,combineWith:f,mode:d,forceShouldAnimate:null,snapshot:e(d,a,h,f,y)}}}return null}}function DR(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const Ez={mapped:{type:"SECONDARY",offset:_t,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:DR(null)}};function bz(){const t=pt((o,a)=>({x:o,y:a})),e=pt(DR),n=pt((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(_t,o,!0):null,i=(o,a,l,u)=>{const d=l.displaced.visible[o],h=!!(u.inVirtualList&&u.effected[o]),f=xf(l),m=f&&f.draggableId===o?a:null;if(!d){if(!h)return r(m);if(l.displaced.invisible[o])return null;const E=ea(u.displacedBy.point),v=t(E.x,E.y);return n(v,m,!0)}if(h)return r(m);const y=l.displacedBy.point,I=t(y.x,y.y);return n(I,m,d.shouldAnimate)};return(o,a)=>{if(uu(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const Iz=()=>{const t=wz(),e=bz();return(r,i)=>t(r,i)||e(r,i)||Ez},Sz={dropAnimationFinished:hR},xz=VC(Iz,Sz,null,{context:g0,areStatePropsEqual:NR})(vz);function MR(t){return bh(_0).isUsingCloneFor===t.draggableId&&!t.isClone?null:ke.createElement(xz,t)}function Tz(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return ke.createElement(MR,ie({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const LR=t=>e=>t===e,Cz=LR("scroll"),Rz=LR("auto"),Sb=(t,e)=>e(t.overflowX)||e(t.overflowY),Pz=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Sb(n,Cz)||Sb(n,Rz)},Az=()=>!1,VR=t=>t==null?null:t===document.body?Az()?t:null:t===document.documentElement?null:Pz(t)?t:VR(t.parentElement);var $g=t=>({x:t.scrollLeft,y:t.scrollTop});const FR=t=>t?window.getComputedStyle(t).position==="fixed"?!0:FR(t.parentElement):!1;var kz=t=>{const e=VR(t),n=FR(t);return{closestScrollable:e,isFixedOnPage:n}},Nz=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:m}=a,y=gR({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:y,diff:{value:_t,displacement:_t}}}})(),u=i==="vertical"?i0:QC,d=Bo({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:s,page:o,frame:l,subject:d}};const Oz=(t,e)=>{const n=UC(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=e0({top:r,right:o,bottom:s,left:i},n.border);return t0({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var Dz=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,u=Oz(t,l),d=vh(u,r),h=(()=>{if(!l)return null;const m=UC(l),y={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:vh(m,r),scroll:$g(l),scrollSize:y,shouldClipSubject:a}})();return Nz({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:h})};const Mz={passive:!1},Lz={passive:!0};var xb=t=>t.shouldPublishImmediately?Mz:Lz;const Rc=t=>t&&t.env.closestScrollable||null;function Vz(t){const e=k.useRef(null),n=bh(Pf),r=v0("droppable"),{registry:i,marshal:s}=n,o=xR(t),a=Ie(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=k.useRef(a),u=Ie(()=>pt((A,N)=>{e.current||H();const D={x:A,y:N};s.updateDroppableScroll(a.id,D)}),[a.id,s]),d=te(()=>{const A=e.current;return!A||!A.env.closestScrollable?_t:$g(A.env.closestScrollable)},[]),h=te(()=>{const A=d();u(A.x,A.y)},[d,u]),f=Ie(()=>ru(h),[h]),m=te(()=>{const A=e.current,N=Rc(A);if(A&&N||H(),A.scrollOptions.shouldPublishImmediately){h();return}f()},[f,h]),y=te((A,N)=>{e.current&&H();const D=o.current,S=D.getDroppableRef();S||H();const w=kz(S),R={ref:S,descriptor:a,env:w,scrollOptions:N};e.current=R;const C=Dz({ref:S,descriptor:a,env:w,windowScroll:A,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),O=w.closestScrollable;return O&&(O.setAttribute(_b.contextId,n.contextId),O.addEventListener("scroll",m,xb(R.scrollOptions))),C},[n.contextId,a,m,o]),I=te(()=>{const A=e.current,N=Rc(A);return A&&N||H(),$g(N)},[]),E=te(()=>{const A=e.current;A||H();const N=Rc(A);e.current=null,N&&(f.cancel(),N.removeAttribute(_b.contextId),N.removeEventListener("scroll",m,xb(A.scrollOptions)))},[m,f]),v=te(A=>{const N=e.current;N||H();const D=Rc(N);D||H(),D.scrollTop+=A.y,D.scrollLeft+=A.x},[]),_=Ie(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:I,dragStopped:E,scroll:v}),[E,y,I,v]),x=Ie(()=>({uniqueId:r,descriptor:a,callbacks:_}),[_,a,r]);wn(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&E(),i.droppable.unregister(x)}),[_,a,E,x,s,i.droppable]),wn(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),wn(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function Jp(){}const Tb={width:0,height:0,margin:HU},Fz=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?Tb:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},jz=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=Fz({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ll.placeholder:null}},Uz=t=>{const e=k.useRef(null),n=te(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=k.useState(t.animate==="open");k.useEffect(()=>a?r!=="open"?(n(),l(!1),Jp):e.current?Jp:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):Jp,[r,a,n]);const u=te(h=>{h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=jz({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return ke.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:t.innerRef})};var Bz=ke.memo(Uz);class $z extends ke.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const zz=t=>{const e=k.useContext(Pf);e||H();const{contextId:n,isMovementAllowed:r}=e,i=k.useRef(null),s=k.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:m,snapshot:y,useClone:I,updateViewportMaxScroll:E,getContainerForClone:v}=t,_=te(()=>i.current,[]),x=te((O=null)=>{i.current=O},[]);te(()=>s.current,[]);const A=te((O=null)=>{s.current=O},[]),N=te(()=>{r()&&E({maxScroll:yR()})},[r,E]);Vz({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:_});const D=Ie(()=>ke.createElement($z,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:O,data:M,animate:P})=>ke.createElement(Bz,{placeholder:M,onClose:O,innerRef:A,animate:P,contextId:n,onTransitionEnd:N})),[n,N,t.placeholder,t.shouldAnimatePlaceholder,A]),S=Ie(()=>({innerRef:x,placeholder:D,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,D,x]),w=I?I.dragging.draggableId:null,R=Ie(()=>({droppableId:a,type:l,isUsingCloneFor:w}),[a,w,l]);function C(){if(!I)return null;const{dragging:O,render:M}=I,P=ke.createElement(MR,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(X,G)=>M(X,G,O));return Bk.createPortal(P,v())}return ke.createElement(_0.Provider,{value:R},o(S,y),C())};function Hz(){return document.body||H(),document.body}const Cb={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Hz},jR=t=>{let e={...t},n;for(n in Cb)t[n]===void 0&&(e={...e,[n]:Cb[n]});return e},em=(t,e)=>t===e.droppable.type,Rb=(t,e)=>e.draggables[t.draggable.id],Wz=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=pt(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=pt((s,o,a,l,u,d)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===s){const y=d?{render:d,dragging:n(u.descriptor)}:null,I={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:I,useClone:y}}if(!o)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=jR(o),l=a.droppableId,u=a.type,d=!a.isDropDisabled,h=a.renderClone;if(uu(s)){const f=s.critical;if(!em(u,f))return e;const m=Rb(f,s.dimensions),y=_n(s.impact)===l;return r(l,d,y,y,m,h)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!em(u,f.critical))return e;const m=Rb(f.critical,s.dimensions);return r(l,d,OR(f.result)===l,_n(f.impact)===l,m,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!em(u,f.critical))return e;const m=_n(f.impact)===l,y=!!(f.impact.at&&f.impact.at.type==="COMBINE"),I=f.critical.droppable.id===l;return m?y?t:e:I?t:e}return e}},Gz={updateViewportMaxScroll:n$},qz=VC(Wz,Gz,(t,e,n)=>({...jR(n),...t,...e}),{context:g0,areStatePropsEqual:NR})(zz);var Kz=qz;const Qz=["To do","In progress","Awaiting Feedback","Completed"],Yz=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,s]=k.useState([]),{currentUser:o}=k.useContext(Ds),[a,l]=k.useState(!1),[u,d]=k.useState(null);k.useEffect(()=>{let N,D,S;if(o){const w=Ti(rn,"tasks"),R=Mo(w,Lo("userId","==",o.uid));N=sl(R,M=>{const P=M.docs.map(X=>{const G=X.data(),fe=Array.isArray(G.assignedTo)?G.assignedTo:[G.assignedTo],Ce=Array.isArray(G.subtask)?G.subtask:[];return{id:X.id,title:G.title,description:G.description,priority:G.priority,createdAt:G.createdAt,userId:G.userId,assignedTo:fe,category:G.category,dueDate:G.dueDate,subtask:Ce,status:G.status||"To do"}});e(P)});const C=Ti(rn,"contacts"),O=Mo(C,Lo("userId","==",o.uid));D=sl(O,M=>{const P=M.docs.map(X=>({id:X.id,...X.data()}));r(P)}),S=sl(R,M=>{const P=new Set;M.forEach(X=>{const G=X.data();G.category&&P.add(G.category)}),s(Array.from(P))})}return()=>{N&&N(),D&&D(),S&&S()}},[o]);const h=N=>{const D=n.find(S=>S.id===N);return D?D.name:"Unknown Contact"},f=N=>{const D=n.find(S=>S.id===N);return D&&D.name?D.name.split(" ").map(R=>R[0]).join("").toUpperCase():"?"},m=N=>{var w,R;const D=(w=N.subtask)==null?void 0:w.length;return`${(R=N.subtask)==null?void 0:R.filter(C=>C.status==="done").length}/${D}`},y=N=>{switch(N){case"Urgent":return"text-red-500";case"Normal":return"text-yellow-500";case"Low":return"text-green-500";default:return"text-gray-500"}},I=N=>{d(N),l(!0)},E=()=>{d(null),l(!1)},v=async N=>{if(o&&N.id)try{const D=us(rn,"tasks",N.id);await Gd(D,{title:N.title,description:N.description,priority:N.priority,assignedTo:N.assignedTo,category:N.category,dueDate:N.dueDate,subtask:N.subtask,status:N.status}),E()}catch(D){console.error("Error updating task:",D)}},_=async N=>{if(o&&N){if(!window.confirm("Are you sure you want to delete this task? This action cannot be undone."))return;try{const S=us(rn,"tasks",N);await f2(S)}catch(S){console.error("Error deleting task:",S)}}},x=async N=>{const{destination:D,source:S,draggableId:w}=N;if(!D||D.droppableId===S.droppableId&&D.index===S.index)return;const R=t.find(O=>O.id===w);if(!R)return;const C=D.droppableId;if(C!==R.status)try{const O=us(rn,"tasks",R.id);await Gd(O,{status:C})}catch(O){console.error("Error updating task status:",O)}},A={"To do":[],"In progress":[],"Awaiting Feedback":[],Completed:[]};return t.forEach(N=>{const D=N.status||"To do";A[D]?A[D].push(N):A["To do"].push(N)}),o?b.jsxs("div",{className:"p-6 min-h-screen",children:[b.jsx("h1",{className:"text-3xl md:text-4xl mb-6 text-center font-bold text-blue-700",children:"Task Board"}),t.length===0?b.jsx("p",{className:"text-gray-700 text-center text-lg",children:"Your tasks will appear here."}):b.jsx(az,{onDragEnd:x,children:b.jsx("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:Qz.map(N=>b.jsx(Kz,{droppableId:N,children:(D,S)=>b.jsxs("div",{ref:D.innerRef,...D.droppableProps,className:`flex-1 bg-gray-100 p-4 rounded-md shadow-md ${S.isDraggingOver?"bg-blue-50":""}`,children:[b.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:N}),A[N].length===0?null:A[N].map((w,R)=>b.jsx(Tz,{draggableId:w.id,index:R,children:(C,O)=>b.jsxs("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,className:`bg-white p-4 rounded-lg shadow mb-4 ${O.isDragging?"bg-blue-100":"bg-white"} transition-colors duration-200`,children:[b.jsx("div",{className:`text-2xl font-medium mb-2 ${y(w.priority)}`,children:w.priority}),b.jsx("h3",{className:"text-lg font-semibold mb-2",children:w.title}),b.jsx("p",{className:"text-gray-700 mb-2",children:w.description.length>50?w.description.slice(0,47)+"...":w.description}),b.jsx("div",{className:"flex items-center mb-2",children:w.assignedTo.map(M=>{const P=f(M);return b.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mr-2 text-xs",title:h(M),children:P},M)})}),w.subtask&&w.subtask.length>0&&b.jsxs("p",{className:"text-gray-600 mb-2",children:[b.jsx("strong",{children:"Subtasks:"})," ",m(w)]}),b.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[b.jsx("button",{onClick:()=>I(w),className:"text-blue-700 hover:text-blue-800",children:b.jsx(Xl,{size:25})}),b.jsx("button",{onClick:()=>_(w.id),className:"text-red-700 hover:text-red-800",children:b.jsx(Vy,{size:25})})]})]})},w.id)),D.placeholder]})},N))})}),a&&u&&b.jsx(x8,{task:u,contacts:n,categories:i,onClose:E,onUpdate:v})]}):b.jsx("div",{className:"p-6",children:b.jsx("h1",{className:"text-3xl font-bold mb-4 text-center text-blue-700",children:"Please log in to view your tasks."})})},Zz=()=>{var i;const{currentUser:t}=k.useContext(Ds),[e,n]=k.useState(!1),r=async()=>{try{await E4(vo)}catch(s){console.error("Error signing out:",s)}};return b.jsxs("nav",{className:"bg-gray-800 ",children:[b.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex justify-between items-center h-16",children:[b.jsxs(at,{to:"/summary",className:"text-white text-2xl md:text-3xl font-bold flex items-center",children:[b.jsx(ds,{className:"mr-2"})," Kanban"]}),b.jsx("div",{className:"md:hidden",children:b.jsx("button",{onClick:()=>n(!e),className:"text-white focus:outline-none","aria-label":"Toggle navigation menu","aria-expanded":e,children:e?b.jsx(lf,{className:"text-2xl"}):b.jsx(_5,{className:"text-2xl"})})}),b.jsx("div",{className:"hidden md:flex md:items-center md:space-x-2",children:t?b.jsxs(b.Fragment,{children:[b.jsxs(at,{to:"/summary",className:"flex items-center  text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(ds,{className:"mr-2"}),"Summary"]}),b.jsxs(at,{to:"/dashboard",className:"flex items-center  text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(fE,{className:"mr-2"}),"Dashboard"]}),b.jsxs(at,{to:"/create-task",className:"flex items-center  text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(Jl,{className:"mr-2"}),"Create Task"]}),b.jsxs(at,{to:"/contacts",className:"flex items-center  text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(uE,{className:"mr-2"}),"Contacts"]}),b.jsxs("div",{className:"text-white px-4 flex items-center",children:[b.jsx(pE,{className:"mr-2",size:30}),(i=t.email)==null?void 0:i.slice(0,1)]}),b.jsxs("button",{onClick:r,className:"flex items-center  text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(hE,{className:"mr-2"}),"Logout"]})]}):b.jsxs(b.Fragment,{children:[b.jsxs(at,{to:"/login",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[b.jsx(dE,{className:"mr-2"}),"Login"]}),b.jsxs(at,{to:"/signup",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[b.jsx(mE,{className:"mr-2"}),"Sign Up"]})]})})]}),e&&b.jsx("div",{className:"md:hidden",children:b.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:t?b.jsxs(b.Fragment,{children:[b.jsxs(at,{to:"/summary",onClick:()=>n(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[b.jsx(ds,{className:"mr-2"}),"Summary"]}),b.jsxs(at,{to:"/dashboard",onClick:()=>n(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[b.jsx(fE,{className:"mr-2"}),"Dashboard"]}),b.jsxs(at,{to:"/create-task",onClick:()=>n(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[b.jsx(Jl,{className:"mr-2"}),"Create Task"]}),b.jsxs(at,{to:"/contacts",onClick:()=>n(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[b.jsx(uE,{className:"mr-2"}),"Contacts"]}),b.jsxs("span",{className:"text-white flex items-center mt-2",children:[b.jsx(pE,{className:"mr-2"}),t.email]}),b.jsxs("button",{onClick:()=>{r(),n(!1)},className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[b.jsx(hE,{className:"mr-2"}),"Logout"]})]}):b.jsxs(b.Fragment,{children:[b.jsxs(at,{to:"/login",onClick:()=>n(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[b.jsx(dE,{className:"mr-2"}),"Login"]}),b.jsxs(at,{to:"/signup",onClick:()=>n(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200 mt-2",children:[b.jsx(mE,{className:"mr-2"}),"Sign Up"]})]})})})]})},Xz=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState("Normal"),[o,a]=k.useState([]),[l,u]=k.useState([]),[d,h]=k.useState(""),[f,m]=k.useState([]),[y,I]=k.useState(""),[E,v]=k.useState(""),[_,x]=k.useState([]),[A,N]=k.useState(""),D=vu(),{currentUser:S}=k.useContext(Ds);k.useEffect(()=>{const P=async()=>{if(S)try{const G=Ti(rn,"contacts"),fe=Mo(G,Lo("userId","==",S.uid)),V=(await Jw(fe)).docs.map(B=>({id:B.id,...B.data()}));u(V)}catch(G){console.error("Error fetching contacts:",G)}},X=async()=>{if(S)try{const G=Ti(rn,"tasks"),fe=Mo(G,Lo("userId","==",S.uid)),Ce=await Jw(fe),V=new Set;Ce.forEach(B=>{const K=B.data();K.category&&V.add(K.category)}),m(Array.from(V))}catch(G){console.error("Error fetching categories:",G)}};P(),X()},[S]);const w=async P=>{if(P.preventDefault(),N(""),!S){N("You must be logged in to create a task.");return}if(t.trim()===""||n.trim()===""||o.length===0||d.trim()===""||y.trim()===""){N("Title, Description, Assigned To, Category, and Due Date are required.");return}try{await p2(Ti(rn,"tasks"),{title:t,description:n,priority:i,assignedTo:o.map(X=>X.id),category:d,dueDate:Fe.fromDate(new Date(y)),createdAt:Fe.fromDate(new Date),userId:S.uid,subtask:_,status:"To do"}),D("/dashboard")}catch(X){console.error("Error adding task:",X),X instanceof Bt||X instanceof Error?N(X.message):N("Failed to create task. Please try again.")}},R=()=>{if(E.trim()!==""){const P={description:E.trim(),status:"not done"};x([..._,P]),v("")}},C=P=>{const X=_.filter((G,fe)=>fe!==P);x(X)},O=()=>{e(""),r(""),s("Normal"),a([]),h(""),I(""),x([]),v(""),N("")},M=P=>{const X=P.trim();X&&!f.includes(X)&&m(G=>[...G,X]),h(X)};return b.jsx("div",{className:"flex items-center justify-center my-10 bg-gradient-to-r p-4",children:b.jsxs("form",{onSubmit:w,className:"bg-white p-8 rounded-lg shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full max-w-4xl",children:[b.jsx("h2",{className:"text-3xl md:text-4xl mb-6 text-center font-bold  flex items-center justify-center",children:"Create New Task"}),A&&b.jsx("div",{className:"mb-6 text-red-500 text-md",children:A}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),b.jsxs("div",{className:"relative",children:[b.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:P=>e(P.target.value),placeholder:"Task Title"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),b.jsxs("div",{className:"relative",children:[b.jsx(xg,{className:"absolute left-3 top-3 text-gray-400"}),b.jsx("textarea",{required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:P=>r(P.target.value),placeholder:"Task Description",rows:4})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),b.jsxs("div",{className:"relative",children:[b.jsx(sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("div",{className:"pl-12",children:b.jsx(CC,{isMulti:!0,options:l.map(P=>({value:P.id,label:`${P.name} (${P.email})`})),className:"react-select-container",classNamePrefix:"react-select",value:o.map(P=>({value:P.id,label:`${P.name} (${P.email})`})),onChange:P=>{a(P.map(X=>l.find(fe=>fe.id===X.value)))},placeholder:"Select Contacts"})})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),b.jsxs("div",{className:"relative",children:[b.jsx(N2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("div",{className:"pl-12",children:b.jsx(RC,{isClearable:!0,options:f.map(P=>({value:P,label:P})),value:d?{value:d,label:d}:null,onChange:P=>{h(P?P.value:"")},onCreateOption:M,placeholder:"Enter or select a category"})})]})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),b.jsxs("div",{className:"relative",children:[b.jsx(A2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:P=>I(P.target.value)})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),b.jsxs("div",{className:"flex",children:[b.jsxs("div",{className:"relative w-full",children:[b.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E,onChange:P=>v(P.target.value),placeholder:"Enter a subtask"})]}),b.jsx("button",{type:"button",onClick:R,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200",children:"Add"})]}),_.length>0&&b.jsx("ul",{className:"mt-4",children:_.map((P,X)=>b.jsxs("li",{className:"flex items-center justify-between bg-gray-200 p-3 rounded-lg mt-2",children:[b.jsx("span",{children:P.description}),b.jsx("button",{type:"button",onClick:()=>C(X),className:"text-red-500 hover:text-red-700 transition-colors duration-200",children:b.jsx(Vy,{})})]},X))})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),b.jsxs("div",{className:"relative",children:[b.jsx(k2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsxs("select",{className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:P=>s(P.target.value),children:[b.jsx("option",{value:"Low",children:"Low"}),b.jsx("option",{value:"Normal",children:"Normal"}),b.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]})]})]}),b.jsxs("div",{className:"flex justify-between mt-6",children:[b.jsxs("button",{type:"button",onClick:O,className:"w-full lg:w-1/2   py-3 rounded-lg hover:text-blue-800 hover:bg-blue-100 transition-colors duration-200 text-lg font-semibold mr-2 flex items-center justify-center  shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] ",children:[b.jsx(b5,{className:"mr-2"}),"Clear"]}),b.jsxs("button",{type:"submit",className:"w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold ml-2 flex items-center justify-center",children:[b.jsx(Jl,{className:"mr-2"}),"Create Task"]})]})]})})},Jz=()=>{const[t,e]=k.useState(""),[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState([]),[d,h]=k.useState(!1),[f,m]=k.useState(null),{currentUser:y}=k.useContext(Ds),[I,E]=k.useState(!1),[v,_]=k.useState(!1),[x,A]=k.useState(null);k.useEffect(()=>{let C;if(y){const O=Ti(rn,"contacts"),M=Mo(O,Lo("userId","==",y.uid));C=sl(M,P=>{const X=P.docs.map(G=>({id:G.id,...G.data()}));u(X)})}return()=>{C&&C()}},[y]);const N=async C=>{if(C.preventDefault(),a(""),!y){a("You must be logged in to create a contact.");return}if(t.trim()===""||n.trim()===""||i.trim()===""){a("All fields are required.");return}try{const O={name:t,email:n,phoneNumber:i,createdAt:Fe.fromDate(new Date),userId:y.uid};if(d&&f){const M=us(rn,"contacts",f);await Gd(M,O),h(!1),m(null),_(!1)}else await p2(Ti(rn,"contacts"),O),E(!1);e(""),r(""),s("")}catch(O){console.error("Error adding/updating contact:",O),O instanceof Bt||O instanceof Error?a(O.message):a("Failed to create/update contact. Please try again.")}},D=()=>{h(!1),e(""),r(""),s(""),a(""),E(!0)},S=C=>{h(!0),A(C),e(C.name),r(C.email),s(C.phoneNumber),a(""),m(C.id||null),_(!0)},w=()=>{E(!1),_(!1),A(null),e(""),r(""),s(""),h(!1),a(""),m(null)},R=async()=>{if(x&&x.id&&y){if(!window.confirm("Are you sure you want to delete this contact? This action cannot be undone."))return;try{const O=us(rn,"contacts",x.id);await f2(O),w()}catch(O){console.error("Error deleting contact:",O),a("Failed to delete contact. Please try again.")}}};return y?b.jsxs("div",{className:"w-full relative ",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[b.jsx("div",{className:"fixed md:top-1/2 md:left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-[90vh] left-[50vw]  z-50 ",children:b.jsxs("button",{onClick:D,className:"bg-gray-700 hover:bg-blue-400 text-white py-6 px-12 rounded-full text-xl font-semibold flex items-center shadow-lg transition-transform transform hover:scale-105",children:[b.jsx(Jl,{className:"mr-2"}),"New Contact"]})}),b.jsx("div",{className:"md:w-[20vw] max-h-[95vh] overflow-y-auto scroll-smooth",children:l.length===0?b.jsx("div",{className:"text-gray-700 mt-[5vh] justify-center items-center text-center text-2xl",children:"No contacts available."}):b.jsx("div",{className:"bg-white",children:l.map(C=>b.jsxs("div",{onClick:()=>S(C),className:"group bg-white mx-8 my-6 py-2 pl-12 border-b-2 rounded-t-xl border-gray-500 flex justify-betwen items-center cursor-pointer hover:bg-gray-700  transition-colors duration-200 ",children:[b.jsx("div",{className:" w-12 h-12 rounded-full bg-blue-600 group-hover:bg-blue-400 flex items-center justify-center text-white font-bold mr-4",children:C.name.charAt(0).toUpperCase()}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xl font-bold text-gray-700 group-hover:text-white",children:C.name}),b.jsx("p",{className:"text-blue-700 flex items-center mt-2 group-hover:text-white",children:C.email}),b.jsx("p",{className:"flex items-center mt-1 text-green-800 group-hover:text-white",children:C.phoneNumber})]})]},C.id))})})]}),I&&b.jsx(Tg,{onClose:w,children:b.jsxs("form",{onSubmit:N,className:"bg-white p-8 rounded-lg",children:[b.jsx("h2",{className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:"New Contact"}),o&&b.jsx("div",{className:"mb-6 text-red-500 text-md",children:o}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-lg font-medium mb-2",children:"Name"}),b.jsxs("div",{className:"relative",children:[b.jsx(sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"name",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:C=>e(C.target.value),placeholder:"Full Name"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:C=>r(C.target.value),placeholder:"you@example.com"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"phoneNumber",className:"block text-gray-700 text-lg font-medium mb-2",children:"Phone Number"}),b.jsxs("div",{className:"relative",children:[b.jsx(cE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"phoneNumber",type:"tel",required:!0,pattern:"[0-9]{10}",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:C=>s(C.target.value),placeholder:"1234567890"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4",children:[b.jsxs("button",{type:"submit",className:"w-full md:w-1/2 bg-gray-500 hover:bg-green-700 text-white py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",children:[b.jsx(Jl,{className:"mr-2"}),"Create Contact"]}),b.jsxs("button",{type:"button",onClick:w,className:"w-full md:w-1/2 hover:text-blue-800 hover:bg-blue-100 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",children:[b.jsx(lf,{className:"mr-2"}),"Cancel"]})]})]})}),v&&x&&b.jsx(Tg,{onClose:w,children:b.jsxs("form",{onSubmit:N,className:"bg-white p-8 rounded-lg ",children:[b.jsx("h2",{className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:"Edit Contact"}),o&&b.jsx("div",{className:"mb-6 text-red-500 text-md",children:o}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"editName",className:"block text-gray-700 text-lg font-medium mb-2",children:"Name"}),b.jsxs("div",{className:"relative",children:[b.jsx(sh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"editName",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:C=>e(C.target.value),placeholder:"Full Name"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"editEmail",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"editEmail",type:"email",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:C=>r(C.target.value),placeholder:"you@example.com"})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"editPhoneNumber",className:"block text-gray-700 text-lg font-medium mb-2",children:"Phone Number"}),b.jsxs("div",{className:"relative",children:[b.jsx(cE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),b.jsx("input",{id:"editPhoneNumber",type:"tel",required:!0,pattern:"[0-9]{10}",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:C=>s(C.target.value),placeholder:"1234567890"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4",children:[b.jsxs("button",{type:"submit",className:"w-full md:w-1/2 bg-gray-500 hover:bg-green-700 text-white py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",children:[b.jsx(Xl,{className:"mr-2"}),"Update Contact"]}),b.jsxs("button",{type:"button",onClick:R,className:"w-full md:w-1/2 hover:text-red-700 outline outline-1 hover:outline-red-700 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0",children:[b.jsx(T5,{className:"mr-2"}),"Delete Contact"]})]})]})})]}):b.jsx("div",{className:"container mx-auto p-6",children:b.jsx("h1",{className:"text-3xl font-bold mb-4 text-center text-blue-700",children:"Please log in to manage your contacts."})})},Pc=({children:t})=>{const{currentUser:e,loading:n}=k.useContext(Ds);return n?null:e?t:b.jsx(RN,{to:"/login",replace:!0})},eH=()=>{const[t,e]=k.useState([]),[n,r]=k.useState({}),[i,s]=k.useState([]),{currentUser:o}=k.useContext(Ds);if(k.useEffect(()=>{let d;if(o){const h=Ti(rn,"tasks"),f=Mo(h,Lo("userId","==",o.uid));d=sl(f,m=>{const y=m.docs.map(v=>{const _=v.data(),x=Array.isArray(_.assignedTo)?_.assignedTo:[_.assignedTo];return{id:v.id,..._,assignedTo:x}});e(y);const I={};y.forEach(v=>{const _=v.status;I[_]=(I[_]||0)+1}),r(I);const E=y.filter(v=>v.priority==="Urgent");s(E)})}return()=>{d&&d()}},[o]),!o)return b.jsx("div",{className:"p-6",children:b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Please log in to view the summary."})});const a="rounded-2xl p-8 flex flex-col items-center justify-center hover:bg-gray-700 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",l="text-3xl text-center font-medium",u="text-3xl md:text-5xl font-bold";return b.jsxs("div",{className:"container mx-auto py-6 w-full",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold mt-6 mb-10 text-center",children:"Summary"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[b.jsx("div",{className:"bg-white rounded-lg p-8",children:b.jsxs("div",{className:"transition duration-200 text-center grid grid-cols-2 sm:grid-cols-3 gap-8",children:[b.jsxs(at,{to:"/dashboard",className:a,children:[b.jsx("p",{className:l,children:"Total Tasks"}),b.jsx("p",{className:u,children:t.length})]}),b.jsxs(at,{to:"/dashboard",className:a,children:[b.jsx(Xl,{size:50,className:"text-5xl mb-4 text-blue-600"}),b.jsx("p",{className:"text-xl font-medium",children:"To Do"}),b.jsx("p",{className:u,children:n["To do"]||0})]}),b.jsxs(at,{to:"/dashboard",className:a,children:[b.jsx(S5,{className:"text-5xl mb-4 text-zinc-400"}),b.jsx("p",{className:"text-xl font-medium",children:"In Progress"}),b.jsx("p",{className:u,children:n["In progress"]||0})]}),b.jsxs(at,{to:"/dashboard",className:a,children:[b.jsx(E5,{className:"text-orange-600 text-5xl mb-4"}),b.jsx("p",{className:"text-xl font-medium",children:"Awaiting Feedback"}),b.jsx("p",{className:u,children:n["Awaiting Feedback"]||0})]}),b.jsxs(at,{to:"/dashboard",className:a,children:[b.jsx(w5,{className:"text-green-600 text-5xl mb-4"}),b.jsx("p",{className:"text-xl font-medium",children:"Completed"}),b.jsx("p",{className:u,children:n.Completed||0})]})]})}),b.jsxs("div",{className:"bg-white rounded-lg p-8",children:[b.jsxs("h2",{className:"text-3xl md:text-4xl font-semibold mb-8 text-red-700 flex items-center",children:[b.jsx(I5,{className:"mr-4 text-4xl md:text-5xl"})," Urgent Tasks"]}),i.length===0?b.jsx("p",{className:"text-gray-800 text-xl",children:"No urgent tasks."}):b.jsx("ul",{children:i.map(d=>b.jsx("li",{className:"mb-6",children:b.jsx(at,{to:"/dashboard",className:"block border-l-4 border-red-600 rounded-xl p-6 hover:bg-red-400 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{className:"font-semibold text-xl",children:d.title}),b.jsxs("span",{className:"text-lg",children:["Due by"," ",d.dueDate instanceof Fe?d.dueDate.toDate().toLocaleDateString():"No Due Date"]})]})})},d.id))})]})]})]})},tH=()=>b.jsx(C5,{children:b.jsxs(VN,{basename:"/kanban-board",children:[b.jsx(Zz,{}),b.jsxs(AN,{children:[b.jsx(Jr,{path:"/dashboard",element:b.jsx(Pc,{children:b.jsx(Yz,{})})}),b.jsx(Jr,{path:"/summary",element:b.jsx(Pc,{children:b.jsx(eH,{})})}),b.jsx(Jr,{path:"/create-task",element:b.jsx(Pc,{children:b.jsx(Xz,{})})}),b.jsx(Jr,{path:"/contacts",element:b.jsx(Pc,{children:b.jsx(Jz,{})})}),b.jsx(Jr,{path:"/signup",element:b.jsx(d5,{})}),b.jsx(Jr,{path:"/login",element:b.jsx(gE,{})}),b.jsx(Jr,{path:"*",element:b.jsx(gE,{})})," "]})]})});$S(document.getElementById("root")).render(b.jsx(k.StrictMode,{children:b.jsx(tH,{})}));
