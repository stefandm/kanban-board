function uA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lT={exports:{}},Vh={},uT={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),cA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),hA=Symbol.for("react.strict_mode"),fA=Symbol.for("react.profiler"),pA=Symbol.for("react.provider"),mA=Symbol.for("react.context"),gA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),yA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),G_=Symbol.iterator;function bA(t){return t===null||typeof t!="object"?null:(t=G_&&t[G_]||t["@@iterator"],typeof t=="function"?t:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dT=Object.assign,hT={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fT(){}fT.prototype=Zo.prototype;function fv(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}var pv=fv.prototype=new fT;pv.constructor=fv;dT(pv,Zo.prototype);pv.isPureReactComponent=!0;var q_=Array.isArray,pT=Object.prototype.hasOwnProperty,mv={current:null},mT={key:!0,ref:!0,__self:!0,__source:!0};function gT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pT.call(e,r)&&!mT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bu,type:t,key:s,ref:o,props:i,_owner:mv.current}}function wA(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function EA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K_=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EA(""+t.key):e.toString(36)}function $c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bu:case cA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pp(o,0):r,q_(i)?(n="",t!=null&&(n=t.replace(K_,"$&/")+"/"),$c(i,e,n,"",function(u){return u})):i!=null&&(gv(i)&&(i=wA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",q_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pp(s,a);o+=$c(s,e,n,l,i)}else if(l=bA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pp(s,a++),o+=$c(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(t,e,n){if(t==null)return t;var r=[],i=0;return $c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Bc={transition:null},IA={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:mv};function vT(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Zo;Ee.Fragment=dA;Ee.Profiler=fA;Ee.PureComponent=fv;Ee.StrictMode=hA;Ee.Suspense=vA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA;Ee.act=vT;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pT.call(e,l)&&!mT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:mA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pA,_context:t},t.Consumer=t};Ee.createElement=gT;Ee.createFactory=function(t){var e=gT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:gA,render:t}};Ee.isValidElement=gv;Ee.lazy=function(t){return{$$typeof:_A,_payload:{_status:-1,_result:t},_init:TA}};Ee.memo=function(t,e){return{$$typeof:yA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};Ee.unstable_act=vT;Ee.useCallback=function(t,e){return nn.current.useCallback(t,e)};Ee.useContext=function(t){return nn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return nn.current.useEffect(t,e)};Ee.useId=function(){return nn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return nn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Ee.useRef=function(t){return nn.current.useRef(t)};Ee.useState=function(t){return nn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return nn.current.useTransition()};Ee.version="18.3.1";uT.exports=Ee;var N=uT.exports;const Me=hv(N),_l=uA({__proto__:null,default:Me},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=N,xA=Symbol.for("react.element"),CA=Symbol.for("react.fragment"),RA=Object.prototype.hasOwnProperty,PA=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AA={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RA.call(e,r)&&!AA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xA,type:t,key:s,ref:o,props:i,_owner:PA.current}}Vh.Fragment=CA;Vh.jsx=yT;Vh.jsxs=yT;lT.exports=Vh;var T=lT.exports,_T={exports:{}},In={},bT={exports:{}},wT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var z=F.length;F.push(W);e:for(;0<z;){var Z=z-1>>>1,X=F[Z];if(0<i(X,W))F[Z]=W,F[z]=X,z=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],z=F.pop();if(z!==W){F[0]=z;e:for(var Z=0,X=F.length,ie=X>>>1;Z<ie;){var we=2*(Z+1)-1,fe=F[we],Se=we+1,$e=F[Se];if(0>i(fe,z))Se<X&&0>i($e,fe)?(F[Z]=$e,F[Se]=z,Z=Se):(F[Z]=fe,F[we]=z,Z=we);else if(Se<X&&0>i($e,z))F[Z]=$e,F[Se]=z,Z=Se;else break e}}return W}function i(F,W){var z=F.sortIndex-W.sortIndex;return z!==0?z:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function C(F){if(E=!1,x(F),!v)if(n(l)!==null)v=!0,Y(D);else{var W=n(u);W!==null&&U(C,W.startTime-F)}}function D(F,W){v=!1,E&&(E=!1,y(b),b=-1),m=!0;var z=f;try{for(x(W),h=n(l);h!==null&&(!(h.expirationTime>W)||F&&!k());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var X=Z(h.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),x(W)}else r(l);h=n(l)}if(h!==null)var ie=!0;else{var we=n(u);we!==null&&U(C,we.startTime-W),ie=!1}return ie}finally{h=null,f=z,m=!1}}var M=!1,I=null,b=-1,P=5,A=-1;function k(){return!(t.unstable_now()-A<P)}function O(){if(I!==null){var F=t.unstable_now();A=F;var W=!0;try{W=I(!0,F)}finally{W?S():(M=!1,I=null)}}else M=!1}var S;if(typeof w=="function")S=function(){w(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=O,S=function(){$.postMessage(null)}}else S=function(){_(O,0)};function Y(F){I=F,M||(M=!0,S())}function U(F,W){b=_(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Y(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var z=f;f=W;try{return F()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=f;f=F;try{return W()}finally{f=z}},t.unstable_scheduleCallback=function(F,W,z){var Z=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,F={id:d++,callback:W,priorityLevel:F,startTime:z,expirationTime:X,sortIndex:-1},z>Z?(F.sortIndex=z,e(u,F),n(l)===null&&F===n(u)&&(E?(y(b),b=-1):E=!0,U(C,z-Z))):(F.sortIndex=X,e(l,F),v||m||(v=!0,Y(D))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var W=f;return function(){var z=f;f=W;try{return F.apply(this,arguments)}finally{f=z}}}})(wT);bT.exports=wT;var kA=bT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=N,Tn=kA;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ET=new Set,bl={};function Ls(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(bl[t]=e,t=0;t<e.length;t++)ET.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,OA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},Y_={};function DA(t){return Em.call(Y_,t)?!0:Em.call(Q_,t)?!1:OA.test(t)?Y_[t]=!0:(Q_[t]=!0,!1)}function MA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LA(t,e,n,r){if(e===null||typeof e>"u"||MA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vv=/[\-:]([a-z])/g;function yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vv,yv);Nt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vv,yv);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vv,yv);Nt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function _v(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LA(e,n,i,r)&&(n=null),r||i===null?DA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Js=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),bv=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),TT=Symbol.for("react.provider"),IT=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),ST=Symbol.for("react.offscreen"),Z_=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,mp;function Ua(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function vp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ua(t):""}function VA(t){switch(t.tag){case 5:return Ua(t.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Js:return"Portal";case Tm:return"Profiler";case bv:return"StrictMode";case Im:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IT:return(t.displayName||"Context")+".Consumer";case TT:return(t._context.displayName||"Context")+".Provider";case wv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ev:return e=t.displayName||null,e!==null?e:xm(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return xm(t(e))}catch{}}return null}function FA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(e);case 8:return e===bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jA(t){var e=xT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dc(t){t._valueTracker||(t._valueTracker=jA(t))}function CT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(t,e){e=e.checked,e!=null&&_v(t,"checked",e,!1)}function Rm(t,e){RT(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pm(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pm(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $a=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if($a(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function PT(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hc,kT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UA=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){UA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function NT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function OT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $A=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nm(t,e){if(e){if($A[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Tv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mm=null,mo=null,go=null;function n1(t){if(t=Tu(t)){if(typeof Mm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Bh(e),Mm(t.stateNode,t.type,e))}}function DT(t){mo?go?go.push(t):go=[t]:mo=t}function MT(){if(mo){var t=mo,e=go;if(go=mo=null,n1(t),e)for(t=0;t<e.length;t++)n1(e[t])}}function LT(t,e){return t(e)}function VT(){}var yp=!1;function FT(t,e,n){if(yp)return t(e,n);yp=!0;try{return LT(t,e,n)}finally{yp=!1,(mo!==null||go!==null)&&(VT(),MT())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Lm=!1;if(Vr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Lm=!1}function BA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var tl=!1,md=null,gd=!1,Vm=null,zA={onError:function(t){tl=!0,md=t}};function HA(t,e,n,r,i,s,o,a,l){tl=!1,md=null,BA.apply(zA,arguments)}function WA(t,e,n,r,i,s,o,a,l){if(HA.apply(this,arguments),tl){if(tl){var u=md;tl=!1,md=null}else throw Error(G(198));gd||(gd=!0,Vm=u)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r1(t){if(Vs(t)!==t)throw Error(G(188))}function GA(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r1(i),t;if(s===r)return r1(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function UT(t){return t=GA(t),t!==null?$T(t):null}function $T(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$T(t);if(e!==null)return e;t=t.sibling}return null}var BT=Tn.unstable_scheduleCallback,i1=Tn.unstable_cancelCallback,qA=Tn.unstable_shouldYield,KA=Tn.unstable_requestPaint,st=Tn.unstable_now,QA=Tn.unstable_getCurrentPriorityLevel,Iv=Tn.unstable_ImmediatePriority,zT=Tn.unstable_UserBlockingPriority,vd=Tn.unstable_NormalPriority,YA=Tn.unstable_LowPriority,HT=Tn.unstable_IdlePriority,Fh=null,ar=null;function ZA(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Fh,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:ek,XA=Math.log,JA=Math.LN2;function ek(t){return t>>>=0,t===0?32:31-(XA(t)/JA|0)|0}var fc=64,pc=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=n&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),i=1<<n,r|=t[n],e&=~i;return r}function tk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WT(){var t=fc;return fc<<=1,!(fc&4194240)&&(fc=64),t}function _p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function rk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function GT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qT,xv,KT,QT,YT,jm=!1,mc=[],yi=null,_i=null,bi=null,Tl=new Map,Il=new Map,si=[],ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s1(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tu(e),e!==null&&xv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sk(t,e,n,r,i){switch(e){case"focusin":return yi=xa(yi,t,e,n,r,i),!0;case"dragenter":return _i=xa(_i,t,e,n,r,i),!0;case"mouseover":return bi=xa(bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tl.set(s,xa(Tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,xa(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function ZT(t){var e=cs(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=jT(n),e!==null){t.blockedOn=e,YT(t.priority,function(){KT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return e=Tu(n),e!==null&&xv(e),t.blockedOn=n,!1;e.shift()}return!0}function o1(t,e,n){zc(t)&&n.delete(e)}function ok(){jm=!1,yi!==null&&zc(yi)&&(yi=null),_i!==null&&zc(_i)&&(_i=null),bi!==null&&zc(bi)&&(bi=null),Tl.forEach(o1),Il.forEach(o1)}function Ca(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,ok)))}function Sl(t){function e(i){return Ca(i,t)}if(0<mc.length){Ca(mc[0],t);for(var n=1;n<mc.length;n++){var r=mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Ca(yi,t),_i!==null&&Ca(_i,t),bi!==null&&Ca(bi,t),Tl.forEach(e),Il.forEach(e),n=0;n<si.length;n++)r=si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<si.length&&(n=si[0],n.blockedOn===null);)ZT(n),n.blockedOn===null&&si.shift()}var vo=qr.ReactCurrentBatchConfig,_d=!0;function ak(t,e,n,r){var i=Ve,s=vo.transition;vo.transition=null;try{Ve=1,Cv(t,e,n,r)}finally{Ve=i,vo.transition=s}}function lk(t,e,n,r){var i=Ve,s=vo.transition;vo.transition=null;try{Ve=4,Cv(t,e,n,r)}finally{Ve=i,vo.transition=s}}function Cv(t,e,n,r){if(_d){var i=Um(t,e,n,r);if(i===null)Pp(t,e,r,bd,n),s1(t,r);else if(sk(i,t,e,n,r))r.stopPropagation();else if(s1(t,r),e&4&&-1<ik.indexOf(t)){for(;i!==null;){var s=Tu(i);if(s!==null&&qT(s),s=Um(t,e,n,r),s===null&&Pp(t,e,r,bd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pp(t,e,r,null,n)}}var bd=null;function Um(t,e,n,r){if(bd=null,t=Tv(r),t=cs(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bd=t,null}function XT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QA()){case Iv:return 1;case zT:return 4;case vd:case YA:return 16;case HT:return 536870912;default:return 16}default:return 16}}var fi=null,Rv=null,Hc=null;function JT(){if(Hc)return Hc;var t,e=Rv,n=e.length,r,i="value"in fi?fi.value:fi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hc=i.slice(t,1<r?1-r:void 0)}function Wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gc(){return!0}function a1(){return!1}function Sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gc:a1,this.isPropagationStopped=a1,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pv=Sn(Xo),Eu=Je({},Xo,{view:0,detail:0}),uk=Sn(Eu),bp,wp,Ra,jh=Je({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Av,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(bp=t.screenX-Ra.screenX,wp=t.screenY-Ra.screenY):wp=bp=0,Ra=t),bp)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),l1=Sn(jh),ck=Je({},jh,{dataTransfer:0}),dk=Sn(ck),hk=Je({},Eu,{relatedTarget:0}),Ep=Sn(hk),fk=Je({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=Sn(fk),mk=Je({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gk=Sn(mk),vk=Je({},Xo,{data:0}),u1=Sn(vk),yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bk[t])?!!e[t]:!1}function Av(){return wk}var Ek=Je({},Eu,{key:function(t){if(t.key){var e=yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_k[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Av,charCode:function(t){return t.type==="keypress"?Wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tk=Sn(Ek),Ik=Je({},jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c1=Sn(Ik),Sk=Je({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Av}),xk=Sn(Sk),Ck=Je({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rk=Sn(Ck),Pk=Je({},jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=Sn(Pk),kk=[9,13,27,32],kv=Vr&&"CompositionEvent"in window,nl=null;Vr&&"documentMode"in document&&(nl=document.documentMode);var Nk=Vr&&"TextEvent"in window&&!nl,eI=Vr&&(!kv||nl&&8<nl&&11>=nl),d1=" ",h1=!1;function tI(t,e){switch(t){case"keyup":return kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function Ok(t,e){switch(t){case"compositionend":return nI(e);case"keypress":return e.which!==32?null:(h1=!0,d1);case"textInput":return t=e.data,t===d1&&h1?null:t;default:return null}}function Dk(t,e){if(to)return t==="compositionend"||!kv&&tI(t,e)?(t=JT(),Hc=Rv=fi=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eI&&e.locale!=="ko"?null:e.data;default:return null}}var Mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mk[t.type]:e==="textarea"}function rI(t,e,n,r){DT(r),e=wd(e,"onChange"),0<e.length&&(n=new Pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,xl=null;function Lk(t){pI(t,0)}function Uh(t){var e=io(t);if(CT(e))return t}function Vk(t,e){if(t==="change")return e}var iI=!1;if(Vr){var Tp;if(Vr){var Ip="oninput"in document;if(!Ip){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),Ip=typeof p1.oninput=="function"}Tp=Ip}else Tp=!1;iI=Tp&&(!document.documentMode||9<document.documentMode)}function m1(){rl&&(rl.detachEvent("onpropertychange",sI),xl=rl=null)}function sI(t){if(t.propertyName==="value"&&Uh(xl)){var e=[];rI(e,xl,t,Tv(t)),FT(Lk,e)}}function Fk(t,e,n){t==="focusin"?(m1(),rl=e,xl=n,rl.attachEvent("onpropertychange",sI)):t==="focusout"&&m1()}function jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(xl)}function Uk(t,e){if(t==="click")return Uh(e)}function $k(t,e){if(t==="input"||t==="change")return Uh(e)}function Bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:Bk;function Cl(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Em.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function g1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v1(t,e){var n=g1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g1(n)}}function oI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aI(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function Nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zk(t){var e=aI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oI(n.ownerDocument.documentElement,n)){if(r!==null&&Nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v1(n,s);var o=v1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hk=Vr&&"documentMode"in document&&11>=document.documentMode,no=null,$m=null,il=null,Bm=!1;function y1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||no==null||no!==pd(r)||(r=no,"selectionStart"in r&&Nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Cl(il,r)||(il=r,r=wd($m,"onSelect"),0<r.length&&(e=new Pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Sp={},lI={};Vr&&(lI=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function $h(t){if(Sp[t])return Sp[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lI)return Sp[t]=e[n];return t}var uI=$h("animationend"),cI=$h("animationiteration"),dI=$h("animationstart"),hI=$h("transitionend"),fI=new Map,_1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){fI.set(t,e),Ls(e,[t])}for(var xp=0;xp<_1.length;xp++){var Cp=_1[xp],Wk=Cp.toLowerCase(),Gk=Cp[0].toUpperCase()+Cp.slice(1);Wi(Wk,"on"+Gk)}Wi(uI,"onAnimationEnd");Wi(cI,"onAnimationIteration");Wi(dI,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(hI,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function b1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WA(r,e,void 0,t),t.currentTarget=null}function pI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b1(i,a,u),s=l}}}if(gd)throw t=Vm,gd=!1,Vm=null,t}function We(t,e){var n=e[qm];n===void 0&&(n=e[qm]=new Set);var r=t+"__bubble";n.has(r)||(mI(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),mI(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[yc]){t[yc]=!0,ET.forEach(function(n){n!=="selectionchange"&&(qk.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,Rp("selectionchange",!1,e))}}function mI(t,e,n,r){switch(XT(e)){case 1:var i=ak;break;case 4:i=lk;break;default:i=Cv}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FT(function(){var u=s,d=Tv(n),h=[];e:{var f=fI.get(t);if(f!==void 0){var m=Pv,v=t;switch(t){case"keypress":if(Wc(n)===0)break e;case"keydown":case"keyup":m=Tk;break;case"focusin":v="focus",m=Ep;break;case"focusout":v="blur",m=Ep;break;case"beforeblur":case"afterblur":m=Ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=l1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xk;break;case uI:case cI:case dI:m=pk;break;case hI:m=Rk;break;case"scroll":m=uk;break;case"wheel":m=Ak;break;case"copy":case"cut":case"paste":m=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=c1}var E=(e&4)!==0,_=!E&&t==="scroll",y=E?f!==null?f+"Capture":null:f;E=[];for(var w=u,x;w!==null;){x=w;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,y!==null&&(C=El(w,y),C!=null&&E.push(Pl(w,C,x)))),_)break;w=w.return}0<E.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Dm&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Fr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?cs(v):null,v!==null&&(_=Vs(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(E=l1,C="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(E=c1,C="onPointerLeave",y="onPointerEnter",w="pointer"),_=m==null?f:io(m),x=v==null?f:io(v),f=new E(C,w+"leave",m,n,d),f.target=_,f.relatedTarget=x,C=null,cs(d)===u&&(E=new E(y,w+"enter",v,n,d),E.target=x,E.relatedTarget=_,C=E),_=C,m&&v)t:{for(E=m,y=v,w=0,x=E;x;x=qs(x))w++;for(x=0,C=y;C;C=qs(C))x++;for(;0<w-x;)E=qs(E),w--;for(;0<x-w;)y=qs(y),x--;for(;w--;){if(E===y||y!==null&&E===y.alternate)break t;E=qs(E),y=qs(y)}E=null}else E=null;m!==null&&w1(h,f,m,E,!1),v!==null&&_!==null&&w1(h,_,v,E,!0)}}e:{if(f=u?io(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=Vk;else if(f1(f))if(iI)D=$k;else{D=jk;var M=Fk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=Uk);if(D&&(D=D(t,u))){rI(h,D,n,d);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Pm(f,"number",f.value)}switch(M=u?io(u):window,t){case"focusin":(f1(M)||M.contentEditable==="true")&&(no=M,$m=u,il=null);break;case"focusout":il=$m=no=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,y1(h,n,d);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":y1(h,n,d)}var I;if(kv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else to?tI(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(eI&&n.locale!=="ko"&&(to||b!=="onCompositionStart"?b==="onCompositionEnd"&&to&&(I=JT()):(fi=d,Rv="value"in fi?fi.value:fi.textContent,to=!0)),M=wd(u,b),0<M.length&&(b=new u1(b,t,null,n,d),h.push({event:b,listeners:M}),I?b.data=I:(I=nI(n),I!==null&&(b.data=I)))),(I=Nk?Ok(t,n):Dk(t,n))&&(u=wd(u,"onBeforeInput"),0<u.length&&(d=new u1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}pI(h,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=El(t,n),s!=null&&r.unshift(Pl(t,s,i)),s=El(t,e),s!=null&&r.push(Pl(t,s,i))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=El(n,s),l!=null&&o.unshift(Pl(n,l,a))):i||(l=El(n,s),l!=null&&o.push(Pl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kk=/\r\n?/g,Qk=/\u0000|\uFFFD/g;function E1(t){return(typeof t=="string"?t:""+t).replace(Kk,`
`).replace(Qk,"")}function _c(t,e,n){if(e=E1(e),E1(t)!==e&&n)throw Error(G(425))}function Ed(){}var zm=null,Hm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,T1=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof T1<"u"?function(t){return T1.resolve(null).then(t).catch(Xk)}:Gm;function Xk(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),sr="__reactFiber$"+Jo,Al="__reactProps$"+Jo,Fr="__reactContainer$"+Jo,qm="__reactEvents$"+Jo,Jk="__reactListeners$"+Jo,eN="__reactHandles$"+Jo;function cs(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[sr])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Bh(t){return t[Al]||null}var Km=[],so=-1;function Gi(t){return{current:t}}function qe(t){0>so||(t.current=Km[so],Km[so]=null,so--)}function ze(t,e){so++,Km[so]=t.current,t.current=e}var Di={},Gt=Gi(Di),ln=Gi(!1),bs=Di;function Po(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function Td(){qe(ln),qe(Gt)}function S1(t,e,n){if(Gt.current!==Di)throw Error(G(168));ze(Gt,e),ze(ln,n)}function gI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,FA(t)||"Unknown",i));return Je({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,bs=Gt.current,ze(Gt,t),ze(ln,ln.current),!0}function x1(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=gI(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,qe(ln),qe(Gt),ze(Gt,t)):qe(ln),ze(ln,n)}var xr=null,zh=!1,kp=!1;function vI(t){xr===null?xr=[t]:xr.push(t)}function tN(t){zh=!0,vI(t)}function qi(){if(!kp&&xr!==null){kp=!0;var t=0,e=Ve;try{var n=xr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,zh=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),BT(Iv,qi),i}finally{Ve=e,kp=!1}}return null}var oo=[],ao=0,Sd=null,xd=0,Rn=[],Pn=0,ws=null,Rr=1,Pr="";function is(t,e){oo[ao++]=xd,oo[ao++]=Sd,Sd=t,xd=e}function yI(t,e,n){Rn[Pn++]=Rr,Rn[Pn++]=Pr,Rn[Pn++]=ws,ws=t;var r=Rr;t=Pr;var i=32-Gn(r)-1;r&=~(1<<i),n+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Gn(e)+i|n<<i|r,Pr=s+t}else Rr=1<<s|n<<i|r,Pr=t}function Ov(t){t.return!==null&&(is(t,1),yI(t,1,0))}function Dv(t){for(;t===Sd;)Sd=oo[--ao],oo[ao]=null,xd=oo[--ao],oo[ao]=null;for(;t===ws;)ws=Rn[--Pn],Rn[Pn]=null,Pr=Rn[--Pn],Rn[Pn]=null,Rr=Rn[--Pn],Rn[Pn]=null}var _n=null,gn=null,Ke=!1,Bn=null;function _I(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function C1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,gn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:Rr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,gn=null,!0):!1;default:return!1}}function Qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ym(t){if(Ke){var e=gn;if(e){var n=e;if(!C1(t,e)){if(Qm(t))throw Error(G(418));e=wi(n.nextSibling);var r=_n;e&&C1(t,e)?_I(r,n):(t.flags=t.flags&-4097|2,Ke=!1,_n=t)}}else{if(Qm(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ke=!1,_n=t}}}function R1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function bc(t){if(t!==_n)return!1;if(!Ke)return R1(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=gn)){if(Qm(t))throw bI(),Error(G(418));for(;e;)_I(t,e),e=wi(e.nextSibling)}if(R1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=_n?wi(t.stateNode.nextSibling):null;return!0}function bI(){for(var t=gn;t;)t=wi(t.nextSibling)}function Ao(){gn=_n=null,Ke=!1}function Mv(t){Bn===null?Bn=[t]:Bn.push(t)}var nN=qr.ReactCurrentBatchConfig;function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P1(t){var e=t._init;return e(t._payload)}function wI(t){function e(y,w){if(t){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Si(y,w),y.index=0,y.sibling=null,y}function s(y,w,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,x,C){return w===null||w.tag!==6?(w=Fp(x,y.mode,C),w.return=y,w):(w=i(w,x),w.return=y,w)}function l(y,w,x,C){var D=x.type;return D===eo?d(y,w,x.props.children,C,x.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ri&&P1(D)===w.type)?(C=i(w,x.props),C.ref=Pa(y,w,x),C.return=y,C):(C=Xc(x.type,x.key,x.props,null,y.mode,C),C.ref=Pa(y,w,x),C.return=y,C)}function u(y,w,x,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=jp(x,y.mode,C),w.return=y,w):(w=i(w,x.children||[]),w.return=y,w)}function d(y,w,x,C,D){return w===null||w.tag!==7?(w=ms(x,y.mode,C,D),w.return=y,w):(w=i(w,x),w.return=y,w)}function h(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Fp(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cc:return x=Xc(w.type,w.key,w.props,null,y.mode,x),x.ref=Pa(y,null,w),x.return=y,x;case Js:return w=jp(w,y.mode,x),w.return=y,w;case ri:var C=w._init;return h(y,C(w._payload),x)}if($a(w)||Ia(w))return w=ms(w,y.mode,x,null),w.return=y,w;wc(y,w)}return null}function f(y,w,x,C){var D=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(y,w,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cc:return x.key===D?l(y,w,x,C):null;case Js:return x.key===D?u(y,w,x,C):null;case ri:return D=x._init,f(y,w,D(x._payload),C)}if($a(x)||Ia(x))return D!==null?null:d(y,w,x,C,null);wc(y,x)}return null}function m(y,w,x,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(x)||null,a(w,y,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case cc:return y=y.get(C.key===null?x:C.key)||null,l(w,y,C,D);case Js:return y=y.get(C.key===null?x:C.key)||null,u(w,y,C,D);case ri:var M=C._init;return m(y,w,x,M(C._payload),D)}if($a(C)||Ia(C))return y=y.get(x)||null,d(w,y,C,D,null);wc(w,C)}return null}function v(y,w,x,C){for(var D=null,M=null,I=w,b=w=0,P=null;I!==null&&b<x.length;b++){I.index>b?(P=I,I=null):P=I.sibling;var A=f(y,I,x[b],C);if(A===null){I===null&&(I=P);break}t&&I&&A.alternate===null&&e(y,I),w=s(A,w,b),M===null?D=A:M.sibling=A,M=A,I=P}if(b===x.length)return n(y,I),Ke&&is(y,b),D;if(I===null){for(;b<x.length;b++)I=h(y,x[b],C),I!==null&&(w=s(I,w,b),M===null?D=I:M.sibling=I,M=I);return Ke&&is(y,b),D}for(I=r(y,I);b<x.length;b++)P=m(I,y,b,x[b],C),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?b:P.key),w=s(P,w,b),M===null?D=P:M.sibling=P,M=P);return t&&I.forEach(function(k){return e(y,k)}),Ke&&is(y,b),D}function E(y,w,x,C){var D=Ia(x);if(typeof D!="function")throw Error(G(150));if(x=D.call(x),x==null)throw Error(G(151));for(var M=D=null,I=w,b=w=0,P=null,A=x.next();I!==null&&!A.done;b++,A=x.next()){I.index>b?(P=I,I=null):P=I.sibling;var k=f(y,I,A.value,C);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(y,I),w=s(k,w,b),M===null?D=k:M.sibling=k,M=k,I=P}if(A.done)return n(y,I),Ke&&is(y,b),D;if(I===null){for(;!A.done;b++,A=x.next())A=h(y,A.value,C),A!==null&&(w=s(A,w,b),M===null?D=A:M.sibling=A,M=A);return Ke&&is(y,b),D}for(I=r(y,I);!A.done;b++,A=x.next())A=m(I,y,b,A.value,C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?b:A.key),w=s(A,w,b),M===null?D=A:M.sibling=A,M=A);return t&&I.forEach(function(O){return e(y,O)}),Ke&&is(y,b),D}function _(y,w,x,C){if(typeof x=="object"&&x!==null&&x.type===eo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cc:e:{for(var D=x.key,M=w;M!==null;){if(M.key===D){if(D=x.type,D===eo){if(M.tag===7){n(y,M.sibling),w=i(M,x.props.children),w.return=y,y=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ri&&P1(D)===M.type){n(y,M.sibling),w=i(M,x.props),w.ref=Pa(y,M,x),w.return=y,y=w;break e}n(y,M);break}else e(y,M);M=M.sibling}x.type===eo?(w=ms(x.props.children,y.mode,C,x.key),w.return=y,y=w):(C=Xc(x.type,x.key,x.props,null,y.mode,C),C.ref=Pa(y,w,x),C.return=y,y=C)}return o(y);case Js:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(y,w.sibling),w=i(w,x.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=jp(x,y.mode,C),w.return=y,y=w}return o(y);case ri:return M=x._init,_(y,w,M(x._payload),C)}if($a(x))return v(y,w,x,C);if(Ia(x))return E(y,w,x,C);wc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,x),w.return=y,y=w):(n(y,w),w=Fp(x,y.mode,C),w.return=y,y=w),o(y)):n(y,w)}return _}var ko=wI(!0),EI=wI(!1),Cd=Gi(null),Rd=null,lo=null,Lv=null;function Vv(){Lv=lo=Rd=null}function Fv(t){var e=Cd.current;qe(Cd),t._currentValue=e}function Zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Rd=t,Lv=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Lv!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Rd===null)throw Error(G(308));lo=t,Rd.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var ds=null;function jv(t){ds===null?ds=[t]:ds.push(t)}function TI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jv(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function Uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function II(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,jv(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}function A1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,E=a;switch(f=e,m=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Je({},h,f);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=h}}function k1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Iu={},lr=Gi(Iu),kl=Gi(Iu),Nl=Gi(Iu);function hs(t){if(t===Iu)throw Error(G(174));return t}function $v(t,e){switch(ze(Nl,e),ze(kl,t),ze(lr,Iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=km(e,t)}qe(lr),ze(lr,e)}function No(){qe(lr),qe(kl),qe(Nl)}function SI(t){hs(Nl.current);var e=hs(lr.current),n=km(e,t.type);e!==n&&(ze(kl,t),ze(lr,n))}function Bv(t){kl.current===t&&(qe(lr),qe(kl))}var Ze=Gi(0);function Ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function zv(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var qc=qr.ReactCurrentDispatcher,Op=qr.ReactCurrentBatchConfig,Es=0,Xe=null,pt=null,yt=null,kd=!1,sl=!1,Ol=0,rN=0;function Vt(){throw Error(G(321))}function Hv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function Wv(t,e,n,r,i,s){if(Es=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qc.current=t===null||t.memoizedState===null?aN:lN,t=n(r,i),sl){s=0;do{if(sl=!1,Ol=0,25<=s)throw Error(G(301));s+=1,yt=pt=null,e.updateQueue=null,qc.current=uN,t=n(r,i)}while(sl)}if(qc.current=Nd,e=pt!==null&&pt.next!==null,Es=0,yt=pt=Xe=null,kd=!1,e)throw Error(G(300));return t}function Gv(){var t=Ol!==0;return Ol=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=t:yt=yt.next=t,yt}function Mn(){if(pt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=yt===null?Xe.memoizedState:yt.next;if(e!==null)yt=e,pt=t;else{if(t===null)throw Error(G(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Xe.memoizedState=yt=t:yt=yt.next=t}return yt}function Dl(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Es&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,Ts|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xI(){}function CI(t,e){var n=Xe,r=Mn(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,qv(AI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Ml(9,PI.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(G(349));Es&30||RI(n,e,i)}return i}function RI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PI(t,e,n,r){e.value=n,e.getSnapshot=r,kI(e)&&NI(t)}function AI(t,e,n){return n(function(){kI(e)&&NI(t)})}function kI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function NI(t){var e=jr(t,1);e!==null&&qn(e,t,1,-1)}function N1(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=oN.bind(null,Xe,t),[e.memoizedState,t]}function Ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OI(){return Mn().memoizedState}function Kc(t,e,n,r){var i=nr();Xe.flags|=t,i.memoizedState=Ml(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Hv(r,o.deps)){i.memoizedState=Ml(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Ml(1|e,n,s,r)}function O1(t,e){return Kc(8390656,8,t,e)}function qv(t,e){return Hh(2048,8,t,e)}function DI(t,e){return Hh(4,2,t,e)}function MI(t,e){return Hh(4,4,t,e)}function LI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VI(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,LI.bind(null,e,t),n)}function Kv(){}function FI(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jI(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UI(t,e,n){return Es&21?(Yn(n,e)||(n=WT(),Xe.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function iN(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Ve=n,Op.transition=r}}function $I(){return Mn().memoizedState}function sN(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BI(t))zI(e,n);else if(n=TI(t,e,n,r),n!==null){var i=en();qn(n,t,r,i),HI(n,e,r)}}function oN(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BI(t))zI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,jv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TI(t,e,i,r),n!==null&&(i=en(),qn(n,t,r,i),HI(n,e,r))}}function BI(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function zI(t,e){sl=kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}var Nd={readContext:Dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},aN={readContext:Dn,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:O1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,LI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sN.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:Kv,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=iN.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=nr();if(Ke){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),bt===null)throw Error(G(349));Es&30||RI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,O1(AI.bind(null,r,s,t),[t]),r.flags|=2048,Ml(9,PI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nr(),e=bt.identifierPrefix;if(Ke){var n=Pr,r=Rr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lN={readContext:Dn,useCallback:FI,useContext:Dn,useEffect:qv,useImperativeHandle:VI,useInsertionEffect:DI,useLayoutEffect:MI,useMemo:jI,useReducer:Dp,useRef:OI,useState:function(){return Dp(Dl)},useDebugValue:Kv,useDeferredValue:function(t){var e=Mn();return UI(e,pt.memoizedState,t)},useTransition:function(){var t=Dp(Dl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:xI,useSyncExternalStore:CI,useId:$I,unstable_isNewReconciler:!1},uN={readContext:Dn,useCallback:FI,useContext:Dn,useEffect:qv,useImperativeHandle:VI,useInsertionEffect:DI,useLayoutEffect:MI,useMemo:jI,useReducer:Mp,useRef:OI,useState:function(){return Mp(Dl)},useDebugValue:Kv,useDeferredValue:function(t){var e=Mn();return pt===null?e.memoizedState=t:UI(e,pt.memoizedState,t)},useTransition:function(){var t=Mp(Dl)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:xI,useSyncExternalStore:CI,useId:$I,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ii(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(qn(e,t,i,r),Gc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Ii(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ei(t,s,i),e!==null&&(qn(e,t,i,r),Gc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Ii(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ei(t,i,r),e!==null&&(qn(e,t,r,n),Gc(e,t,r))}};function D1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,r)||!Cl(i,s):!0}function WI(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=un(e)?bs:Gt.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function M1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function Jm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=un(e)?bs:Gt.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wh.enqueueReplaceState(i,i.state,null),Pd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",r=e;do n+=VA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function GI(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dd||(Dd=!0,cg=r),eg(t,e)},n}function qI(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eg(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IN.bind(null,t,e,n),e.then(t,t))}function V1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var dN=qr.ReactCurrentOwner,an=!1;function Jt(t,e,n,r){e.child=t===null?EI(e,null,n,r):ko(e,t.child,n,r)}function j1(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=Wv(t,e,n,r,s,i),n=Gv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ke&&n&&Ov(e),e.flags|=1,Jt(t,e,r,i),e.child)}function U1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ny(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,KI(t,e,s,r,i)):(t=Xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(o,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function KI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cl(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return tg(t,e,n,r,i)}function QI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(co,mn),mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(co,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(co,mn),mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(co,mn),mn|=r;return Jt(t,e,i,n),e.child}function YI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tg(t,e,n,r,i){var s=un(n)?bs:Gt.current;return s=Po(e,s),yo(e,i),n=Wv(t,e,n,r,s,i),r=Gv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ke&&r&&Ov(e),e.flags|=1,Jt(t,e,n,i),e.child)}function $1(t,e,n,r,i){if(un(n)){var s=!0;Id(e)}else s=!1;if(yo(e,i),e.stateNode===null)Qc(t,e),WI(e,n,r),Jm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=un(n)?bs:Gt.current,u=Po(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&M1(e,o,r,u),ii=!1;var f=e.memoizedState;o.state=f,Pd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||ln.current||ii?(typeof d=="function"&&(Xm(e,n,d,r),l=e.memoizedState),(a=ii||D1(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,II(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Un(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=un(n)?bs:Gt.current,l=Po(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&M1(e,o,r,l),ii=!1,f=e.memoizedState,o.state=f,Pd(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||ln.current||ii?(typeof m=="function"&&(Xm(e,n,m,r),v=e.memoizedState),(u=ii||D1(e,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ng(t,e,n,r,s,i)}function ng(t,e,n,r,i,s){YI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&x1(e,n,!1),Ur(t,e,s);r=e.stateNode,dN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ko(e,t.child,null,s),e.child=ko(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&x1(e,n,!0),e.child}function ZI(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),$v(t,e.containerInfo)}function B1(t,e,n,r,i){return Ao(),Mv(i),e.flags|=256,Jt(t,e,n,r),e.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function XI(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ze,i&1),t===null)return Ym(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kh(o,r,0,null),t=ms(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ig(n),e.memoizedState=rg,t):Qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=ms(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rg,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qv(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ec(t,e,n,r){return r!==null&&Mv(r),ko(e,t.child,null,n),t=Qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(G(422))),Ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kh({mode:"visible",children:r.children},i,0,null),s=ms(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ko(e,t.child,null,o),e.child.memoizedState=ig(o),e.memoizedState=rg,s);if(!(e.mode&1))return Ec(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Lp(s,r,void 0),Ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),qn(r,t,i,-1))}return ty(),r=Lp(Error(G(421))),Ec(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gn=wi(i.nextSibling),_n=e,Ke=!0,Bn=null,t!==null&&(Rn[Pn++]=Rr,Rn[Pn++]=Pr,Rn[Pn++]=ws,Rr=t.id,Pr=t.overflow,ws=e),e=Qv(e,r.children),e.flags|=4096,e)}function z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zm(t.return,e,n)}function Vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z1(t,n,e);else if(t.tag===19)z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vp(e,!0,n,null,s);break;case"together":Vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fN(t,e,n){switch(e.tag){case 3:ZI(e),Ao();break;case 5:SI(e);break;case 1:un(e.type)&&Id(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Cd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?XI(t,e,n):(ze(Ze,Ze.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,QI(t,e,n)}return Ur(t,e,n)}var eS,sg,tS,nS;eS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sg=function(){};tS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(lr.current);var s=null;switch(n){case"input":i=Cm(t,i),r=Cm(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Am(t,i),r=Am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}Nm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pN(t,e,n){var r=e.pendingProps;switch(Dv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return un(e.type)&&Td(),Ft(e),null;case 3:return r=e.stateNode,No(),qe(ln),qe(Gt),zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(fg(Bn),Bn=null))),sg(t,e),Ft(e),null;case 5:Bv(e);var i=hs(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)tS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ft(e),null}if(t=hs(lr.current),bc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[Al]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)We(za[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":X_(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":e1(r,s),We("invalid",r)}Nm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),i=["children",""+a]):bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":dc(r),J_(r,s,!0);break;case"textarea":dc(r),t1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Al]=r,eS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)We(za[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":X_(t,r),i=Cm(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),We("invalid",t);break;case"textarea":e1(t,r),i=Am(t,r),We("invalid",t);break;default:i=r}Nm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?OT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&_v(t,s,l,o))}switch(n){case"input":dc(t),J_(t,r,!1);break;case"textarea":dc(t),t1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?po(t,!!r.multiple,s,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)nS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=hs(Nl.current),hs(lr.current),bc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:_c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Ft(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&gn!==null&&e.mode&1&&!(e.flags&128))bI(),Ao(),e.flags|=98560,s=!1;else if(s=bc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[sr]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Bn!==null&&(fg(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?mt===0&&(mt=3):ty())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return No(),sg(t,e),t===null&&Rl(e.stateNode.containerInfo),Ft(e),null;case 10:return Fv(e.type._context),Ft(e),null;case 17:return un(e.type)&&Td(),Ft(e),null;case 19:if(qe(Ze),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Aa(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ad(t),o!==null){for(e.flags|=128,Aa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Do&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Ft(e),null}else 2*st()-s.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function mN(t,e){switch(Dv(e),e.tag){case 1:return un(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),qe(ln),qe(Gt),zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bv(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return No(),null;case 10:return Fv(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Tc=!1,Bt=!1,gN=typeof WeakSet=="function"?WeakSet:Set,ne=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function og(t,e,n){try{n()}catch(r){nt(t,e,r)}}var H1=!1;function vN(t,e){if(zm=_d,t=aI(),Nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hm={focusedElem:t,selectionRange:n},_d=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,_=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:Un(e.type,E),_);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(C){nt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return v=H1,H1=!1,v}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&og(e,n,s)}i=i.next}while(i!==r)}}function Gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rS(t){var e=t.alternate;e!==null&&(t.alternate=null,rS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Al],delete e[qm],delete e[Jk],delete e[eN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iS(t){return t.tag===5||t.tag===3||t.tag===4}function W1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}var St=null,$n=!1;function ti(t,e,n){for(n=n.child;n!==null;)sS(t,e,n),n=n.sibling}function sS(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Fh,n)}catch{}switch(n.tag){case 5:Bt||uo(n,e);case 6:var r=St,i=$n;St=null,ti(t,e,n),St=r,$n=i,St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),Sl(t)):Ap(St,n.stateNode));break;case 4:r=St,i=$n,St=n.stateNode.containerInfo,$n=!0,ti(t,e,n),St=r,$n=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&og(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!Bt&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ti(t,e,n),Bt=r):ti(t,e,n);break;default:ti(t,e,n)}}function G1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gN),e.forEach(function(r){var i=xN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,$n=!1;break e;case 3:St=a.stateNode.containerInfo,$n=!0;break e;case 4:St=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(St===null)throw Error(G(160));sS(s,o,i),St=null,$n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oS(e,t),e=e.sibling}function oS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),tr(t),r&4){try{ol(3,t,t.return),Gh(3,t)}catch(E){nt(t,t.return,E)}try{ol(5,t,t.return)}catch(E){nt(t,t.return,E)}}break;case 1:jn(e,t),tr(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(jn(e,t),tr(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(E){nt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RT(i,s),Om(a,o);var u=Om(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?OT(i,h):d==="dangerouslySetInnerHTML"?kT(i,h):d==="children"?wl(i,h):_v(i,d,h,u)}switch(a){case"input":Rm(i,s);break;case"textarea":PT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?po(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?po(i,!!s.multiple,s.defaultValue,!0):po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Al]=s}catch(E){nt(t,t.return,E)}}break;case 6:if(jn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){nt(t,t.return,E)}}break;case 3:if(jn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(E){nt(t,t.return,E)}break;case 4:jn(e,t),tr(t);break;case 13:jn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xv=st())),r&4&&G1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,jn(e,t),Bt=u):jn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:uo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){nt(r,n,E)}}break;case 5:uo(f,f.return);break;case 22:if(f.memoizedState!==null){K1(h);continue}}m!==null?(m.return=f,ne=m):K1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NT("display",o))}catch(E){nt(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){nt(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(e,t),tr(t),r&4&&G1(t);break;case 21:break;default:jn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iS(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=W1(t);ug(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W1(t);lg(t,a,o);break;default:throw Error(G(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yN(t,e,n){ne=t,aS(t)}function aS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Tc;var u=Bt;if(Tc=o,(Bt=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?Q1(i):l!==null?(l.return=o,ne=l):Q1(i);for(;s!==null;)ne=s,aS(s),s=s.sibling;ne=i,Tc=a,Bt=u}q1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):q1(t)}}function q1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Bt||e.flags&512&&ag(e)}catch(f){nt(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function K1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Q1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gh(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{ag(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{ag(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var _N=Math.ceil,Od=qr.ReactCurrentDispatcher,Yv=qr.ReactCurrentOwner,Nn=qr.ReactCurrentBatchConfig,Pe=0,bt=null,ct=null,At=0,mn=0,co=Gi(0),mt=0,Ll=null,Ts=0,qh=0,Zv=0,al=null,sn=null,Xv=0,Do=1/0,Sr=null,Dd=!1,cg=null,Ti=null,Ic=!1,pi=null,Md=0,ll=0,dg=null,Yc=-1,Zc=0;function en(){return Pe&6?st():Yc!==-1?Yc:Yc=st()}function Ii(t){return t.mode&1?Pe&2&&At!==0?At&-At:nN.transition!==null?(Zc===0&&(Zc=WT()),Zc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:XT(t.type)),t):1}function qn(t,e,n,r){if(50<ll)throw ll=0,dg=null,Error(G(185));wu(t,n,r),(!(Pe&2)||t!==bt)&&(t===bt&&(!(Pe&2)&&(qh|=n),mt===4&&oi(t,At)),cn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Do=st()+500,zh&&qi()))}function cn(t,e){var n=t.callbackNode;nk(t,e);var r=yd(t,t===bt?At:0);if(r===0)n!==null&&i1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i1(n),e===1)t.tag===0?tN(Y1.bind(null,t)):vI(Y1.bind(null,t)),Zk(function(){!(Pe&6)&&qi()}),n=null;else{switch(GT(r)){case 1:n=Iv;break;case 4:n=zT;break;case 16:n=vd;break;case 536870912:n=HT;break;default:n=vd}n=mS(n,lS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lS(t,e){if(Yc=-1,Zc=0,Pe&6)throw Error(G(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=yd(t,t===bt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ld(t,r);else{e=r;var i=Pe;Pe|=2;var s=cS();(bt!==t||At!==e)&&(Sr=null,Do=st()+500,ps(t,e));do try{EN();break}catch(a){uS(t,a)}while(!0);Vv(),Od.current=s,Pe=i,ct!==null?e=0:(bt=null,At=0,e=mt)}if(e!==0){if(e===2&&(i=Fm(t),i!==0&&(r=i,e=hg(t,i))),e===1)throw n=Ll,ps(t,0),oi(t,r),cn(t,st()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!bN(i)&&(e=Ld(t,r),e===2&&(s=Fm(t),s!==0&&(r=s,e=hg(t,s))),e===1))throw n=Ll,ps(t,0),oi(t,r),cn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ss(t,sn,Sr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Xv+500-st(),10<e)){if(yd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gm(ss.bind(null,t,sn,Sr),e);break}ss(t,sn,Sr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_N(r/1960))-r,10<r){t.timeoutHandle=Gm(ss.bind(null,t,sn,Sr),r);break}ss(t,sn,Sr);break;case 5:ss(t,sn,Sr);break;default:throw Error(G(329))}}}return cn(t,st()),t.callbackNode===n?lS.bind(null,t):null}function hg(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(ps(t,e).flags|=256),t=Ld(t,e),t!==2&&(e=sn,sn=n,e!==null&&fg(e)),t}function fg(t){sn===null?sn=t:sn.push.apply(sn,t)}function bN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Zv,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function Y1(t){if(Pe&6)throw Error(G(327));_o();var e=yd(t,0);if(!(e&1))return cn(t,st()),null;var n=Ld(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=hg(t,r))}if(n===1)throw n=Ll,ps(t,0),oi(t,e),cn(t,st()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,sn,Sr),cn(t,st()),null}function Jv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Do=st()+500,zh&&qi())}}function Is(t){pi!==null&&pi.tag===0&&!(Pe&6)&&_o();var e=Pe;Pe|=1;var n=Nn.transition,r=Ve;try{if(Nn.transition=null,Ve=1,t)return t()}finally{Ve=r,Nn.transition=n,Pe=e,!(Pe&6)&&qi()}}function ey(){mn=co.current,qe(co)}function ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yk(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Dv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:No(),qe(ln),qe(Gt),zv();break;case 5:Bv(r);break;case 4:No();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Fv(r.type._context);break;case 22:case 23:ey()}n=n.return}if(bt=t,ct=t=Si(t.current,null),At=mn=e,mt=0,Ll=null,Zv=qh=Ts=0,sn=al=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ds=null}return t}function uS(t,e){do{var n=ct;try{if(Vv(),qc.current=Nd,kd){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kd=!1}if(Es=0,yt=pt=Xe=null,sl=!1,Ol=0,Yv.current=null,n===null||n.return===null){mt=1,Ll=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=V1(o);if(m!==null){m.flags&=-257,F1(m,o,a,s,e),m.mode&1&&L1(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var E=new Set;E.add(l),e.updateQueue=E}else v.add(l);break e}else{if(!(e&1)){L1(s,u,e),ty();break e}l=Error(G(426))}}else if(Ke&&a.mode&1){var _=V1(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),F1(_,o,a,s,e),Mv(Oo(l,a));break e}}s=l=Oo(l,a),mt!==4&&(mt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=GI(s,l,e);A1(s,y);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ti===null||!Ti.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=qI(s,a,e);A1(s,C);break e}}s=s.return}while(s!==null)}hS(n)}catch(D){e=D,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function cS(){var t=Od.current;return Od.current=Nd,t===null?Nd:t}function ty(){(mt===0||mt===3||mt===2)&&(mt=4),bt===null||!(Ts&268435455)&&!(qh&268435455)||oi(bt,At)}function Ld(t,e){var n=Pe;Pe|=2;var r=cS();(bt!==t||At!==e)&&(Sr=null,ps(t,e));do try{wN();break}catch(i){uS(t,i)}while(!0);if(Vv(),Pe=n,Od.current=r,ct!==null)throw Error(G(261));return bt=null,At=0,mt}function wN(){for(;ct!==null;)dS(ct)}function EN(){for(;ct!==null&&!qA();)dS(ct)}function dS(t){var e=pS(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?hS(t):ct=e,Yv.current=null}function hS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mN(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}else if(n=pN(n,e,mn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function ss(t,e,n){var r=Ve,i=Nn.transition;try{Nn.transition=null,Ve=1,TN(t,e,n,r)}finally{Nn.transition=i,Ve=r}return null}function TN(t,e,n,r){do _o();while(pi!==null);if(Pe&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rk(t,s),t===bt&&(ct=bt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,mS(vd,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var o=Ve;Ve=1;var a=Pe;Pe|=4,Yv.current=null,vN(t,n),oS(n,t),zk(Hm),_d=!!zm,Hm=zm=null,t.current=n,yN(n),KA(),Pe=a,Ve=o,Nn.transition=s}else t.current=n;if(Ic&&(Ic=!1,pi=t,Md=i),s=t.pendingLanes,s===0&&(Ti=null),ZA(n.stateNode),cn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,t=cg,cg=null,t;return Md&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===dg?ll++:(ll=0,dg=t):ll=0,qi(),null}function _o(){if(pi!==null){var t=GT(Md),e=Nn.transition,n=Ve;try{if(Nn.transition=null,Ve=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,Md=0,Pe&6)throw Error(G(331));var i=Pe;for(Pe|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var f=d.sibling,m=d.return;if(rS(d),d===u){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ne=y;break e}ne=s.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ne=x;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gh(9,a)}}catch(D){nt(a,a.return,D)}if(a===o){ne=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ne=C;break e}ne=a.return}}if(Pe=i,qi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Fh,t)}catch{}r=!0}return r}finally{Ve=n,Nn.transition=e}}return!1}function Z1(t,e,n){e=Oo(n,e),e=GI(t,e,1),t=Ei(t,e,1),e=en(),t!==null&&(wu(t,1,e),cn(t,e))}function nt(t,e,n){if(t.tag===3)Z1(t,t,n);else for(;e!==null;){if(e.tag===3){Z1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=Oo(n,t),t=qI(e,t,1),e=Ei(e,t,1),t=en(),e!==null&&(wu(e,1,t),cn(e,t));break}}e=e.return}}function IN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(At&n)===n&&(mt===4||mt===3&&(At&130023424)===At&&500>st()-Xv?ps(t,0):Zv|=n),cn(t,e)}function fS(t,e){e===0&&(t.mode&1?(e=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):e=1);var n=en();t=jr(t,e),t!==null&&(wu(t,e,n),cn(t,n))}function SN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fS(t,n)}function xN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),fS(t,n)}var pS;pS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,fN(t,e,n);an=!!(t.flags&131072)}else an=!1,Ke&&e.flags&1048576&&yI(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qc(t,e),t=e.pendingProps;var i=Po(e,Gt.current);yo(e,n),i=Wv(null,e,r,t,i,n);var s=Gv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(s=!0,Id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uv(e),i.updater=Wh,e.stateNode=i,i._reactInternals=e,Jm(e,r,t,n),e=ng(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&Ov(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RN(r),t=Un(r,t),i){case 0:e=tg(null,e,r,t,n);break e;case 1:e=$1(null,e,r,t,n);break e;case 11:e=j1(null,e,r,t,n);break e;case 14:e=U1(null,e,r,Un(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),tg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),$1(t,e,r,i,n);case 3:e:{if(ZI(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,II(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oo(Error(G(423)),e),e=B1(t,e,r,n,i);break e}else if(r!==i){i=Oo(Error(G(424)),e),e=B1(t,e,r,n,i);break e}else for(gn=wi(e.stateNode.containerInfo.firstChild),_n=e,Ke=!0,Bn=null,n=EI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===i){e=Ur(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return SI(e),t===null&&Ym(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wm(r,i)?o=null:s!==null&&Wm(r,s)&&(e.flags|=32),YI(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Ym(e),null;case 13:return XI(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),j1(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Cd,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!ln.current){e=Ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=Dn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=Un(r,e.pendingProps),i=Un(r.type,i),U1(t,e,r,i,n);case 15:return KI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Qc(t,e),e.tag=1,un(r)?(t=!0,Id(e)):t=!1,yo(e,n),WI(e,r,i),Jm(e,r,i,n),ng(null,e,r,!0,t,n);case 19:return JI(t,e,n);case 22:return QI(t,e,n)}throw Error(G(156,e.tag))};function mS(t,e){return BT(t,e)}function CN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new CN(t,e,n,r)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RN(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wv)return 11;if(t===Ev)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case eo:return ms(n.children,i,s,e);case bv:o=8,i|=8;break;case Tm:return t=An(12,n,e,i|2),t.elementType=Tm,t.lanes=s,t;case Im:return t=An(13,n,e,i),t.elementType=Im,t.lanes=s,t;case Sm:return t=An(19,n,e,i),t.elementType=Sm,t.lanes=s,t;case ST:return Kh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TT:o=10;break e;case IT:o=9;break e;case wv:o=11;break e;case Ev:o=14;break e;case ri:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=An(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ms(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Kh(t,e,n,r){return t=An(22,t,r,e),t.elementType=ST,t.lanes=n,t.stateNode={isHidden:!1},t}function Fp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_p(0),this.expirationTimes=_p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_p(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ry(t,e,n,r,i,s,o,a,l){return t=new PN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uv(s),t}function AN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gS(t){if(!t)return Di;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(un(n))return gI(t,n,e)}return e}function vS(t,e,n,r,i,s,o,a,l){return t=ry(n,r,!0,t,i,s,o,a,l),t.context=gS(null),n=t.current,r=en(),i=Ii(n),s=Dr(r,i),s.callback=e??null,Ei(n,s,i),t.current.lanes=i,wu(t,i,r),cn(t,r),t}function Qh(t,e,n,r){var i=e.current,s=en(),o=Ii(i);return n=gS(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(i,e,o),t!==null&&(qn(t,i,o,s),Gc(t,i,o)),o}function Vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iy(t,e){X1(t,e),(t=t.alternate)&&X1(t,e)}function kN(){return null}var yS=typeof reportError=="function"?reportError:function(t){console.error(t)};function sy(t){this._internalRoot=t}Yh.prototype.render=sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Qh(t,e,null,null)};Yh.prototype.unmount=sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){Qh(null,t,null,null)}),e[Fr]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=QT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<si.length&&e!==0&&e<si[n].priority;n++);si.splice(n,0,t),n===0&&ZT(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function NN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vd(o);s.call(u)}}var o=vS(e,r,t,0,null,!1,!1,"",J1);return t._reactRootContainer=o,t[Fr]=o.current,Rl(t.nodeType===8?t.parentNode:t),Is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Vd(l);a.call(u)}}var l=ry(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=l,t[Fr]=l.current,Rl(t.nodeType===8?t.parentNode:t),Is(function(){Qh(e,l,n,r)}),l}function Xh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vd(o);a.call(l)}}Qh(e,o,t,i)}else o=NN(n,e,t,i,r);return Vd(o)}qT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(Sv(e,n|1),cn(e,st()),!(Pe&6)&&(Do=st()+500,qi()))}break;case 13:Is(function(){var r=jr(t,1);if(r!==null){var i=en();qn(r,t,1,i)}}),iy(t,1)}};xv=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=en();qn(e,t,134217728,n)}iy(t,134217728)}};KT=function(t){if(t.tag===13){var e=Ii(t),n=jr(t,e);if(n!==null){var r=en();qn(n,t,e,r)}iy(t,e)}};QT=function(){return Ve};YT=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Mm=function(t,e,n){switch(e){case"input":if(Rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bh(r);if(!i)throw Error(G(90));CT(r),Rm(r,i)}}}break;case"textarea":PT(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};LT=Jv;VT=Is;var ON={usingClientEntryPoint:!1,Events:[Tu,io,Bh,DT,MT,Jv]},ka={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DN={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UT(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||kN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Fh=Sc.inject(DN),ar=Sc}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ON;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(G(200));return AN(t,e,null,n)};In.createRoot=function(t,e){if(!oy(t))throw Error(G(299));var n=!1,r="",i=yS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ry(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new sy(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=UT(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return Is(t)};In.hydrate=function(t,e,n){if(!Zh(e))throw Error(G(200));return Xh(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vS(e,null,t,1,n??null,i,!1,s,o),t[Fr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yh(e)};In.render=function(t,e,n){if(!Zh(e))throw Error(G(200));return Xh(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(G(40));return t._reactRootContainer?(Is(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};In.unstable_batchedUpdates=Jv;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Xh(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function _S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_S)}catch(t){console.error(t)}}_S(),_T.exports=In;var Su=_T.exports;const bS=hv(Su);var wS,eb=Su;wS=eb.createRoot,eb.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}var mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mi||(mi={}));const tb="popstate";function MN(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Fs(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),pg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Fd(s))}function r(i,s){ay(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return VN(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ay(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LN(){return Math.random().toString(36).substr(2,8)}function nb(t,e){return{usr:t.state,key:t.key,idx:e}}function pg(t,e,n,r){return n===void 0&&(n=null),Vl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fs(e):e,{state:n,key:e&&e.key||r||LN()})}function Fd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Vl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=mi.Pop;let _=d(),y=_==null?null:_-u;u=_,l&&l({action:a,location:E.location,delta:y})}function f(_,y){a=mi.Push;let w=pg(E.location,_,y);n&&n(w,_),u=d()+1;let x=nb(w,u),C=E.createHref(w);try{o.pushState(x,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}s&&l&&l({action:a,location:E.location,delta:1})}function m(_,y){a=mi.Replace;let w=pg(E.location,_,y);n&&n(w,_),u=d();let x=nb(w,u),C=E.createHref(w);o.replaceState(x,"",C),s&&l&&l({action:a,location:E.location,delta:0})}function v(_){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:Fd(_);return w=w.replace(/ $/,"%20"),ot(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let E={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tb,h),l=_,()=>{i.removeEventListener(tb,h),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let y=v(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(_){return o.go(_)}};return E}var rb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rb||(rb={}));function FN(t,e,n){return n===void 0&&(n="/"),jN(t,e,n,!1)}function jN(t,e,n,r){let i=typeof e=="string"?Fs(e):e,s=ly(i.pathname||"/",n);if(s==null)return null;let o=ES(t);UN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ZN(s);a=QN(o[l],u,r)}return a}function ES(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ES(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:qN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of TS(s.path))i(s,o,l)}),e}function TS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=TS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $N=/^:[\w-]+$/,BN=3,zN=2,HN=1,WN=10,GN=-2,ib=t=>t==="*";function qN(t,e){let n=t.split("/"),r=n.length;return n.some(ib)&&(r+=GN),e&&(r+=zN),n.filter(i=>!ib(i)).reduce((i,s)=>i+($N.test(s)?BN:s===""?HN:WN),r)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=sb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=sb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:xi([s,h.pathname]),pathnameBase:tO(xi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=xi([s,h.pathnameBase]))}return o}function sb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function YN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ay(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ay(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ly(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:JN(n,e):e,search:nO(r),hash:rO(i)}}function JN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Up(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uy(t,e){let n=eO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fs(t):(i=Vl({},t),ot(!i.pathname||!i.pathname.includes("?"),Up("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Up("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Up("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=XN(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),tO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IS=["post","put","patch","delete"];new Set(IS);const sO=["get",...IS];new Set(sO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const dy=N.createContext(null),oO=N.createContext(null),Ki=N.createContext(null),Jh=N.createContext(null),Qi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),SS=N.createContext(null);function aO(t,e){let{relative:n}=e===void 0?{}:e;ea()||ot(!1);let{basename:r,navigator:i}=N.useContext(Ki),{hash:s,pathname:o,search:a}=CS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ea(){return N.useContext(Jh)!=null}function xu(){return ea()||ot(!1),N.useContext(Jh).location}function xS(t){N.useContext(Ki).static||N.useLayoutEffect(t)}function Cu(){let{isDataRoute:t}=N.useContext(Qi);return t?bO():lO()}function lO(){ea()||ot(!1);let t=N.useContext(dy),{basename:e,future:n,navigator:r}=N.useContext(Ki),{matches:i}=N.useContext(Qi),{pathname:s}=xu(),o=JSON.stringify(uy(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return xS(()=>{a.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=cy(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function CS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Ki),{matches:i}=N.useContext(Qi),{pathname:s}=xu(),o=JSON.stringify(uy(i,r.v7_relativeSplatPath));return N.useMemo(()=>cy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function uO(t,e){return cO(t,e)}function cO(t,e,n,r){ea()||ot(!1);let{navigator:i}=N.useContext(Ki),{matches:s}=N.useContext(Qi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xu(),d;if(e){var h;let _=typeof e=="string"?Fs(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ot(!1),d=_}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=FN(t,{pathname:m}),E=mO(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:xi([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:xi([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&E?N.createElement(Jh.Provider,{value:{location:Fl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mi.Pop}},E):E}function dO(){let t=_O(),e=iO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const hO=N.createElement(dO,null);class fO extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Qi.Provider,{value:this.props.routeContext},N.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pO(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(dy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Qi.Provider,{value:e},r)}function mO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,E=null,_=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||hO,l&&(u<0&&f===0?(v=!0,_=null):u===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let x;return m?x=E:v?x=_:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(pO,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(fO,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var RS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RS||{}),jd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jd||{});function gO(t){let e=N.useContext(dy);return e||ot(!1),e}function vO(t){let e=N.useContext(oO);return e||ot(!1),e}function yO(t){let e=N.useContext(Qi);return e||ot(!1),e}function PS(t){let e=yO(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function _O(){var t;let e=N.useContext(SS),n=vO(jd.UseRouteError),r=PS(jd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bO(){let{router:t}=gO(RS.UseNavigateStable),e=PS(jd.UseNavigateStable),n=N.useRef(!1);return xS(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fl({fromRouteId:e},s)))},[t,e])}function wO(t){let{to:e,replace:n,state:r,relative:i}=t;ea()||ot(!1);let{future:s,static:o}=N.useContext(Ki),{matches:a}=N.useContext(Qi),{pathname:l}=xu(),u=Cu(),d=cy(e,uy(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function os(t){ot(!1)}function EO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=mi.Pop,navigator:s,static:o=!1,future:a}=t;ea()&&ot(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Fl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Fs(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,E=N.useMemo(()=>{let _=ly(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:v},navigationType:i}},[l,d,h,f,m,v,i]);return E==null?null:N.createElement(Ki.Provider,{value:u},N.createElement(Jh.Provider,{children:n,value:E}))}function TO(t){let{children:e,location:n}=t;return uO(mg(e),n)}new Promise(()=>{});function mg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,mg(r.props.children,s));return}r.type!==os&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function IO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xO(t,e){return t.button===0&&(!e||e==="_self")&&!SO(t)}const CO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RO="6";try{window.__reactRouterVersion=RO}catch{}const PO="startTransition",ob=_l[PO];function AO(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=MN({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&ob?ob(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(EO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=IO(e,CO),{basename:m}=N.useContext(Ki),v,E=!1;if(typeof u=="string"&&NO.test(u)&&(v=u,kO))try{let x=new URL(window.location.href),C=u.startsWith("//")?new URL(x.protocol+u):new URL(u),D=ly(C.pathname,m);C.origin===x.origin&&D!=null?u=D+C.search+C.hash:E=!0}catch{}let _=aO(u,{relative:i}),y=OO(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function w(x){r&&r(x),x.defaultPrevented||y(x)}return N.createElement("a",gg({},f,{href:v||_,onClick:E||s?r:w,ref:n,target:l}))});var ab;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ab||(ab={}));var lb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lb||(lb={}));function OO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Cu(),u=xu(),d=CS(t,{relative:o});return N.useCallback(h=>{if(xO(h,n)){h.preventDefault();let f=r!==void 0?r:Fd(u)===Fd(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var ub={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new MO;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LO=function(t){const e=AS(t);return kS.encodeByteArray(e,!0)},Ud=function(t){return LO(t).replace(/\./g,"")},NS=function(t){try{return kS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>VO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof ub>"u")return;const t=ub.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return FO()||jO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DS=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},LS=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ud(JSON.stringify(n)),Ud(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function zO(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qO(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KO(){return!zO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QO(){try{return typeof indexedDB=="object"}catch{return!1}}function YO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="FirebaseError";class Ht extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZO,Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}}function XO(t,e){return t.replace(JO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JO=/\{\$([^}]+)}/g;function eD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cb(s)&&cb(o)){if(!$d(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tD(t,e){const n=new nD(t,e);return n.subscribe.bind(n)}class nD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$p),i.error===void 0&&(i.error=$p),i.complete===void 0&&(i.complete=$p);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $O;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oD(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sD(t){return t===as?void 0:t}function oD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const lD={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},uD=Ie.INFO,cD={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},dD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=uD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const hD=(t,e)=>e.some(n=>t instanceof n);let db,hb;function fD(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pD(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,vg=new WeakMap,jS=new WeakMap,Bp=new WeakMap,fy=new WeakMap;function mD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FS.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function gD(t){if(vg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vD(t){yg=t(yg)}function yD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zp(this),e,...n);return jS.set(r,e.sort?e.sort():[e]),Ci(r)}:pD().includes(t)?function(...e){return t.apply(zp(this),e),Ci(FS.get(this))}:function(...e){return Ci(t.apply(zp(this),e))}}function _D(t){return typeof t=="function"?yD(t):(t instanceof IDBTransaction&&gD(t),hD(t,fD())?new Proxy(t,yg):t)}function Ci(t){if(t instanceof IDBRequest)return mD(t);if(Bp.has(t))return Bp.get(t);const e=_D(t);return e!==t&&(Bp.set(t,e),fy.set(e,t)),e}const zp=t=>fy.get(t);function bD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wD=["get","getKey","getAll","getAllKeys","count"],ED=["put","add","delete","clear"],Hp=new Map;function fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ED.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Hp.set(e,s),s}vD(t=>({...t,get:(e,n,r)=>fb(e,n)||t.get(e,n,r),has:(e,n)=>!!fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ID(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ID(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _g="@firebase/app",pb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new hy("@firebase/app"),SD="@firebase/app-compat",xD="@firebase/analytics-compat",CD="@firebase/analytics",RD="@firebase/app-check-compat",PD="@firebase/app-check",AD="@firebase/auth",kD="@firebase/auth-compat",ND="@firebase/database",OD="@firebase/data-connect",DD="@firebase/database-compat",MD="@firebase/functions",LD="@firebase/functions-compat",VD="@firebase/installations",FD="@firebase/installations-compat",jD="@firebase/messaging",UD="@firebase/messaging-compat",$D="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",HD="@firebase/remote-config-compat",WD="@firebase/storage",GD="@firebase/storage-compat",qD="@firebase/firestore",KD="@firebase/vertexai-preview",QD="@firebase/firestore-compat",YD="firebase",ZD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",XD={[_g]:"fire-core",[SD]:"fire-core-compat",[CD]:"fire-analytics",[xD]:"fire-analytics-compat",[PD]:"fire-app-check",[RD]:"fire-app-check-compat",[AD]:"fire-auth",[kD]:"fire-auth-compat",[ND]:"fire-rtdb",[OD]:"fire-data-connect",[DD]:"fire-rtdb-compat",[MD]:"fire-fn",[LD]:"fire-fn-compat",[VD]:"fire-iid",[FD]:"fire-iid-compat",[jD]:"fire-fcm",[UD]:"fire-fcm-compat",[$D]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[HD]:"fire-rc-compat",[WD]:"fire-gcs",[GD]:"fire-gcs-compat",[qD]:"fire-fst",[QD]:"fire-fst-compat",[KD]:"fire-vertex","fire-js":"fire-js",[YD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,JD=new Map,wg=new Map;function mb(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(wg.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Bd.values())mb(n,t);for(const n of JD.values())mb(n,t);return!0}function tf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Ru("app","Firebase",e4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=ZD;function US(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=MS()),!n)throw Ri.create("no-options");const s=Bd.get(i);if(s){if($d(n,s.options)&&$d(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}const o=new aD(i);for(const l of wg.values())o.addComponent(l);const a=new t4(n,r,o);return Bd.set(i,a),a}function py(t=bg){const e=Bd.get(t);if(!e&&t===bg&&MS())return US();if(!e)throw Ri.create("no-app",{appName:t});return e}function ur(t,e,n){var r;let i=(r=XD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}Ss(new Mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebase-heartbeat-database",r4=1,jl="firebase-heartbeat-store";let Wp=null;function $S(){return Wp||(Wp=bD(n4,r4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Wp}async function i4(t){try{const n=(await $S()).transaction(jl),r=await n.objectStore(jl).get(BS(t));return await n.done,r}catch(e){if(e instanceof Ht)$r.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function gb(t,e){try{const r=(await $S()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,BS(t)),await r.done}catch(n){if(n instanceof Ht)$r.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function BS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1024,o4=30*24*60*60*1e3;class a4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=o4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vb(),{heartbeatsToSend:r,unsentEntries:i}=l4(this._heartbeatsCache.heartbeats),s=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $r.warn(n),""}}}function vb(){return new Date().toISOString().substring(0,10)}function l4(t,e=s4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QO()?YO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yb(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){Ss(new Mi("platform-logger",e=>new TD(e),"PRIVATE")),Ss(new Mi("heartbeat",e=>new a4(e),"PRIVATE")),ur(_g,pb,t),ur(_g,pb,"esm2017"),ur("fire-js","")}c4("");var d4="firebase",h4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(d4,h4,"app");function my(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f4=zS,HS=new Ru("auth","Firebase",zS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new hy("@firebase/auth");function p4(t,...e){zd.logLevel<=Ie.WARN&&zd.warn(`Auth (${js}): ${t}`,...e)}function Jc(t,...e){zd.logLevel<=Ie.ERROR&&zd.error(`Auth (${js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw gy(t,...e)}function cr(t,...e){return gy(t,...e)}function WS(t,e,n){const r=Object.assign(Object.assign({},f4()),{[e]:n});return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return WS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HS.create(t,...e)}function pe(t,e,...n){if(!t)throw gy(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jc(e),new Error(e)}function Br(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m4(){return _b()==="http:"||_b()==="https:"}function _b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m4()||WO()||"connection"in navigator)?navigator.onLine:!0}function v4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=BO()||GO()}get(){return g4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Au(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qr(t,e,n,r,i={}){return qS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return HO()||(u.referrerPolicy="no-referrer"),GS.fetch()(KS(t,t.config.apiHost,n,a),u)})}async function qS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y4),e);try{const i=new w4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WS(t,d,u);Zn(t,d)}}catch(i){if(i instanceof Ht)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function ku(t,e,n,r,i={}){const s=await Qr(t,e,n,r,i);return"mfaPendingCredential"in s&&Zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function KS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`}function b4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),_4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function bb(t){return t!==void 0&&t.enterprise!==void 0}class E4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function T4(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function QS(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S4(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=yy(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(Gp(i.auth_time)),issuedAtTime:ul(Gp(i.iat)),expirationTime:ul(Gp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gp(t){return Number(t)*1e3}function yy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=NS(n);return i?JSON.parse(i):(Jc("Failed to decode base64 JWT payload"),null)}catch(i){return Jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wb(t){const e=yy(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ht&&x4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ul(t,QS(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YS(s.providerUserInfo):[],a=P4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Tg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function R4(t){const e=at(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YS(t){return t.map(e=>{var{providerId:n}=e,r=my(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){const n=await qS(t,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k4(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bo;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S4(this,e)}reload(){return R4(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Ul(this,I4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:C,isAnonymous:D,providerData:M,stsTokenManager:I}=n;pe(x&&I,e,"internal-error");const b=bo.fromJSON(this.name,I);pe(typeof x=="string",e,"internal-error"),ni(h,e.name),ni(f,e.name),pe(typeof C=="boolean",e,"internal-error"),pe(typeof D=="boolean",e,"internal-error"),ni(m,e.name),ni(v,e.name),ni(E,e.name),ni(_,e.name),ni(y,e.name),ni(w,e.name);const P=new kr({uid:x,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:E,stsTokenManager:b,createdAt:y,lastLoginAt:w});return M&&Array.isArray(M)&&(P.providerData=M.map(A=>Object.assign({},A))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new bo;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?YS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new bo;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function Nr(t){Br(t instanceof Function,"Expected a class definition");let e=Eb.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZS.type="NONE";const Tb=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=ed("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(Nr(Tb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nr(Tb);const o=ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=kr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rx(e))return"Blackberry";if(ix(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||ex(e))&&!e.includes("edge/"))return"Chrome";if(nx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XS(t=qt()){return/firefox\//i.test(t)}function JS(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ex(t=qt()){return/crios\//i.test(t)}function tx(t=qt()){return/iemobile/i.test(t)}function nx(t=qt()){return/android/i.test(t)}function rx(t=qt()){return/blackberry/i.test(t)}function ix(t=qt()){return/webos/i.test(t)}function _y(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N4(t=qt()){var e;return _y(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O4(){return qO()&&document.documentMode===10}function sx(t=qt()){return _y(t)||nx(t)||ix(t)||rx(t)||/windows phone/i.test(t)||tx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e=[]){let n;switch(t){case"Browser":n=Ib(qt());break;case"Worker":n=`${Ib(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=6;class V4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:L4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new D4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QS(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Mr(this));const n=e?at(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M4(this),n=new V4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yi(t){return at(t)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=tD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j4(t){nf=t}function ax(t){return nf.loadJS(t)}function U4(){return nf.recaptchaEnterpriseScript}function $4(){return nf.gapiScript}function B4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const z4="recaptcha-enterprise",H4="NO_RECAPTCHA";class W4{constructor(e){this.type=z4,this.auth=Yi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{T4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new E4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;bb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(H4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&bb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=U4();l.length!==0&&(l+=a),ax(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function xb(t,e,n,r=!1){const i=new W4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){const n=tf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($d(s,e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}function q4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function K4(t,e,n){const r=Yi(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=lx(e),{host:o,port:a}=Q4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Y4()}function lx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q4(t){const e=lx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Cb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Cb(o)}}}function Cb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function Z4(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return ku(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function J4(t,e){return Qr(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function eM(t,e){return J4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function nM(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends by{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,n,"signInWithPassword",X4);case"emailLink":return tM(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(e,r,"signUpPassword",Z4);case"emailLink":return nM(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return ku(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="http://localhost";class xs extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=my(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:rM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sM(t){const e=Ha(Wa(t)).link,n=e?Ha(Wa(e)).deep_link_id:null,r=Ha(Wa(t)).deep_link_id;return(r?Ha(Wa(r)).link:null)||r||n||e||t}class wy{constructor(e){var n,r,i,s,o,a;const l=Ha(Wa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=iM((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=sM(e);try{return new wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wy.parseLink(n);return pe(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Nu{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Nu{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Nu{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return ku(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=Rb(r);return new Cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rb(r);return new Cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Ht{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gd(e,n,r,i)}}function cx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(t,s,e,r):s})}async function aM(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Mr(r));const i="reauthenticate";try{const s=await Ul(t,cx(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=yy(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e,n=!1){if(or(t.app))return Promise.reject(Mr(t));const r="signIn",i=await cx(t,r,e),s=await Cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function uM(t,e){return dx(Yi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t){const e=Yi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cM(t,e,n){const r=Yi(t);await Wd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eM)}async function dM(t,e,n){if(or(t.app))return Promise.reject(Mr(t));const r=Yi(t),o=await Wd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hx(t),l}),a=await Cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Pb(t,e,n){return or(t.app)?Promise.reject(Mr(t)):uM(at(t),ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hx(t),r})}function hM(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function pM(t){return at(t).signOut()}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=1e3,gM=10;class px extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);O4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const vM=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mx.type="SESSION";const gx=mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await yM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ey("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function bM(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function wM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TM(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebaseLocalStorageDb",IM=1,Kd="firebaseLocalStorage",_x="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([Kd],e?"readwrite":"readonly").objectStore(Kd)}function SM(){const t=indexedDB.deleteDatabase(yx);return new Ou(t).toPromise()}function Ig(){const t=indexedDB.open(yx,IM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kd,{keyPath:_x})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kd)?e(r):(r.close(),await SM(),e(await Ig()))})})}async function Ab(t,e,n){const r=sf(t,!0).put({[_x]:e,value:n});return new Ou(r).toPromise()}async function xM(t,e){const n=sf(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function kb(t,e){const n=sf(t,!0).delete(e);return new Ou(n).toPromise()}const CM=800,RM=3;class bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(TM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new _M(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Ab(e,qd,"1"),await kb(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ab(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sf(i,!1).getAll();return new Ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bx.type="LOCAL";const PM=bx;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){return e?Nr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kM(t){return dx(t.auth,new Ty(t),t.bypassAuthState)}function NM(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),lM(n,new Ty(t),t.bypassAuthState)}async function OM(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),aM(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kM;case"linkViaPopup":case"linkViaRedirect":return OM;case"reauthViaPopup":case"reauthViaRedirect":return NM;default:Zn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Au(2e3,1e4);class ho extends wx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DM.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="pendingRedirect",td=new Map;class LM extends wx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await VM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VM(t,e){const n=UM(e),r=jM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FM(t,e){td.set(t._key(),e)}function jM(t){return Nr(t._redirectPersistence)}function UM(t){return ed(MM,t.config.apiKey,t.name)}async function $M(t,e,n=!1){if(or(t.app))return Promise.reject(Mr(t));const r=Yi(t),i=AM(r,e),o=await new LM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=10*60*1e3;class zM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ex(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nb(e))}saveEventToCache(e){this.cachedEventUids.add(Nb(e)),this.lastProcessedEventTime=Date.now()}}function Nb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ex({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ex(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qM=/^https?/;async function KM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WM(t);for(const n of e)try{if(QM(n))return}catch{}Zn(t,"unauthorized-domain")}function QM(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qM.test(n))return!1;if(GM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new Au(3e4,6e4);function Ob(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZM(t){return new Promise((e,n)=>{var r,i,s;function o(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),n(cr(t,"network-request-failed"))},timeout:YM.get()})}if(!((i=(r=dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dr().gapi)===null||s===void 0)&&s.load)o();else{const a=B4("iframefcb");return dr()[a]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},ax(`${$4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nd=null,e})}let nd=null;function XM(t){return nd=nd||ZM(t),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Au(5e3,15e3),eL="__/auth/iframe",tL="emulator/auth/iframe",nL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iL(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,tL):`https://${t.config.authDomain}/${eL}`,r={apiKey:e.apiKey,appName:t.name,v:js},i=rL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pu(r).slice(1)}`}async function sL(t){const e=await XM(t),n=dr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:iL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=dr().setTimeout(()=>{s(o)},JM.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aL=500,lL=600,uL="_blank",cL="http://localhost";class Db{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dL(t,e,n,r=aL,i=lL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qt().toLowerCase();n&&(a=ex(u)?uL:n),XS(u)&&(e=e||cL,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(N4(u)&&a!=="_self")return hL(e||"",a),new Db(null);const h=window.open(e||"",a,d);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new Db(h)}function hL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="__/auth/handler",pL="emulator/auth/handler",mL=encodeURIComponent("fac");async function Mb(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:js,eventId:i};if(e instanceof ux){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Nu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${mL}=${encodeURIComponent(l)}`:"";return`${gL(t)}?${Pu(a).slice(1)}${u}`}function gL({config:t}){return t.emulator?vy(t,pL):`https://${t.authDomain}/${fL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class vL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gx,this._completeRedirectFn=$M,this._overrideRedirectResult=FM}async _openPopup(e,n,r,i){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Mb(e,n,r,Eg(),i);return dL(e,o,Ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Mb(e,n,r,Eg(),i);return bM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sL(e),r=new zM(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qp,{type:qp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qp];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sx()||JS()||_y()}}const yL=vL;var Lb="@firebase/auth",Vb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wL(t){Ss(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ox(t)},u=new F4(r,i,s,l);return q4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ss(new Mi("auth-internal",e=>{const n=Yi(e.getProvider("auth").getImmediate());return(r=>new _L(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(Lb,Vb,bL(t)),ur(Lb,Vb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=5*60,TL=LS("authIdTokenMaxAge")||EL;let Fb=null;const IL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TL)return;const i=n==null?void 0:n.token;Fb!==i&&(Fb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SL(t=py()){const e=tf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G4(t,{popupRedirectResolver:yL,persistence:[PM,vM,gx]}),r=LS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=IL(s.toString());fM(n,o,()=>o(n.currentUser)),hM(n,a=>o(a))}}const i=OS("auth");return i&&K4(n,`http://${i}`),n}function xL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wL("Browser");var jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,Tx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function P(){}P.prototype=b.prototype,I.D=b.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(A,k,O){for(var S=Array(arguments.length-2),V=2;V<arguments.length;V++)S[V-2]=arguments[V];return b.prototype[k].apply(A,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,b,P){P||(P=0);var A=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)A[k]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(k=0;16>k;++k)A[k]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=I.g[0],P=I.g[1],k=I.g[2];var O=I.g[3],S=b+(O^P&(k^O))+A[0]+3614090360&4294967295;b=P+(S<<7&4294967295|S>>>25),S=O+(k^b&(P^k))+A[1]+3905402710&4294967295,O=b+(S<<12&4294967295|S>>>20),S=k+(P^O&(b^P))+A[2]+606105819&4294967295,k=O+(S<<17&4294967295|S>>>15),S=P+(b^k&(O^b))+A[3]+3250441966&4294967295,P=k+(S<<22&4294967295|S>>>10),S=b+(O^P&(k^O))+A[4]+4118548399&4294967295,b=P+(S<<7&4294967295|S>>>25),S=O+(k^b&(P^k))+A[5]+1200080426&4294967295,O=b+(S<<12&4294967295|S>>>20),S=k+(P^O&(b^P))+A[6]+2821735955&4294967295,k=O+(S<<17&4294967295|S>>>15),S=P+(b^k&(O^b))+A[7]+4249261313&4294967295,P=k+(S<<22&4294967295|S>>>10),S=b+(O^P&(k^O))+A[8]+1770035416&4294967295,b=P+(S<<7&4294967295|S>>>25),S=O+(k^b&(P^k))+A[9]+2336552879&4294967295,O=b+(S<<12&4294967295|S>>>20),S=k+(P^O&(b^P))+A[10]+4294925233&4294967295,k=O+(S<<17&4294967295|S>>>15),S=P+(b^k&(O^b))+A[11]+2304563134&4294967295,P=k+(S<<22&4294967295|S>>>10),S=b+(O^P&(k^O))+A[12]+1804603682&4294967295,b=P+(S<<7&4294967295|S>>>25),S=O+(k^b&(P^k))+A[13]+4254626195&4294967295,O=b+(S<<12&4294967295|S>>>20),S=k+(P^O&(b^P))+A[14]+2792965006&4294967295,k=O+(S<<17&4294967295|S>>>15),S=P+(b^k&(O^b))+A[15]+1236535329&4294967295,P=k+(S<<22&4294967295|S>>>10),S=b+(k^O&(P^k))+A[1]+4129170786&4294967295,b=P+(S<<5&4294967295|S>>>27),S=O+(P^k&(b^P))+A[6]+3225465664&4294967295,O=b+(S<<9&4294967295|S>>>23),S=k+(b^P&(O^b))+A[11]+643717713&4294967295,k=O+(S<<14&4294967295|S>>>18),S=P+(O^b&(k^O))+A[0]+3921069994&4294967295,P=k+(S<<20&4294967295|S>>>12),S=b+(k^O&(P^k))+A[5]+3593408605&4294967295,b=P+(S<<5&4294967295|S>>>27),S=O+(P^k&(b^P))+A[10]+38016083&4294967295,O=b+(S<<9&4294967295|S>>>23),S=k+(b^P&(O^b))+A[15]+3634488961&4294967295,k=O+(S<<14&4294967295|S>>>18),S=P+(O^b&(k^O))+A[4]+3889429448&4294967295,P=k+(S<<20&4294967295|S>>>12),S=b+(k^O&(P^k))+A[9]+568446438&4294967295,b=P+(S<<5&4294967295|S>>>27),S=O+(P^k&(b^P))+A[14]+3275163606&4294967295,O=b+(S<<9&4294967295|S>>>23),S=k+(b^P&(O^b))+A[3]+4107603335&4294967295,k=O+(S<<14&4294967295|S>>>18),S=P+(O^b&(k^O))+A[8]+1163531501&4294967295,P=k+(S<<20&4294967295|S>>>12),S=b+(k^O&(P^k))+A[13]+2850285829&4294967295,b=P+(S<<5&4294967295|S>>>27),S=O+(P^k&(b^P))+A[2]+4243563512&4294967295,O=b+(S<<9&4294967295|S>>>23),S=k+(b^P&(O^b))+A[7]+1735328473&4294967295,k=O+(S<<14&4294967295|S>>>18),S=P+(O^b&(k^O))+A[12]+2368359562&4294967295,P=k+(S<<20&4294967295|S>>>12),S=b+(P^k^O)+A[5]+4294588738&4294967295,b=P+(S<<4&4294967295|S>>>28),S=O+(b^P^k)+A[8]+2272392833&4294967295,O=b+(S<<11&4294967295|S>>>21),S=k+(O^b^P)+A[11]+1839030562&4294967295,k=O+(S<<16&4294967295|S>>>16),S=P+(k^O^b)+A[14]+4259657740&4294967295,P=k+(S<<23&4294967295|S>>>9),S=b+(P^k^O)+A[1]+2763975236&4294967295,b=P+(S<<4&4294967295|S>>>28),S=O+(b^P^k)+A[4]+1272893353&4294967295,O=b+(S<<11&4294967295|S>>>21),S=k+(O^b^P)+A[7]+4139469664&4294967295,k=O+(S<<16&4294967295|S>>>16),S=P+(k^O^b)+A[10]+3200236656&4294967295,P=k+(S<<23&4294967295|S>>>9),S=b+(P^k^O)+A[13]+681279174&4294967295,b=P+(S<<4&4294967295|S>>>28),S=O+(b^P^k)+A[0]+3936430074&4294967295,O=b+(S<<11&4294967295|S>>>21),S=k+(O^b^P)+A[3]+3572445317&4294967295,k=O+(S<<16&4294967295|S>>>16),S=P+(k^O^b)+A[6]+76029189&4294967295,P=k+(S<<23&4294967295|S>>>9),S=b+(P^k^O)+A[9]+3654602809&4294967295,b=P+(S<<4&4294967295|S>>>28),S=O+(b^P^k)+A[12]+3873151461&4294967295,O=b+(S<<11&4294967295|S>>>21),S=k+(O^b^P)+A[15]+530742520&4294967295,k=O+(S<<16&4294967295|S>>>16),S=P+(k^O^b)+A[2]+3299628645&4294967295,P=k+(S<<23&4294967295|S>>>9),S=b+(k^(P|~O))+A[0]+4096336452&4294967295,b=P+(S<<6&4294967295|S>>>26),S=O+(P^(b|~k))+A[7]+1126891415&4294967295,O=b+(S<<10&4294967295|S>>>22),S=k+(b^(O|~P))+A[14]+2878612391&4294967295,k=O+(S<<15&4294967295|S>>>17),S=P+(O^(k|~b))+A[5]+4237533241&4294967295,P=k+(S<<21&4294967295|S>>>11),S=b+(k^(P|~O))+A[12]+1700485571&4294967295,b=P+(S<<6&4294967295|S>>>26),S=O+(P^(b|~k))+A[3]+2399980690&4294967295,O=b+(S<<10&4294967295|S>>>22),S=k+(b^(O|~P))+A[10]+4293915773&4294967295,k=O+(S<<15&4294967295|S>>>17),S=P+(O^(k|~b))+A[1]+2240044497&4294967295,P=k+(S<<21&4294967295|S>>>11),S=b+(k^(P|~O))+A[8]+1873313359&4294967295,b=P+(S<<6&4294967295|S>>>26),S=O+(P^(b|~k))+A[15]+4264355552&4294967295,O=b+(S<<10&4294967295|S>>>22),S=k+(b^(O|~P))+A[6]+2734768916&4294967295,k=O+(S<<15&4294967295|S>>>17),S=P+(O^(k|~b))+A[13]+1309151649&4294967295,P=k+(S<<21&4294967295|S>>>11),S=b+(k^(P|~O))+A[4]+4149444226&4294967295,b=P+(S<<6&4294967295|S>>>26),S=O+(P^(b|~k))+A[11]+3174756917&4294967295,O=b+(S<<10&4294967295|S>>>22),S=k+(b^(O|~P))+A[2]+718787259&4294967295,k=O+(S<<15&4294967295|S>>>17),S=P+(O^(k|~b))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var P=b-this.blockSize,A=this.B,k=this.h,O=0;O<b;){if(k==0)for(;O<=P;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(A[k++]=I.charCodeAt(O++),k==this.blockSize){i(this,A),k=0;break}}else for(;O<b;)if(A[k++]=I[O++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var P=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=P&255,P/=256;for(this.u(I),I=Array(16),b=P=0;4>b;++b)for(var A=0;32>A;A+=8)I[P++]=this.g[b]>>>A&255;return I};function s(I,b){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=b(I)}function o(I,b){this.h=b;for(var P=[],A=!0,k=I.length-1;0<=k;k--){var O=I[k]|0;A&&O==b||(P[k]=O,A=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?s(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(u(-I));for(var b=[],P=1,A=0;I>=P;A++)b[A]=I/P|0,P*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return _(d(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(b,8)),A=h,k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k),S=parseInt(I.substring(k,k+O),b);8>O?(O=u(Math.pow(b,O)),A=A.j(O).add(u(S))):(A=A.j(P),A=A.add(u(S)))}return A}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-_(this).m();for(var I=0,b=1,P=0;P<this.g.length;P++){var A=this.i(P);I+=(0<=A?A:4294967296+A)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(E(this))return"-"+_(this).toString(I);for(var b=u(Math.pow(I,6)),P=this,A="";;){var k=C(P,b).g;P=y(P,k.j(b));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=k,v(P))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=y(this,I),E(I)?-1:v(I)?0:1};function _(I){for(var b=I.g.length,P=[],A=0;A<b;A++)P[A]=~I.g[A];return new o(P,~I.h).add(f)}t.abs=function(){return E(this)?_(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),P=[],A=0,k=0;k<=b;k++){var O=A+(this.i(k)&65535)+(I.i(k)&65535),S=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);A=S>>>16,O&=65535,S&=65535,P[k]=S<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(I,b){return I.add(_(b))}t.j=function(I){if(v(this)||v(I))return h;if(E(this))return E(I)?_(this).j(_(I)):_(_(this).j(I));if(E(I))return _(this.j(_(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var b=this.g.length+I.g.length,P=[],A=0;A<2*b;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<I.g.length;k++){var O=this.i(A)>>>16,S=this.i(A)&65535,V=I.i(k)>>>16,$=I.i(k)&65535;P[2*A+2*k]+=S*$,w(P,2*A+2*k),P[2*A+2*k+1]+=O*$,w(P,2*A+2*k+1),P[2*A+2*k+1]+=S*V,w(P,2*A+2*k+1),P[2*A+2*k+2]+=O*V,w(P,2*A+2*k+2)}for(A=0;A<b;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=b;A<2*b;A++)P[A]=0;return new o(P,0)};function w(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function x(I,b){this.g=I,this.h=b}function C(I,b){if(v(b))throw Error("division by zero");if(v(I))return new x(h,h);if(E(I))return b=C(_(I),b),new x(_(b.g),_(b.h));if(E(b))return b=C(I,_(b)),new x(_(b.g),b.h);if(30<I.g.length){if(E(I)||E(b))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=b;0>=A.l(I);)P=D(P),A=D(A);var k=M(P,1),O=M(A,1);for(A=M(A,2),P=M(P,2);!v(A);){var S=O.add(A);0>=S.l(I)&&(k=k.add(P),O=S),A=M(A,1),P=M(P,1)}return b=y(I,k.j(b)),new x(k,b)}for(k=h;0<=I.l(b);){for(P=Math.max(1,Math.floor(I.m()/b.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(P),S=O.j(b);E(S)||0<S.l(I);)P-=A,O=u(P),S=O.j(b);v(O)&&(O=f),k=k.add(O),I=y(I,S)}return new x(k,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),P=[],A=0;A<b;A++)P[A]=this.i(A)&I.i(A);return new o(P,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),P=[],A=0;A<b;A++)P[A]=this.i(A)|I.i(A);return new o(P,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),P=[],A=0;A<b;A++)P[A]=this.i(A)^I.i(A);return new o(P,this.h^I.h)};function D(I){for(var b=I.g.length+1,P=[],A=0;A<b;A++)P[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(P,I.h)}function M(I,b){var P=b>>5;b%=32;for(var A=I.g.length-P,k=[],O=0;O<A;O++)k[O]=0<b?I.i(O+P)>>>b|I.i(O+P+1)<<32-b:I.i(O+P);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Tx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gs=o}).apply(typeof jb<"u"?jb:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,Ga,Sx,rd,Sg,xx,Cx,Rx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var L=c[R];if(!(L in g))break e;g=g[L]}c=c[c.length-1],R=g[c],p=p(R),p!=R&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,R=!1,L={next:function(){if(!R&&g<c.length){var j=g++;return{value:p(j,c[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function h(c,p,g){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function f(c,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var R=g.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function v(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(R,L,j){for(var Q=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Q[Be-2]=arguments[Be];return p.prototype[L].apply(R,Q)}}function E(c){const p=c.length;if(0<p){const g=Array(p);for(let R=0;R<p;R++)g[R]=c[R];return g}return[]}function _(c,p){for(let g=1;g<arguments.length;g++){const R=arguments[g];if(l(R)){const L=c.length||0,j=R.length||0;c.length=L+j;for(let Q=0;Q<j;Q++)c[L+Q]=R[Q]}else c.push(R)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(c,p,g){for(const R in c)p.call(g,c[R],R,c)}function I(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function b(c){const p={};for(const g in c)p[g]=c[g];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,p){let g,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(g in R)c[g]=R[g];for(let j=0;j<P.length;j++)g=P[j],Object.prototype.hasOwnProperty.call(R,g)&&(c[g]=R[g])}}function k(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function S(){var c=W;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,g){const R=$.get();R.set(p,g),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new y(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let U,F=!1,W=new V,z=()=>{const c=a.Promise.resolve(void 0);U=()=>{c.then(Z)}};var Z=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(g){O(g)}var p=$;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function fe(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{C(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}v(fe,ie);var Se={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function Ln(c,p,g,R,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!R,this.ha=L,this.key=++Tt,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zr(c){this.src=c,this.g={},this.h=0}Zr.prototype.add=function(c,p,g,R,L){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var Q=Vn(c,p,R,L);return-1<Q?(p=c[Q],g||(p.fa=!1)):(p=new Ln(p,this.src,j,!!R,L),p.fa=g,c.push(p)),p};function ht(c,p){var g=p.type;if(g in c.g){var R=c.g[g],L=Array.prototype.indexOf.call(R,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(R,L,1),j&&(er(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Vn(c,p,g,R){for(var L=0;L<c.length;++L){var j=c[L];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==R)return L}return-1}var Bs="closure_lm_"+(1e6*Math.random()|0),ca={};function q0(c,p,g,R,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)q0(c,p[j],g,R,L);return null}return g=Y0(g),c&&c[$e]?c.K(p,g,u(R)?!!R.capture:!!R,L):DP(c,p,g,!1,R,L)}function DP(c,p,g,R,L,j){if(!p)throw Error("Invalid event type");var Q=u(L)?!!L.capture:!!L,Be=Yf(c);if(Be||(c[Bs]=Be=new Zr(c)),g=Be.add(p,g,R,Q,j),g.proxy)return g;if(R=MP(),g.proxy=R,R.src=c,R.listener=g,c.addEventListener)we||(L=Q),L===void 0&&(L=!1),c.addEventListener(p.toString(),R,L);else if(c.attachEvent)c.attachEvent(Q0(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return g}function MP(){function c(g){return p.call(c.src,c.listener,g)}const p=LP;return c}function K0(c,p,g,R,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)K0(c,p[j],g,R,L);else R=u(R)?!!R.capture:!!R,g=Y0(g),c&&c[$e]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],g=Vn(j,g,R,L),-1<g&&(er(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Yf(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Vn(p,g,R,L)),(g=-1<c?p[c]:null)&&Qf(g))}function Qf(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[$e])ht(p.i,c);else{var g=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(g,R,c.capture):p.detachEvent?p.detachEvent(Q0(g),R):p.addListener&&p.removeListener&&p.removeListener(R),(g=Yf(p))?(ht(g,c),g.h==0&&(g.src=null,p[Bs]=null)):er(c)}}}function Q0(c){return c in ca?ca[c]:ca[c]="on"+c}function LP(c,p){if(c.da)c=!0;else{p=new fe(p,this);var g=c.listener,R=c.ha||c.src;c.fa&&Qf(c),c=g.call(R,p)}return c}function Yf(c){return c=c[Bs],c instanceof Zr?c:null}var Zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y0(c){return typeof c=="function"?c:(c[Zf]||(c[Zf]=function(p){return c.handleEvent(p)}),c[Zf])}function Dt(){X.call(this),this.i=new Zr(this),this.M=this,this.F=null}v(Dt,X),Dt.prototype[$e]=!0,Dt.prototype.removeEventListener=function(c,p,g,R){K0(this,c,p,g,R)};function Qt(c,p){var g,R=c.F;if(R)for(g=[];R;R=R.F)g.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var L=p;p=new ie(R,c),A(p,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var Q=p.g=g[j];L=qu(Q,R,!0,p)&&L}if(Q=p.g=c,L=qu(Q,R,!0,p)&&L,L=qu(Q,R,!1,p)&&L,g)for(j=0;j<g.length;j++)Q=p.g=g[j],L=qu(Q,R,!1,p)&&L}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],R=0;R<g.length;R++)er(g[R]);delete c.g[p],c.h--}}this.F=null},Dt.prototype.K=function(c,p,g,R){return this.i.add(String(c),p,!1,g,R)},Dt.prototype.L=function(c,p,g,R){return this.i.add(String(c),p,!0,g,R)};function qu(c,p,g,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var Q=p[j];if(Q&&!Q.da&&Q.capture==g){var Be=Q.listener,It=Q.ha||Q.src;Q.fa&&ht(c.i,Q),L=Be.call(It,R)!==!1&&L}}return L&&!R.defaultPrevented}function Z0(c,p,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function X0(c){c.g=Z0(()=>{c.g=null,c.i&&(c.i=!1,X0(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class VP extends X{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:X0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(c){X.call(this),this.h=c,this.g={}}v(da,X);var J0=[];function e_(c){M(c.g,function(p,g){this.g.hasOwnProperty(g)&&Qf(p)},c),c.g={}}da.prototype.N=function(){da.aa.N.call(this),e_(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=a.JSON.stringify,FP=a.JSON.parse,jP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Jf(){}Jf.prototype.h=null;function t_(c){return c.h||(c.h=c.i())}function n_(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ep(){ie.call(this,"d")}v(ep,ie);function tp(){ie.call(this,"c")}v(tp,ie);var Ji={},r_=null;function Ku(){return r_=r_||new Dt}Ji.La="serverreachability";function i_(c){ie.call(this,Ji.La,c)}v(i_,ie);function fa(c){const p=Ku();Qt(p,new i_(p))}Ji.STAT_EVENT="statevent";function s_(c,p){ie.call(this,Ji.STAT_EVENT,c),this.stat=p}v(s_,ie);function Yt(c){const p=Ku();Qt(p,new s_(p,c))}Ji.Ma="timingevent";function o_(c,p){ie.call(this,Ji.Ma,c),this.size=p}v(o_,ie);function pa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ma(){this.g=!0}ma.prototype.xa=function(){this.g=!1};function UP(c,p,g,R,L,j){c.info(function(){if(c.g)if(j)for(var Q="",Be=j.split("&"),It=0;It<Be.length;It++){var Ae=Be[It].split("=");if(1<Ae.length){var Mt=Ae[0];Ae=Ae[1];var Lt=Mt.split("_");Q=2<=Lt.length&&Lt[1]=="type"?Q+(Mt+"="+Ae+"&"):Q+(Mt+"=redacted&")}}else Q=null;else Q=j;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+p+`
`+g+`
`+Q})}function $P(c,p,g,R,L,j,Q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+p+`
`+g+`
`+j+" "+Q})}function zs(c,p,g,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+zP(c,g)+(R?" "+R:"")})}function BP(c,p){c.info(function(){return"TIMEOUT: "+p})}ma.prototype.info=function(){};function zP(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var R=g[c];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return Xf(g)}catch{return p}}var Qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},np;function Yu(){}v(Yu,Jf),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},np=new Yu;function Xr(c,p,g,R){this.j=c,this.i=p,this.l=g,this.R=R||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}var u_={},rp={};function ip(c,p,g){c.L=1,c.v=ec(Er(p)),c.m=g,c.P=!0,c_(c,null)}function c_(c,p){c.F=Date.now(),Zu(c),c.A=Er(c.v);var g=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),I_(g.i,"t",R),c.C=0,g=c.j.J,c.h=new l_,c.g=B_(c.j,g?p:null,!c.m),0<c.O&&(c.M=new VP(f(c.Y,c,c.g),c.O)),p=c.U,g=c.g,R=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(J0[0]=L.toString()),L=J0);for(var j=0;j<L.length;j++){var Q=q0(g,L[j],R||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),fa(),UP(c.i,c.u,c.A,c.l,c.R,c.m)}Xr.prototype.ca=function(c){c=c.target;const p=this.M;p&&Tr(c)==3?p.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=Tr(this.g);var p=this.g.Ba();const Gs=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||k_(this.g)))){this.J||Lt!=4||p==7||(p==8||0>=Gs?fa(3):fa(2)),sp(this);var g=this.g.Z();this.X=g;t:if(d_(this)){var R=k_(this.g);c="";var L=R.length,j=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),ga(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(j&&p==L-1)});R.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=g==200,$P(this.i,this.u,this.A,this.l,this.R,Lt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,It=this.g;if((Be=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Be)){var Ae=Be;break t}}Ae=null}if(g=Ae)zs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,op(this,g);else{this.o=!1,this.s=3,Yt(12),es(this),ga(this);break e}}if(this.P){g=!0;let Fn;for(;!this.J&&this.C<Q.length;)if(Fn=HP(this,Q),Fn==rp){Lt==4&&(this.s=4,Yt(14),g=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==u_){this.s=4,Yt(15),zs(this.i,this.l,Q,"[Invalid Chunk]"),g=!1;break}else zs(this.i,this.l,Fn,null),op(this,Fn);if(d_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||Q.length!=0||this.h.h||(this.s=1,Yt(16),g=!1),this.o=this.o&&g,!g)zs(this.i,this.l,Q,"[Invalid Chunked Response]"),es(this),ga(this);else if(0<Q.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),hp(Mt),Mt.M=!0,Yt(11))}}else zs(this.i,this.l,Q,null),op(this,Q);Lt==4&&es(this),this.o&&!this.J&&(Lt==4?F_(this.j,this):(this.o=!1,Zu(this)))}else aA(this.g),g==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),es(this),ga(this)}}}catch{}finally{}};function d_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function HP(c,p){var g=c.C,R=p.indexOf(`
`,g);return R==-1?rp:(g=Number(p.substring(g,R)),isNaN(g)?u_:(R+=1,R+g>p.length?rp:(p=p.slice(R,R+g),c.C=R+g,p)))}Xr.prototype.cancel=function(){this.J=!0,es(this)};function Zu(c){c.S=Date.now()+c.I,h_(c,c.I)}function h_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pa(f(c.ba,c),p)}function sp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(BP(this.i,this.A),this.L!=2&&(fa(),Yt(17)),es(this),this.s=2,ga(this)):h_(this,this.S-c)};function ga(c){c.j.G==0||c.J||F_(c.j,c)}function es(c){sp(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,e_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function op(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||ap(g.h,c))){if(!c.K&&ap(g.h,c)&&g.G==3){try{var R=g.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)oc(g),ic(g);else break e;dp(g),Yt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=pa(f(g.Za,g),6e3));if(1>=m_(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ns(g,11)}else if((c.K||g.g==c)&&oc(g),!w(p))for(L=g.Da.g.parse(p),p=0;p<L.length;p++){let Ae=L[p];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const Mt=Ae[3];Mt!=null&&(g.la=Mt,g.j.info("VER="+g.la));const Lt=Ae[4];Lt!=null&&(g.Aa=Lt,g.j.info("SVER="+g.Aa));const Gs=Ae[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(R=1.5*Gs,g.L=R,g.j.info("backChannelRequestTimeoutMs_="+R)),R=g;const Fn=c.g;if(Fn){const lc=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lc){var j=R.h;j.g||lc.indexOf("spdy")==-1&&lc.indexOf("quic")==-1&&lc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(lp(j,j.h),j.h=null))}if(R.D){const fp=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;fp&&(R.ya=fp,He(R.I,R.D,fp))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),R=g;var Q=c;if(R.qa=$_(R,R.J?R.ia:null,R.W),Q.K){g_(R.h,Q);var Be=Q,It=R.L;It&&(Be.I=It),Be.B&&(sp(Be),Zu(Be)),R.g=Q}else L_(R);0<g.i.length&&sc(g)}else Ae[0]!="stop"&&Ae[0]!="close"||ns(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ns(g,7):cp(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}fa(4)}catch{}}var WP=class{constructor(c,p){this.g=c,this.map=p}};function f_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function m_(c){return c.h?1:c.g?c.g.size:0}function ap(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function lp(c,p){c.g?c.g.add(p):c.h=p}function g_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}f_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function v_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return E(c.i)}function GP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,R=0;R<g;R++)p.push(c[R]);return p}p=[],g=0;for(R in c)p[g++]=c[R];return p}function qP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const R in c)p[g++]=R;return p}}}function y_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=qP(c),R=GP(c),L=R.length,j=0;j<L;j++)p.call(void 0,R[j],g&&g[j],c)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KP(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var R=c[g].indexOf("="),L=null;if(0<=R){var j=c[g].substring(0,R);L=c[g].substring(R+1)}else j=c[g];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ts(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ts){this.h=c.h,Xu(this,c.j),this.o=c.o,this.g=c.g,Ju(this,c.s),this.l=c.l;var p=c.i,g=new _a;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),b_(this,g),this.m=c.m}else c&&(p=String(c).match(__))?(this.h=!1,Xu(this,p[1]||"",!0),this.o=va(p[2]||""),this.g=va(p[3]||"",!0),Ju(this,p[4]),this.l=va(p[5]||"",!0),b_(this,p[6]||"",!0),this.m=va(p[7]||"")):(this.h=!1,this.i=new _a(null,this.h))}ts.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ya(p,w_,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ya(p,w_,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ya(g,g.charAt(0)=="/"?ZP:YP,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ya(g,JP)),c.join("")};function Er(c){return new ts(c)}function Xu(c,p,g){c.j=g?va(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ju(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function b_(c,p,g){p instanceof _a?(c.i=p,eA(c.i,c.h)):(g||(p=ya(p,XP)),c.i=new _a(p,c.h))}function He(c,p,g){c.i.set(p,g)}function ec(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function va(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,QP),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var w_=/[#\/\?@]/g,YP=/[#\?:]/g,ZP=/[#\?]/g,XP=/[#\?@]/g,JP=/#/g;function _a(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&KP(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=_a.prototype,t.add=function(c,p){Jr(this),this.i=null,c=Hs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function E_(c,p){Jr(c),p=Hs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function T_(c,p){return Jr(c),p=Hs(c,p),c.g.has(p)}t.forEach=function(c,p){Jr(this),this.g.forEach(function(g,R){g.forEach(function(L){c.call(p,L,R,this)},this)},this)},t.na=function(){Jr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let R=0;R<p.length;R++){const L=c[R];for(let j=0;j<L.length;j++)g.push(p[R])}return g},t.V=function(c){Jr(this);let p=[];if(typeof c=="string")T_(this,c)&&(p=p.concat(this.g.get(Hs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return Jr(this),this.i=null,c=Hs(this,c),T_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function I_(c,p,g){E_(c,p),0<g.length&&(c.i=null,c.g.set(Hs(c,p),E(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var R=p[g];const j=encodeURIComponent(String(R)),Q=this.V(R);for(R=0;R<Q.length;R++){var L=j;Q[R]!==""&&(L+="="+encodeURIComponent(String(Q[R]))),c.push(L)}}return this.i=c.join("&")};function Hs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function eA(c,p){p&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(g,R){var L=R.toLowerCase();R!=L&&(E_(this,R),I_(this,L,g))},c)),c.j=p}function tA(c,p){const g=new ma;if(a.Image){const R=new Image;R.onload=m(ei,g,"TestLoadImage: loaded",!0,p,R),R.onerror=m(ei,g,"TestLoadImage: error",!1,p,R),R.onabort=m(ei,g,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(ei,g,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function nA(c,p){const g=new ma,R=new AbortController,L=setTimeout(()=>{R.abort(),ei(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(j=>{clearTimeout(L),j.ok?ei(g,"TestPingServer: ok",!0,p):ei(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ei(g,"TestPingServer: error",!1,p)})}function ei(c,p,g,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(g)}catch{}}function rA(){this.g=new jP}function iA(c,p,g){const R=g||"";try{y_(c,function(L,j){let Q=L;u(L)&&(Q=Xf(L)),p.push(R+j+"="+encodeURIComponent(Q))})}catch(L){throw p.push(R+"type="+encodeURIComponent("_badmap")),L}}function tc(c){this.l=c.Ub||null,this.j=c.eb||!1}v(tc,Jf),tc.prototype.g=function(){return new nc(this.l,this.j)},tc.prototype.i=function(c){return function(){return c}}({});function nc(c,p){Dt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nc,Dt),t=nc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,wa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;S_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function S_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ba(this):wa(this),this.readyState==3&&S_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function wa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function x_(c){let p="";return M(c,function(g,R){p+=R,p+=":",p+=g,p+=`\r
`}),p}function up(c,p,g){e:{for(R in g){var R=!1;break e}R=!0}R||(g=x_(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):He(c,p,g))}function tt(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(tt,Dt);var sA=/^https?$/i,oA=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():np.g(),this.v=this.o?t_(this.o):t_(np),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){C_(this,j);return}if(c=g||"",g=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)g.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())g.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oA,p,void 0))||R||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of g)this.g.setRequestHeader(j,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{A_(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){C_(this,j)}};function C_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,R_(c),rc(c)}function R_(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rc(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P_(this):this.bb())},t.bb=function(){P_(this)};function P_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Tr(c)!=4||c.Z()!=2)){if(c.u&&Tr(c)==4)Z0(c.Ea,0,c);else if(Qt(c,"readystatechange"),Tr(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var R;if(R=Q===0){var L=String(c.D).match(__)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),R=!sA.test(L?L.toLowerCase():"")}g=R}if(g)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var j=2<Tr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",R_(c)}}finally{rc(c)}}}}function rc(c,p){if(c.g){A_(c);const g=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qt(c,"ready");try{g.onreadystatechange=R}catch{}}}function A_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),FP(p)}};function k_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function aA(c){const p={};c=(c.g&&2<=Tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(w(c[R]))continue;var g=k(c[R]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[L]||[];p[L]=j,j.push(g)}I(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function N_(c){this.Aa=0,this.i=[],this.j=new ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new f_(c&&c.concurrentRequestLimit),this.Da=new rA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N_.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,R){Yt(0),this.W=c,this.H=p||{},g&&R!==void 0&&(this.H.OSID=g,this.H.OAID=R),this.F=this.X,this.I=$_(this,null,this.W),sc(this)};function cp(c){if(O_(c),c.G==3){var p=c.U++,g=Er(c.I);if(He(g,"SID",c.K),He(g,"RID",p),He(g,"TYPE","terminate"),Ta(c,g),p=new Xr(c,c.j,p),p.L=2,p.v=ec(Er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=B_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Zu(p)}U_(c)}function ic(c){c.g&&(hp(c),c.g.cancel(),c.g=null)}function O_(c){ic(c),c.u&&(a.clearTimeout(c.u),c.u=null),oc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sc(c){if(!p_(c.h)&&!c.s){c.s=!0;var p=c.Ga;U||z(),F||(U(),F=!0),W.add(p,c),c.B=0}}function lA(c,p){return m_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pa(f(c.Ga,c,p),j_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Xr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=b(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var R=this.i[g];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=M_(this,L,p),g=Er(this.I),He(g,"RID",c),He(g,"CVER",22),this.D&&He(g,"X-HTTP-Session-Id",this.D),Ta(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(x_(j)))+"&"+p:this.m&&up(g,this.m,j)),lp(this.h,L),this.Ua&&He(g,"TYPE","init"),this.P?(He(g,"$req",p),He(g,"SID","null"),L.T=!0,ip(L,g,null)):ip(L,g,p),this.G=2}}else this.G==3&&(c?D_(this,c):this.i.length==0||p_(this.h)||D_(this))};function D_(c,p){var g;p?g=p.l:g=c.U++;const R=Er(c.I);He(R,"SID",c.K),He(R,"RID",g),He(R,"AID",c.T),Ta(c,R),c.m&&c.o&&up(R,c.m,c.o),g=new Xr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=M_(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lp(c.h,g),ip(g,R,p)}function Ta(c,p){c.H&&M(c.H,function(g,R){He(p,R,g)}),c.l&&y_({},function(g,R){He(p,R,g)})}function M_(c,p,g){g=Math.min(c.i.length,g);var R=c.l?f(c.l.Na,c.l,c):null;e:{var L=c.i;let j=-1;for(;;){const Q=["count="+g];j==-1?0<g?(j=L[0].g,Q.push("ofs="+j)):j=0:Q.push("ofs="+j);let Be=!0;for(let It=0;It<g;It++){let Ae=L[It].g;const Mt=L[It].map;if(Ae-=j,0>Ae)j=Math.max(0,L[It].g-100),Be=!1;else try{iA(Mt,Q,"req"+Ae+"_")}catch{R&&R(Mt)}}if(Be){R=Q.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,R}function L_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;U||z(),F||(U(),F=!0),W.add(p,c),c.v=0}}function dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pa(f(c.Fa,c),j_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pa(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),ic(this),V_(this))};function hp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function V_(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Er(c.qa);He(p,"RID","rpc"),He(p,"SID",c.K),He(p,"AID",c.T),He(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(p,"TO",c.ja),He(p,"TYPE","xmlhttp"),Ta(c,p),c.m&&c.o&&up(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=ec(Er(p)),g.m=null,g.P=!0,c_(g,c)}t.Za=function(){this.C!=null&&(this.C=null,ic(this),dp(this),Yt(19))};function oc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function F_(c,p){var g=null;if(c.g==p){oc(c),hp(c),c.g=null;var R=2}else if(ap(c.h,p))g=p.D,g_(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;R=Ku(),Qt(R,new o_(R,g)),sc(c)}else L_(c);else if(L=p.s,L==3||L==0&&0<p.X||!(R==1&&lA(c,p)||R==2&&dp(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),L){case 1:ns(c,5);break;case 4:ns(c,10);break;case 3:ns(c,6);break;default:ns(c,2)}}}function j_(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function ns(c,p){if(c.j.info("Error code "+p),p==2){var g=f(c.fb,c),R=c.Xa;const L=!R;R=new ts(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xu(R,"https"),ec(R),L?tA(R.toString(),g):nA(R.toString(),g)}else Yt(2);c.G=0,c.l&&c.l.sa(p),U_(c),O_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function U_(c){if(c.G=0,c.ka=[],c.l){const p=v_(c.h);(p.length!=0||c.i.length!=0)&&(_(c.ka,p),_(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function $_(c,p,g){var R=g instanceof ts?Er(g):new ts(g);if(R.g!="")p&&(R.g=p+"."+R.g),Ju(R,R.s);else{var L=a.location;R=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new ts(null);R&&Xu(j,R),p&&(j.g=p),L&&Ju(j,L),g&&(j.l=g),R=j}return g=c.D,p=c.ya,g&&p&&He(R,g,p),He(R,"VER",c.la),Ta(c,R),R}function B_(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new tt(new tc({eb:g})):new tt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z_(){}t=z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ac(){}ac.prototype.g=function(c,p){return new pn(c,p)};function pn(c,p){Dt.call(this),this.g=new N_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ws(this)}v(pn,Dt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){cp(this.g)},pn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Xf(c),c=g);p.i.push(new WP(p.Ya++,c)),p.G==3&&sc(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,cp(this.g),delete this.g,pn.aa.N.call(this)};function H_(c){ep.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}v(H_,ep);function W_(){tp.call(this),this.status=1}v(W_,tp);function Ws(c){this.g=c}v(Ws,z_),Ws.prototype.ua=function(){Qt(this.g,"a")},Ws.prototype.ta=function(c){Qt(this.g,new H_(c))},Ws.prototype.sa=function(c){Qt(this.g,new W_)},Ws.prototype.ra=function(){Qt(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Rx=function(){return new ac},Cx=function(){return Ku()},xx=Ji,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qu.NO_ERROR=0,Qu.TIMEOUT=8,Qu.HTTP_ERROR=6,rd=Qu,a_.COMPLETE="complete",Sx=a_,n_.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Ga=n_,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Ix=tt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new hy("@firebase/firestore");function Na(){return Rs.logLevel}function re(t,...e){if(Rs.logLevel<=Ie.DEBUG){const n=e.map(Iy);Rs.debug(`Firestore (${na}): ${t}`,...n)}}function zr(t,...e){if(Rs.logLevel<=Ie.ERROR){const n=e.map(Iy);Rs.error(`Firestore (${na}): ${t}`,...n)}}function Mo(t,...e){if(Rs.logLevel<=Ie.WARN){const n=e.map(Iy);Rs.warn(`Firestore (${na}): ${t}`,...n)}}function Iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Fe(t,e){t||ge()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class RL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PL{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new $t(e)}}class AL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new NL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Qe(0,0))}static max(){return new ve(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Bl{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const ML=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Bl{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return ML.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ge.fromString(e))}static fromName(e){return new le(Ge.fromString(e).popFirst(5))}static empty(){return new le(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ge(e.slice()))}}function LL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Li(i,le.empty(),e)}function VL(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ve.min(),le.empty(),-1)}static max(){return new Li(ve.max(),le.empty(),-1)}}function FL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==jL)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $L(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sy.oe=-1;function of(t){return t==null}function Qd(t){return t===0&&1/t==-1/0}function BL(t){return typeof t=="number"&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new kt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nx("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const zL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=zL.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cy(t){const e=t.mapValue.fields.__previous_value__;return xy(e)?Cy(e):e}function zl(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xy(t)?4:GL(t)?9007199254740991:WL(t)?10:11:ge()}function gr(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zl(t).isEqual(zl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vi(i.timestampValue),a=Vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ps(i.bytesValue).isEqual(Ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=it(i.doubleValue),a=it(s.doubleValue);return o===a?Qd(o)===Qd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($b(o)!==$b(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Wl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=it(s.integerValue||s.doubleValue),l=it(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(zl(t),zl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ps(s),l=Ps(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ke(a[u],l[u]);if(d!==0)return d}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ke(it(s.latitude),it(o.latitude));return a!==0?a:ke(it(s.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=ke(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:Hb(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pc.mapValue&&o===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(o===Pc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ke(l[h],d[h]);if(f!==0)return f;const m=Vo(a[l[h]],u[d[h]]);if(m!==0)return m}return ke(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Vi(t),r=Vi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function Hb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Vo(n[i],r[i]);if(s)return s}return ke(n.length,r.length)}function Fo(t){return xg(t)}function xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xg(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function Wb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cg(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function Gb(t){return!!t&&"nullValue"in t}function qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function WL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(cl(this.value))}}function Ox(t){const e=[];return Us(t.fields,(n,r)=>{const i=new Rt([n]);if(id(r)){const s=Ox(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ve.min(),ve.min(),ve.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ve.min(),ve.min(),on.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ve.min(),ve.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.position=e,this.inclusive=n}}function Kb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function qL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{}class dt extends Dx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QL(e,n,r):n==="array-contains"?new XL(e,r):n==="in"?new JL(e,r):n==="not-in"?new e6(e,r):n==="array-contains-any"?new t6(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YL(e,r):new ZL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Dx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return Mx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mx(t){return t.op==="and"}function Lx(t){return KL(t)&&Mx(t)}function KL(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Rg(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(Lx(t))return t.filters.map(e=>Rg(e)).join(",");{const e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function Vx(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Vx(o,i.filters[a]),!0):!1}(t,e):void ge()}function Fx(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(Fx).join(" ,")+"}"}(t):"Filter"}class QL extends dt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class YL extends dt{constructor(e,n){super(e,"in",n),this.keys=jx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZL extends dt{constructor(e,n){super(e,"not-in",n),this.keys=jx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class XL extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Wl(n.arrayValue,this.value)}}class JL extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class e6 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class t6 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Yb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new n6(t,e,n,r,i,s,o)}function Py(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ue=n}return e.ue}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Pg(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function r6(t,e,n,r,i,s,o,a){return new ra(t,e,n,r,i,s,o,a)}function ky(t){return new ra(t)}function Zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ux(t){return t.collectionGroup!==null}function dl(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gl(s,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Gl(Rt.keyField(),r))}return e.ce}function hr(t){const e=ye(t);return e.le||(e.le=i6(e,dl(t))),e.le}function i6(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gl(i.field,s)});const n=t.endAt?new Yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yd(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){const n=t.filters.concat([e]);return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zd(t,e,n){return new ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function af(t,e){return Ay(hr(t),hr(e))&&t.limitType===e.limitType}function $x(t){return`${Py(hr(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Fx(i)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Kb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,dl(r),i)||r.endAt&&!function(o,a,l){const u=Kb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,dl(r),i))}(t,e)}function s6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bx(t){return(e,n)=>{let r=!1;for(const i of dl(t)){const s=o6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o6(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Vo(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new et(le.comparator);function Hr(){return a6}const zx=new et(le.comparator);function qa(...t){let e=zx;for(const n of t)e=e.insert(n.key,n);return e}function Hx(t){let e=zx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return hl()}function Wx(){return hl()}function hl(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const l6=new et(le.comparator),u6=new kt(le.comparator);function Te(...t){let e=u6;for(const n of t)e=e.add(n);return e}const c6=new kt(ke);function d6(){return c6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function Gx(t){return{integerValue:""+t}}function h6(t,e){return BL(e)?Gx(e):Ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function f6(t,e,n){return t instanceof Xd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xy(s)&&(s=Cy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?Kx(t,e):t instanceof Kl?Qx(t,e):function(i,s){const o=qx(i,s),a=Xb(o)+Xb(i.Pe);return Cg(o)&&Cg(i.Pe)?Gx(a):Ny(i.serializer,a)}(t,e)}function p6(t,e,n){return t instanceof ql?Kx(t,e):t instanceof Kl?Qx(t,e):n}function qx(t,e){return t instanceof Jd?function(r){return Cg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xd extends uf{}class ql extends uf{constructor(e){super(),this.elements=e}}function Kx(t,e){const n=Yx(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Kl extends uf{constructor(e){super(),this.elements=e}}function Qx(t,e){let n=Yx(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Jd extends uf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Xb(t){return it(t.integerValue||t.doubleValue)}function Yx(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Kl&&i instanceof Kl?Lo(r.elements,i.elements,gr):r instanceof Jd&&i instanceof Jd?gr(r.Pe,i.Pe):r instanceof Xd&&i instanceof Xd}(t.transform,e.transform)}class g6{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function Zx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new df(t.key,dn.none()):new Lu(t.key,t.data,dn.none());{const n=t.data,r=on.empty();let i=new kt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new vn(i.toArray()),dn.none())}}function v6(t,e,n){t instanceof Lu?function(i,s,o){const a=i.value.clone(),l=ew(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ew(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Xx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,r){return t instanceof Lu?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=s.value.clone(),d=tw(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!sd(s.precondition,o))return a;const u=tw(s.fieldTransforms,l,o),d=o.data;return d.setAll(Xx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qx(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(s,o)=>m6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ew(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p6(o,a,n[i]))}return r}function tw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,f6(s,o,e))}return r}class df extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _6 extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Wx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Zx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>Jb(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>Jb(n,r))}}class Oy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return l6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Oy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,xe;function T6(t){switch(t){default:return ge();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Jx(t){if(t===void 0)return zr("GRPC error has no .code"),B.UNKNOWN;switch(t){case lt.OK:return B.OK;case lt.CANCELLED:return B.CANCELLED;case lt.UNKNOWN:return B.UNKNOWN;case lt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case lt.INTERNAL:return B.INTERNAL;case lt.UNAVAILABLE:return B.UNAVAILABLE;case lt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case lt.NOT_FOUND:return B.NOT_FOUND;case lt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case lt.ABORTED:return B.ABORTED;case lt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case lt.DATA_LOSS:return B.DATA_LOSS;default:return ge()}}(xe=lt||(lt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new gs([4294967295,4294967295],0);function nw(t){const e=I6().encode(t),n=new Tx;return n.update(e),new Uint8Array(n.digest())}function rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gs([n,r],0),new gs([i,s],0)]}class Dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=gs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(gs.fromNumber(r)));return i.compare(S6)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Dy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(ve.min(),i,new et(ke),Hr(),Te())}}class Vu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class eC{constructor(e,n){this.targetId=e,this.me=n}}class tC{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iw{constructor(){this.fe=0,this.ge=ow(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Vu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ow()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class x6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=sw(),this.Qe=new et(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Pg(s))if(r===0){const o=new le(s.path);this.Ue(n,o,zt.newNoDocument(o,ve.min()))}else Fe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ps(r).toUint8Array()}catch(l){if(l instanceof Nx)return Mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dy(o,i,s)}catch(l){return Mo(l instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Pg(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,zt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new hf(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=sw(),this.Qe=new et(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new iw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sw(){return new et(le.comparator)}function ow(){return new et(le.comparator)}const C6={asc:"ASCENDING",desc:"DESCENDING"},R6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P6={and:"AND",or:"OR"};class A6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k6(t,e){return eh(t,e.toTimestamp())}function fr(t){return Fe(!!t),ve.fromTimestamp(function(n){const r=Vi(n);return new Qe(r.seconds,r.nanos)}(t))}function My(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rC(t){const e=Ge.fromString(t);return Fe(lC(e)),e}function Og(t,e){return My(t.databaseId,e.path)}function Kp(t,e){const n=rC(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(sC(n))}function iC(t,e){return My(t.databaseId,e)}function N6(t){const e=rC(t);return e.length===4?Ge.emptyPath():sC(e)}function Dg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sC(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aw(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function O6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Fe(d===void 0||typeof d=="string"),Ot.fromBase64String(d||"")):(Fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:Jx(u.code);return new te(d,u.message||"")}(o);n=new tC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kp(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):ve.min(),a=new on({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new od(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kp(t,r.document),s=r.readTime?fr(r.readTime):ve.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new od([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kp(t,r.document),s=r.removedTargetIds||[];n=new od([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new E6(i,s),a=r.targetId;n=new eC(a,o)}}return n}function D6(t,e){let n;if(e instanceof Lu)n={update:aw(t,e.key,e.value)};else if(e instanceof df)n={delete:Og(t,e.key)};else if(e instanceof Zi)n={update:aw(t,e.key,e.data),updateMask:z6(e.fieldMask)};else{if(!(e instanceof _6))return ge();n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function M6(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(ve.min())&&(o=fr(s)),new g6(o,i.transformResults||[])}(n,e))):[]}function L6(t,e){return{documents:[iC(t,e.path)]}}function V6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iC(t,i);const s=function(u){if(u.length!==0)return aC(Xn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ys(f.field),direction:U6(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function F6(t){let e=N6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=oC(h);return f instanceof Xn&&Lx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Gl(Zs(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,of(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Yd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Yd(m,f)}(n.endAt)),r6(e,i,o,s,a,"F",l,u)}function j6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zs(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zs(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zs(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>oC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function U6(t){return C6[t]}function $6(t){return R6[t]}function B6(t){return P6[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Zs(t){return Rt.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof dt?function(n){if(n.op==="=="){if(qb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:$6(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(i=>aC(i));return r.length===1?r[0]:{compositeFilter:{op:B6(n.op),filters:r}}}(t):ge()}function z6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.ct=e}}function W6(t){const e=F6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.un=new q6}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Li.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class q6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jo(0)}static kn(){return new jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fl(r.mutation,i,vn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=hl(),a=function(){return hl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),fl(d.mutation,u,d.mutation.getFieldMask(),Qe.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new Q6(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new et((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Wx();d.forEach(f=>{if(!s.has(f)){const m=Zx(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ux(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(fs());let a=-1,l=s;return o.next(u=>H.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Te())).next(d=>({batchId:a,changes:Hx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(h,f){return new ra(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,zt.newInvalidDocument(d)))});let a=qa();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&fl(d.mutation,u,vn.empty(),Qe.now()),lf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:W6(i.bundledQuery),readTime:fr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.overlays=new et(le.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=fs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Tr=new kt(vt.Er),this.dr=new kt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Ge([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Ge([])),r=new vt(n,e),i=new vt(n,e+1);let s=Te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(vt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(ke);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new vt(new le(s),0);let a=new kt(ke);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.Mr=e,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||FL(VL(d),r)<=0||(i.has(d.key)||lf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nV(this)}getSize(e){return H.resolve(this.size)}}class nV extends K6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.persistence=e,this.Nr=new ia(n=>Py(n),Ay),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ly,this.targetCount=0,this.kr=jo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sy(0),this.Kr=!1,this.Kr=!0,this.$r=new J6,this.referenceDelegate=e(this),this.Ur=new rV(this),this.indexManager=new G6,this.remoteDocumentCache=function(i){return new tV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new H6(n),this.Gr=new Z6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new eV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new sV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class sV extends UL{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Jr=new Ly,this.Yr=null}static Zr(e){return new Vy(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return KO()?8:$L(qt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Na()<=Ie.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Na()<=Ie.DEBUG&&re("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Na()<=Ie.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):H.resolve())}Yi(e,n){if(Zb(n))return H.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zd(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Zd(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Zb(n)||i.isEqual(ve.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(Na()<=Ie.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.rs(e,o,n,LL(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(Bx(e));return n.forEach((i,s)=>{lf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Na()<=Ie.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(ke),this._s=new ia(s=>Py(s),Ay),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function uV(t,e,n,r){return new lV(t,e,n,r)}async function uC(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function cV(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=H.resolve();return f.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(E=>{const _=u.docVersions.get(v);Fe(_!==null),E.version.compareTo(_)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cC(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dV(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(E,_,y){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Hr(),u=Te();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(hV(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ve.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function hV(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function fV(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pV(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Mg(t,e,n){const r=ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Mu(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function lw(t,e,n){const r=ye(t);let i=ve.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ye(l),f=h._s.get(d);return f!==void 0?H.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Te())).next(a=>(mV(r,s6(e),a),{documents:a,Ts:s})))}function mV(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class uw{constructor(){this.activeTargetIds=d6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gV{constructor(){this.so=new uw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Qp(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class bV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Qp(),l=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(re("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=yV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Qp();return new Promise((o,a)=>{const l=new Ix;l.setWithCredentials(!0),l.listenOnce(Sx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rd.NO_ERROR:const d=l.getResponseJson();re(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case rd.TIMEOUT:re(jt,`RPC '${e}' ${s} timed out`),a(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const h=l.getStatus();if(re(jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(m.status);a(new te(v,m.message))}else a(new te(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(B.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re(jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);re(jt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Qp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rx(),a=Cx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");re(jt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const v=new _V({Io:_=>{m?re(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(re(jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(jt,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),E=(_,y,w)=>{_.listen(y,x=>{try{w(x)}catch(C){setTimeout(()=>{throw C},0)}})};return E(h,Ga.EventType.OPEN,()=>{m||(re(jt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),E(h,Ga.EventType.CLOSE,()=>{m||(m=!0,re(jt,`RPC '${e}' stream ${i} transport closed`),v.So())}),E(h,Ga.EventType.ERROR,_=>{m||(m=!0,Mo(jt,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new te(B.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ga.EventType.MESSAGE,_=>{var y;if(!m){const w=_.data[0];Fe(!!w);const x=w,C=x.error||((y=x[0])===null||y===void 0?void 0:y.error);if(C){re(jt,`RPC '${e}' stream ${i} received error:`,C);const D=C.status;let M=function(P){const A=lt[P];if(A!==void 0)return Jx(A)}(D),I=C.message;M===void 0&&(M=B.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),m=!0,v.So(new te(M,I)),h.close()}else re(jt,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),E(a,xx.STAT_EVENT,_=>{_.stat===Sg.PROXY?re(jt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Sg.NOPROXY&&re(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new A6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends hC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=O6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?fr(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Pg(l)?{documents:L6(s,l)}:{query:V6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nC(s,o.resumeToken);const u=kg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=eh(s,o.snapshotVersion.toTimestamp());const u=kg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=j6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.a_(n)}}class EV extends hC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=M6(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Dg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>D6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ng(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ng(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class IV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{$s(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.L_.add(4),await Fu(u),u.q_.set("Unknown"),u.L_.delete(4),await pf(u)}(this))})}),this.q_=new IV(r,i)}}async function pf(t){if($s(t))for(const e of t.B_)await e(!0)}async function Fu(t){for(const e of t.B_)await e(!1)}function fC(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),By(n)?$y(n):sa(n).r_()&&Uy(n,e))}function jy(t,e){const n=ye(t),r=sa(n);n.N_.delete(e),r.r_()&&pC(n,e),n.N_.size===0&&(r.r_()?r.o_():$s(n)&&n.q_.set("Unknown"))}function Uy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).A_(e)}function pC(t,e){t.Q_.xe(e),sa(t).R_(e)}function $y(t){t.Q_=new x6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.q_.v_()}function By(t){return $s(t)&&!sa(t).n_()&&t.N_.size>0}function $s(t){return ye(t).L_.size===0}function mC(t){t.Q_=void 0}async function xV(t){t.q_.set("Online")}async function CV(t){t.N_.forEach((e,n)=>{Uy(t,e)})}async function RV(t,e){mC(t),By(t)?(t.q_.M_(e),$y(t)):t.q_.set("Unknown")}async function PV(t,e,n){if(t.q_.set("Online"),e instanceof tC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(t,r)}else if(e instanceof od?t.Q_.Ke(e):e instanceof eC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await cC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),pC(s,l);const h=new gi(d.target,l,u,d.sequenceNumber);Uy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await th(t,r)}}async function th(t,e,n){if(!Mu(e))throw e;t.L_.add(1),await Fu(t),t.q_.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await pf(t)})}function gC(t,e){return e().catch(n=>th(t,n,e))}async function mf(t){const e=ye(t),n=Fi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AV(e);)try{const i=await fV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,kV(e,i)}catch(i){await th(e,i)}vC(e)&&yC(e)}function AV(t){return $s(t)&&t.O_.length<10}function kV(t,e){t.O_.push(e);const n=Fi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function vC(t){return $s(t)&&!Fi(t).n_()&&t.O_.length>0}function yC(t){Fi(t).start()}async function NV(t){Fi(t).p_()}async function OV(t){const e=Fi(t);for(const n of t.O_)e.m_(n.mutations)}async function DV(t,e,n){const r=t.O_.shift(),i=Oy.from(r,e,n);await gC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mf(t)}async function MV(t,e){e&&Fi(t).V_&&await async function(r,i){if(function(o){return T6(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();Fi(r).s_(),await gC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mf(r)}}(t,e),vC(t)&&yC(t)}async function dw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.L_.add(3),await Fu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pf(n)}async function LV(t,e){const n=ye(t);e?(n.L_.delete(2),await pf(n)):e||(n.L_.add(2),await Fu(n),n.q_.set("Unknown"))}function sa(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.w_(),new wV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xV.bind(null,t),Ro:CV.bind(null,t),mo:RV.bind(null,t),d_:PV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),By(t)?$y(t):t.q_.set("Unknown")):(await t.K_.stop(),mC(t))})),t.K_}function Fi(t){return t.U_||(t.U_=function(n,r,i){const s=ye(n);return s.w_(),new EV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NV.bind(null,t),mo:MV.bind(null,t),f_:OV.bind(null,t),g_:DV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mf(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Mu(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.W_=new et(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uo(e,n,To.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class FV{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=fw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function fw(){return new ia(t=>$x(t),af)}async function _C(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new VV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hy(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Wy(n)}async function bC(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jV(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Wy(n)}function UV(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Wy(t){t.Y_.forEach(e=>{e.next()})}var Lg,pw;(pw=Lg||(Lg={})).ea="default",pw.Cache="cache";class wC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.key=e}}class TC{constructor(e){this.key=e}}class $V{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=Bx(e),this.Ra=new To(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new hw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=lf(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?v!==E&&(r.track({type:3,doc:m}),_=!0):this.ga(f,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),_=!0):f&&!m&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return E(m)-E(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Uo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new TC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new EC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zV{constructor(e){this.key=e,this.va=!1}}class HV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ia(a=>$x(a),af),this.Ma=new Map,this.xa=new Set,this.Oa=new et(le.comparator),this.Na=new Map,this.La=new Ly,this.Ba={},this.ka=new Map,this.qa=jo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function WV(t,e,n=!0){const r=PC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await IC(r,e,n,!0),i}async function GV(t,e){const n=PC(t);await IC(n,e,!0,!1)}async function IC(t,e,n,r){const i=await pV(t.localStore,hr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await qV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fC(t.remoteStore,i),a}async function qV(t,e,n,r,i){t.Ka=(h,f,m)=>async function(E,_,y,w){let x=_.view.ma(y);x.ns&&(x=await lw(E.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,x)));const C=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(x,E.isPrimaryClient,C,D);return gw(E,_.targetId,M.wa),M.snapshot}(t,h,f,m);const s=await lw(t.localStore,e,!0),o=new $V(e,s.Ts),a=o.ma(s.documents),l=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);gw(t,n,u.wa);const d=new BV(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function KV(t,e,n){const r=ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!af(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jy(r.remoteStore,i.targetId),Vg(r,i.targetId)}).catch(Du)):(Vg(r,i.targetId),await Mg(r.localStore,i.targetId,!0))}async function QV(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function YV(t,e,n){const r=r3(t);try{const i=await function(o,a){const l=ye(o),u=Qe.now(),d=a.reduce((m,v)=>m.add(v.key),Te());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Hr(),E=Te();return l.cs.getEntries(m,d).next(_=>{v=_,v.forEach((y,w)=>{w.isValidDocument()||(E=E.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(_=>{h=_;const y=[];for(const w of a){const x=y6(w,h.get(w.key).overlayedDocument);x!=null&&y.push(new Zi(w.key,x,Ox(x.value.mapValue),dn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,a)}).next(_=>{f=_;const y=_.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(m,_.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Hx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new et(ke)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ju(r,i.changes),await mf(r.remoteStore)}catch(i){const s=Hy(i,"Failed to persist write");n.reject(s)}}async function SC(t,e){const n=ye(t);try{const r=await dV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Fe(o.va):i.removedDocuments.size>0&&(Fe(o.va),o.va=!1))}),await ju(n,r,e)}catch(r){await Du(r)}}function mw(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Wy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(le.comparator);o=o.insert(s,zt.newNoDocument(s,ve.min()));const a=Te().add(s),l=new hf(ve.min(),new Map,new et(ke),o,a);await SC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Gy(r)}else await Mg(r.localStore,e,!1).then(()=>Vg(r,e,n)).catch(Du)}async function XV(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await cV(n.localStore,e);CC(n,r,null),xC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,i)}catch(i){await Du(i)}}async function JV(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Fe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);CC(r,e,n),xC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,i)}catch(i){await Du(i)}}function xC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CC(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||RC(t,r)})}function RC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(jy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Gy(t))}function gw(t,e,n){for(const r of n)r instanceof EC?(t.La.addReference(r.key,e),e3(t,r)):r instanceof TC?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||RC(t,r.key)):ge()}function e3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),Gy(t))}function Gy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new zV(n)),t.Oa=t.Oa.insert(n,r),fC(t.remoteStore,new gi(hr(ky(n.path)),r,"TargetPurposeLimboResolution",Sy.oe))}}async function ju(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Fy.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,f=>H.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>H.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Mu(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),v=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,E)}}}(r.localStore,s))}async function t3(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await uC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.hs)}}function n3(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PC(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.Ca.d_=jV.bind(null,e.eventManager),e.Ca.$a=UV.bind(null,e.eventManager),e}function r3(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JV.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return uV(this.persistence,new aV,e.initialUser,this.serializer)}Ga(e){return new iV(Vy.Zr,this.serializer)}Wa(e){return new gV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t3.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FV}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(s){return new bV(s)}(e.databaseInfo);return function(s,o,a,l){return new TV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new SV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mw(this.syncEngine,n,0),function(){return cw.D()?new cw:new vV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new HV(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fg.provider={build:()=>new Fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s3(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dw(e.remoteStore,i)),t._onlineComponents=e}async function s3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new nh)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Zp(t,new nh);return t._offlineComponents}async function kC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await vw(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await vw(t,new Fg))),t._onlineComponents}function o3(t){return kC(t).then(e=>e.syncEngine)}async function jg(t){const e=await kC(t),n=e.eventManager;return n.onListen=WV.bind(null,e.syncEngine),n.onUnlisten=KV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QV.bind(null,e.syncEngine),n}function a3(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new AC({next:f=>{d.Za(),o.enqueueAndForget(()=>bC(s,h)),f.fromCache&&l.source==="server"?u.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new wC(a,d,{includeMetadataChanges:!0,_a:!0});return _C(s,h)}(await jg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l3(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _w(t){if(!le.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bw(t){if(le.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CL;switch(r.type){case"firstParty":return new kL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yw.get(n);r&&(re("ComponentProvider","Removing Datastore"),yw.delete(n),r.terminate())}(this),Promise.resolve()}}function u3(t,e,n,r={}){var i;const s=(t=Kn(t,vf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=VS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new RL(new Px(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ai extends Yr{constructor(e,n,r){super(e,n,ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new le(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function Or(t,e,...n){if(t=at(t),OC("collection","path",e),t instanceof vf){const r=Ge.fromString(e,...n);return bw(r),new Ai(t,null,r)}{if(!(t instanceof hn||t instanceof Ai))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return bw(r),new Ai(t.firestore,null,r)}}function Cr(t,e,...n){if(t=at(t),arguments.length===1&&(e=Ax.newId()),OC("doc","path",e),t instanceof vf){const r=Ge.fromString(e,...n);return _w(r),new hn(t,null,new le(r))}{if(!(t instanceof hn||t instanceof Ai))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return _w(r),new hn(t.firestore,t instanceof Ai?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dC(this,"async_queue_retry"),this.Vu=()=>{const r=Yp();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=zy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Tw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ji extends vf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ew,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function DC(t,e){const n=typeof t=="object"?t:py(),r=typeof t=="string"?t:"(default)",i=tf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DS("firestore");s&&u3(i,...s)}return i}function yf(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c3(t),t._firestoreClient}function c3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new HL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new i3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Ot.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^__.*__$/;class h3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class MC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Yy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LC(this.Cu)&&d3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class f3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Qu(e,n,r,i=!1){return new Yy({Cu:e,methodName:n,qu:r,path:Rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new f3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VC(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Zy("Data must be an object, but it was:",o,r);const a=UC(r,o);let l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Ug(e,h,n);if(!o.contains(f))throw new te(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BC(d,f)||d.push(f)}l=new vn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new h3(new on(a),l,u)}class bf extends qy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function FC(t,e,n,r){const i=t.Qu(1,e,n);Zy("Data must be an object, but it was:",i,r);const s=[],o=on.empty();Us(r,(l,u)=>{const d=Xy(e,l,n);u=at(u);const h=i.Nu(d);if(u instanceof bf)s.push(d);else{const f=$u(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new vn(s);return new MC(o,a,i.fieldTransforms)}function jC(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Ug(e,r,n)],l=[i];if(s.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Ug(e,s[f])),l.push(s[f+1]);const u=[],d=on.empty();for(let f=a.length-1;f>=0;--f)if(!BC(u,a[f])){const m=a[f];let v=l[f];v=at(v);const E=o.Nu(m);if(v instanceof bf)u.push(m);else{const _=$u(v,E);_!=null&&(u.push(m),d.set(m,_))}}const h=new vn(u);return new MC(d,h,o.fieldTransforms)}function p3(t,e,n,r=!1){return $u(n,t.Qu(r?4:3,e))}function $u(t,e){if($C(t=at(t)))return Zy("Unsupported field value:",e,t),UC(t,e);if(t instanceof qy)return function(r,i){if(!LC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$u(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:eh(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(i.serializer,s)}}if(r instanceof Ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:nC(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:My(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ny(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gf(r)}`)}(t,e)}function UC(t,e){const n={};return kx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(r,i)=>{const s=$u(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $C(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Ky||t instanceof $o||t instanceof hn||t instanceof qy||t instanceof Qy)}function Zy(t,e,n){if(!$C(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ug(t,e,n){if((e=at(e))instanceof Uu)return e._internalPath;if(typeof e=="string")return Xy(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const m3=new RegExp("[~\\*/\\[\\]]");function Xy(t,e,n){if(e.search(m3)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uu(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function BC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g3 extends zC{data(){return super.data()}}function wf(t,e){return typeof e=="string"?Xy(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class e0 extends Jy{}function vs(t,e,...n){let r=[];e instanceof Jy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof t0).length,a=s.filter(l=>l instanceof Ef).length;if(o>1||o>0&&a>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ef extends e0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ef(e,n,r)}_apply(e){const n=this._parse(e);return WC(e._query,n),new Yr(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=_f(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Sw(h,d);const m=[];for(const v of h)m.push(Iw(l,s,v));f={arrayValue:{values:m}}}else f=Iw(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Sw(h,d),f=p3(a,o,h,d==="in"||d==="not-in");return dt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vi(t,e,n){const r=e,i=wf("where",t);return Ef._create(i,r,n)}class t0 extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)WC(o,l),o=Ag(o,l)}(e._query,n),new Yr(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n0 extends e0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(s,o)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ra(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $g(t,e="asc"){const n=e,r=wf("orderBy",t);return n0._create(r,n)}class r0 extends e0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r0(e,n,r)}_apply(e){return new Yr(e.firestore,e.converter,Zd(e._query,this._limit,this._limitType))}}function v3(t){return r0._create("limit",t,"F")}function Iw(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ux(e)&&n.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!le.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wb(t,new le(r))}if(n instanceof hn)return Wb(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function Sw(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y3{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Us(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>it(o.doubleValue));return new Qy(s)}convertGeoPoint(e){return new Ky(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Fe(lC(r));const i=new Hl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qC extends zC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends qC{data(e={}){return super.data(e)}}class KC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ad(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:_3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class i0 extends y3{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Xp(t){t=Kn(t,Yr);const e=Kn(t.firestore,ji),n=yf(e),r=new i0(e);return HC(t._query),a3(n,t._query).then(i=>new KC(e,r,t,i))}function s0(t,e,n,...r){t=Kn(t,hn);const i=Kn(t.firestore,ji),s=_f(i);let o;return o=typeof(e=at(e))=="string"||e instanceof Uu?jC(s,"updateDoc",t._key,e,n,r):FC(s,"updateDoc",t._key,e),Tf(i,[o.toMutation(t._key,dn.exists(!0))])}function QC(t){return Tf(Kn(t.firestore,ji),[new df(t._key,dn.none())])}function YC(t,e){const n=Kn(t.firestore,ji),r=Cr(t),i=GC(t.converter,e);return Tf(n,[VC(_f(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function pl(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Tw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Tw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof hn)u=Kn(t.firestore,ji),d=ky(t._key.path),l={next:h=>{e[o]&&e[o](b3(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Kn(t,Yr);u=Kn(h.firestore,ji),d=h._query;const f=new i0(u);l={next:m=>{e[o]&&e[o](new KC(u,f,h,m))},error:e[o+1],complete:e[o+2]},HC(t._query)}return function(f,m,v,E){const _=new AC(E),y=new wC(m,_,v);return f.asyncQueue.enqueueAndForget(async()=>_C(await jg(f),y)),()=>{_.Za(),f.asyncQueue.enqueueAndForget(async()=>bC(await jg(f),y))}}(yf(u),d,a,l)}function Tf(t,e){return function(r,i){const s=new Pi;return r.asyncQueue.enqueueAndForget(async()=>YV(await o3(r),i,s)),s.promise}(yf(t),e)}function b3(t,e,n){const r=n.docs.get(e._key),i=new i0(t);return new qC(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_f(e)}set(e,n,r){this._verifyNotCommitted();const i=Jp(e,this._firestore),s=GC(i.converter,n,r),o=VC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Jp(e,this._firestore);let o;return o=typeof(n=at(n))=="string"||n instanceof Uu?jC(this._dataReader,"WriteBatch.update",s._key,n,r,i):FC(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jp(e,this._firestore);return this._mutations=this._mutations.concat(new df(n._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jp(t,e){if((t=at(t)).firestore!==e)throw new te(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return yf(t=Kn(t,ji)),new w3(t,e=>Tf(t,e))}(function(e,n=!0){(function(i){na=i})(js),Ss(new Mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ji(new PL(r.getProvider("auth-internal")),new OL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ur(Ub,"4.7.3",e),ur(Ub,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="firebasestorage.googleapis.com",T3="storageBucket",I3=2*60*1e3,S3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ht{constructor(e,n,r=0){super(em(e),`Firebase Storage: ${n} (${em(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function em(t){return"storage/"+t}function x3(){const t="An unknown error occurred, please check the error payload for server response.";return new br(vr.UNKNOWN,t)}function C3(){return new br(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R3(){return new br(vr.CANCELED,"User canceled the upload/download.")}function P3(t){return new br(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function A3(t){return new br(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xw(t){return new br(vr.INVALID_ARGUMENT,t)}function XC(){return new br(vr.APP_DELETED,"The Firebase app was deleted.")}function k3(t){return new br(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zn.makeFromUrl(e,n)}catch{return new zn(e,"")}if(r.path==="")return r;throw A3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},E=n===ZC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${E}/${i}/${_}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:m,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<x.length;C++){const D=x[C],M=D.regex.exec(e);if(M){const I=M[D.indices.bucket];let b=M[D.indices.path];b||(b=""),r=new zn(I,b),D.postModify(r);break}}if(r==null)throw P3(e);return r}}class N3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function f(){s&&clearTimeout(s)}function m(_,...y){if(u){f();return}if(_){f(),d.call(null,_,...y);return}if(l()||o){f(),d.call(null,_,...y);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let v=!1;function E(_){v||(v=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function D3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){return t!==void 0}function Cw(t,e,n,r){if(r<e)throw xw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xw(`Invalid value for '${t}'. Expected ${n} or less.`)}function L3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ih;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ih||(ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ih.NO_ERROR,l=s.getStatus();if(!a||V3(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ih.ABORT;r(!1,new kc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());M3(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=x3();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?XC():R3();o(l)}else{const l=C3();o(l)}};this.canceled_?n(!1,new kc(!1,null,!0)):this.backoffId_=O3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function j3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z3(t,e,n,r,i,s,o=!0){const a=L3(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return $3(u,e),j3(u,n),U3(u,s),B3(u,r),new F3(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sh(e,n)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W3(this._location.path)}get storage(){return this._service}get parent(){const e=H3(this._location.path);if(e===null)return null;const n=new zn(this._location.bucket,e);return new sh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k3(e)}}function Rw(t,e){const n=e==null?void 0:e[T3];return n==null?null:zn.makeFromBucketSpec(n,t)}function G3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VS(i,t.app.options.projectId))}class q3{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ZC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I3,this._maxUploadRetryTime=S3,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=Rw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=Rw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new N3(XC());{const o=z3(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Pw="@firebase/storage",Aw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="storage";function K3(t=py(),e){t=at(t);const r=tf(t,JC).getImmediate({identifier:e}),i=DS("storage");return i&&Q3(r,...i),r}function Q3(t,e,n,r={}){G3(t,e,n,r)}function Y3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q3(n,r,i,e,js)}function Z3(){Ss(new Mi(JC,Y3,"PUBLIC").setMultipleInstances(!0)),ur(Pw,Aw,""),ur(Pw,Aw,"esm2017")}Z3();const X3={apiKey:"AIzaSyDIdfV4qdAUg1pBWl7PGgwnMeE5n7zpUZQ",authDomain:"kanban-29a8e.firebaseapp.com",projectId:"kanban-29a8e",storageBucket:"kanban-29a8e.appspot.com",messagingSenderId:"828301283650",appId:"1:828301283650:web:385e59aa3d54431beab8db"},If=US(X3),Io=SL(If);DC(If);K3(If);const _t=DC(If);var Ce;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ce||(Ce={}));var Bg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bg||(Bg={}));const ee=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),di=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},q=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),J3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Wt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wt.create=t=>new Wt(t);const Bo=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(t)}return{message:n}};let e2=Bo;function eF(t){e2=t}function oh(){return e2}const ah=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},tF=[];function J(t,e){const n=oh(),r=ah({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Bo?void 0:Bo].filter(i=>!!i)});t.common.issues.push(r)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Kt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),fo=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),zg=t=>t.status==="aborted",Hg=t=>t.status==="dirty",Ql=t=>t.status==="valid",Yl=t=>typeof Promise<"u"&&t instanceof Promise;function lh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function t2(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));var Ya,Za;class yr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kw=(t,e)=>{if(Ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wt(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class be{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return di(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kt,ctx:{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},s=this._parseSync({data:e,path:i.path,parent:i});return kw(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Yl(i)?i:Promise.resolve(i));return kw(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:q.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Jn({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pr.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qn.create(this,this._def)}promise(){return Ho.create(this,this._def)}or(e){return eu.create([this,e],this._def)}and(e){return tu.create(this,e,this._def)}transform(e){return new Jn({..._e(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ou({..._e(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new o0({typeName:he.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new au({..._e(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bu.create(this,e)}readonly(){return lu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nF=/^c[^\s-]{8,}$/i,rF=/^[0-9a-z]+$/,iF=/^[0-9A-HJKMNP-TV-Z]{26}$/,sF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oF=/^[a-z0-9_-]{21}$/i,aF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tm;const cF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,hF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,n2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fF=new RegExp(`^${n2}$`);function r2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function pF(t){return new RegExp(`^${r2(t)}$`)}function i2(t){let e=`${n2}T${r2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function mF(t,e){return!!((e==="v4"||!e)&&cF.test(t)||(e==="v6"||!e)&&dF.test(t))}class Hn extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const s=this._getOrReturnCtx(e);return J(s,{code:q.invalid_type,expected:ee.string,received:s.parsedType}),me}const r=new Kt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?J(i,{code:q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&J(i,{code:q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")lF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"email",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")tm||(tm=new RegExp(uF,"u")),tm.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"emoji",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")sF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"uuid",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")oF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"nanoid",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")nF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"cuid",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")rF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"cuid2",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")iF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"ulid",code:q.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),J(i,{validation:"url",code:q.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"regex",code:q.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?i2(s).test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?fF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?pF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{code:q.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?aF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"duration",code:q.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?mF(e.data,s.version)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"ip",code:q.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?hF.test(e.data)||(i=this._getOrReturnCtx(e,i),J(i,{validation:"base64",code:q.invalid_string,message:s.message}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:q.invalid_string,...se.errToObj(r)})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hn.create=t=>{var e;return new Hn({checks:[],typeName:he.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};function gF(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ui extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const s=this._getOrReturnCtx(e);return J(s,{code:q.invalid_type,expected:ee.number,received:s.parsedType}),me}let r;const i=new Kt;for(const s of this._def.checks)s.kind==="int"?Ce.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:q.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?gF(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_finite,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new Ui({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ui.create=t=>new Ui({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class $i extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const s=this._getOrReturnCtx(e);return J(s,{code:q.invalid_type,expected:ee.bigint,received:s.parsedType}),me}let r;const i=new Kt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ce.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new $i({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new $i({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$i.create=t=>{var e;return new $i({checks:[],typeName:he.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};class Zl extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.boolean,received:r.parsedType}),me}return tn(e.data)}}Zl.create=t=>new Zl({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class ks extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const s=this._getOrReturnCtx(e);return J(s,{code:q.invalid_type,expected:ee.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return J(s,{code:q.invalid_date}),me}const r=new Kt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),J(i,{code:q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ce.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ks.create=t=>new ks({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,..._e(t)});class uh extends be{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.symbol,received:r.parsedType}),me}return tn(e.data)}}uh.create=t=>new uh({typeName:he.ZodSymbol,..._e(t)});class Xl extends be{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.undefined,received:r.parsedType}),me}return tn(e.data)}}Xl.create=t=>new Xl({typeName:he.ZodUndefined,..._e(t)});class Jl extends be{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.null,received:r.parsedType}),me}return tn(e.data)}}Jl.create=t=>new Jl({typeName:he.ZodNull,..._e(t)});class zo extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}zo.create=t=>new zo({typeName:he.ZodAny,..._e(t)});class ys extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}ys.create=t=>new ys({typeName:he.ZodUnknown,..._e(t)});class Wr extends be{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:q.invalid_type,expected:ee.never,received:n.parsedType}),me}}Wr.create=t=>new Wr({typeName:he.ZodNever,..._e(t)});class ch extends be{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.void,received:r.parsedType}),me}return tn(e.data)}}ch.create=t=>new ch({typeName:he.ZodVoid,..._e(t)});class Qn extends be{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ee.array)return J(n,{code:q.invalid_type,expected:ee.array,received:n.parsedType}),me;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(J(n,{code:o?q.too_big:q.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(J(n,{code:q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(J(n,{code:q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new yr(n,o,n.path,a)))).then(o=>Kt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new yr(n,o,n.path,a)));return Kt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Qn({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new Qn({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new Qn({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}Qn.create=(t,e)=>new Qn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,..._e(e)});function Xs(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pr.create(Xs(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof Qn?new Qn({...t._def,type:Xs(t.element)}):t instanceof pr?pr.create(Xs(t.unwrap())):t instanceof zi?zi.create(Xs(t.unwrap())):t instanceof _r?_r.create(t.items.map(e=>Xs(e))):t}class Ye extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const u=this._getOrReturnCtx(e);return J(u,{code:q.invalid_type,expected:ee.object,received:u.parsedType}),me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wr&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new yr(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Wr){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(J(i,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new yr(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Kt.mergeObjectSync(r,u)):Kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Ce.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Xs(this)}partial(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof pr;)s=s._def.innerType;n[r]=s}}),new Ye({...this._def,shape:()=>n})}keyof(){return s2(Ce.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:Wr.create(),typeName:he.ZodObject,..._e(e)});class eu extends be{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Wt(a.ctx.common.issues));return J(n,{code:q.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Wt(l));return J(n,{code:q.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}eu.create=(t,e)=>new eu({options:t,typeName:he.ZodUnion,..._e(e)});const Ir=t=>t instanceof ru?Ir(t.schema):t instanceof Jn?Ir(t.innerType()):t instanceof iu?[t.value]:t instanceof Bi?t.options:t instanceof su?Ce.objectValues(t.enum):t instanceof ou?Ir(t._def.innerType):t instanceof Xl?[void 0]:t instanceof Jl?[null]:t instanceof pr?[void 0,...Ir(t.unwrap())]:t instanceof zi?[null,...Ir(t.unwrap())]:t instanceof o0||t instanceof lu?Ir(t.unwrap()):t instanceof au?Ir(t._def.innerType):[];class Sf extends be{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return J(n,{code:q.invalid_type,expected:ee.object,received:n.parsedType}),me;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ir(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Sf({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,..._e(r)})}}function Wg(t,e){const n=di(t),r=di(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const i=Ce.objectKeys(e),s=Ce.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Wg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Wg(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class tu extends be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(zg(s)||zg(o))return me;const a=Wg(s.value,o.value);return a.valid?((Hg(s)||Hg(o))&&n.dirty(),{status:n.value,value:a.data}):(J(r,{code:q.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tu.create=(t,e,n)=>new tu({left:t,right:e,typeName:he.ZodIntersection,..._e(n)});class _r extends be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return J(r,{code:q.invalid_type,expected:ee.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return J(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new yr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Kt.mergeArray(n,o)):Kt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new _r({...this._def,rest:e})}}_r.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _r({items:t,typeName:he.ZodTuple,rest:null,..._e(e)})};class nu extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return J(r,{code:q.invalid_type,expected:ee.object,received:r.parsedType}),me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new yr(r,a,r.path,a)),value:o._parse(new yr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kt.mergeObjectAsync(n,i):Kt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof be?new nu({keyType:e,valueType:n,typeName:he.ZodRecord,..._e(r)}):new nu({keyType:Hn.create(),valueType:e,typeName:he.ZodRecord,..._e(n)})}}class dh extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return J(r,{code:q.invalid_type,expected:ee.map,received:r.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new yr(r,a,r.path,[u,"key"])),value:s._parse(new yr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}dh.create=(t,e,n)=>new dh({valueType:e,keyType:t,typeName:he.ZodMap,..._e(n)});class Ns extends be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return J(r,{code:q.invalid_type,expected:ee.set,received:r.parsedType}),me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(J(r,{code:q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(J(r,{code:q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new yr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Ns({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new Ns({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ns.create=(t,e)=>new Ns({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,..._e(e)});class So extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return J(n,{code:q.invalid_type,expected:ee.function,received:n.parsedType}),me;function r(a,l){return ah({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oh(),Bo].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function i(a,l){return ah({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oh(),Bo].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ho){const a=this;return tn(async function(...l){const u=new Wt([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const a=this;return tn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Wt([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new Wt([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new So({...this._def,args:_r.create(e).rest(ys.create())})}returns(e){return new So({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new So({args:e||_r.create([]).rest(ys.create()),returns:n||ys.create(),typeName:he.ZodFunction,..._e(r)})}}class ru extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ru.create=(t,e)=>new ru({getter:t,typeName:he.ZodLazy,..._e(e)});class iu extends be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}iu.create=(t,e)=>new iu({value:t,typeName:he.ZodLiteral,..._e(e)});function s2(t,e){return new Bi({values:t,typeName:he.ZodEnum,..._e(e)})}class Bi extends be{constructor(){super(...arguments),Ya.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Ce.joinValues(r),received:n.parsedType,code:q.invalid_type}),me}if(lh(this,Ya)||t2(this,Ya,new Set(this._def.values)),!lh(this,Ya).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:q.invalid_enum_value,options:r}),me}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Bi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Bi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ya=new WeakMap;Bi.create=s2;class su extends be{constructor(){super(...arguments),Za.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const i=Ce.objectValues(n);return J(r,{expected:Ce.joinValues(i),received:r.parsedType,code:q.invalid_type}),me}if(lh(this,Za)||t2(this,Za,new Set(Ce.getValidEnumValues(this._def.values))),!lh(this,Za).has(e.data)){const i=Ce.objectValues(n);return J(r,{received:r.data,code:q.invalid_enum_value,options:i}),me}return tn(e.data)}get enum(){return this._def.values}}Za=new WeakMap;su.create=(t,e)=>new su({values:t,typeName:he.ZodNativeEnum,..._e(e)});class Ho extends be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return J(n,{code:q.invalid_type,expected:ee.promise,received:n.parsedType}),me;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return tn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ho.create=(t,e)=>new Ho({type:t,typeName:he.ZodPromise,..._e(e)});class Jn extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{J(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?fo(l.value):l});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?fo(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ql(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ql(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Ce.assertNever(i)}}Jn.create=(t,e,n)=>new Jn({schema:t,typeName:he.ZodEffects,effect:e,..._e(n)});Jn.createWithPreprocess=(t,e,n)=>new Jn({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,..._e(n)});class pr extends be{_parse(e){return this._getType(e)===ee.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pr.create=(t,e)=>new pr({innerType:t,typeName:he.ZodOptional,..._e(e)});class zi extends be{_parse(e){return this._getType(e)===ee.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:he.ZodNullable,..._e(e)});class ou extends be{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class au extends be{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yl(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}au.create=(t,e)=>new au({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class hh extends be{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:ee.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}hh.create=t=>new hh({typeName:he.ZodNaN,..._e(t)});const vF=Symbol("zod_brand");class o0 extends be{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bu extends be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),fo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Bu({in:e,out:n,typeName:he.ZodPipeline})}}class lu extends be{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ql(i)&&(i.value=Object.freeze(i.value)),i);return Yl(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}lu.create=(t,e)=>new lu({innerType:t,typeName:he.ZodReadonly,..._e(e)});function o2(t,e={},n){return t?zo.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):zo.create()}const yF={object:Ye.lazycreate};var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const _F=(t,e={message:`Input not instance of ${t.name}`})=>o2(n=>n instanceof t,e),a2=Hn.create,l2=Ui.create,bF=hh.create,wF=$i.create,u2=Zl.create,EF=ks.create,TF=uh.create,IF=Xl.create,SF=Jl.create,xF=zo.create,CF=ys.create,RF=Wr.create,PF=ch.create,AF=Qn.create,kF=Ye.create,NF=Ye.strictCreate,OF=eu.create,DF=Sf.create,MF=tu.create,LF=_r.create,VF=nu.create,FF=dh.create,jF=Ns.create,UF=So.create,$F=ru.create,BF=iu.create,zF=Bi.create,HF=su.create,WF=Ho.create,Nw=Jn.create,GF=pr.create,qF=zi.create,KF=Jn.createWithPreprocess,QF=Bu.create,YF=()=>a2().optional(),ZF=()=>l2().optional(),XF=()=>u2().optional(),JF={string:t=>Hn.create({...t,coerce:!0}),number:t=>Ui.create({...t,coerce:!0}),boolean:t=>Zl.create({...t,coerce:!0}),bigint:t=>$i.create({...t,coerce:!0}),date:t=>ks.create({...t,coerce:!0})},e5=me;var ml=Object.freeze({__proto__:null,defaultErrorMap:Bo,setErrorMap:eF,getErrorMap:oh,makeIssue:ah,EMPTY_PATH:tF,addIssueToContext:J,ParseStatus:Kt,INVALID:me,DIRTY:fo,OK:tn,isAborted:zg,isDirty:Hg,isValid:Ql,isAsync:Yl,get util(){return Ce},get objectUtil(){return Bg},ZodParsedType:ee,getParsedType:di,ZodType:be,datetimeRegex:i2,ZodString:Hn,ZodNumber:Ui,ZodBigInt:$i,ZodBoolean:Zl,ZodDate:ks,ZodSymbol:uh,ZodUndefined:Xl,ZodNull:Jl,ZodAny:zo,ZodUnknown:ys,ZodNever:Wr,ZodVoid:ch,ZodArray:Qn,ZodObject:Ye,ZodUnion:eu,ZodDiscriminatedUnion:Sf,ZodIntersection:tu,ZodTuple:_r,ZodRecord:nu,ZodMap:dh,ZodSet:Ns,ZodFunction:So,ZodLazy:ru,ZodLiteral:iu,ZodEnum:Bi,ZodNativeEnum:su,ZodPromise:Ho,ZodEffects:Jn,ZodTransformer:Jn,ZodOptional:pr,ZodNullable:zi,ZodDefault:ou,ZodCatch:au,ZodNaN:hh,BRAND:vF,ZodBranded:o0,ZodPipeline:Bu,ZodReadonly:lu,custom:o2,Schema:be,ZodSchema:be,late:yF,get ZodFirstPartyTypeKind(){return he},coerce:JF,any:xF,array:AF,bigint:wF,boolean:u2,date:EF,discriminatedUnion:DF,effect:Nw,enum:zF,function:UF,instanceof:_F,intersection:MF,lazy:$F,literal:BF,map:FF,nan:bF,nativeEnum:HF,never:RF,null:SF,nullable:qF,number:l2,object:kF,oboolean:XF,onumber:ZF,optional:GF,ostring:YF,pipeline:QF,preprocess:KF,promise:WF,record:VF,set:jF,strictObject:NF,string:a2,symbol:TF,transformer:Nw,tuple:LF,undefined:IF,union:OF,unknown:CF,void:PF,NEVER:e5,ZodIssueCode:q,quotelessJson:J3,ZodError:Wt});const t5=ml.object({email:ml.string().email({message:"Invalid email address"}),password:ml.string().min(6,{message:"Password must be at least 6 characters"})}),n5=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),o=Cu(),a=async l=>{l.preventDefault(),s("");try{const u=t5.parse({email:t,password:n});await dM(Io,u.email,u.password),o("/dashboard")}catch(u){if(u instanceof Wt){const d=u.errors.map(h=>h.message).join(" ");s(d)}else u instanceof Ht||u instanceof Error?s(u.message):s("An unexpected error occurred.")}};return T.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100",children:T.jsxs("form",{onSubmit:a,className:"bg-white p-6 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full md:max-w-[35vw] rounded-lg",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-bold  mb-4 text-center ",children:"Sign Up"}),i&&T.jsx("div",{className:"mb-4 text-red-500 text-sm",children:i}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Email"}),T.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border mt-1 rounded-lg",value:t,onChange:l=>e(l.target.value),placeholder:"Email"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-gray-700 rounded-lg",children:"Password"}),T.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border rounded-lg mt-1",value:n,onChange:l=>r(l.target.value),placeholder:"Password"})]}),T.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white text-lg py-2 rounded-lg hover:bg-blue-700 hover:shadow-[1px_1px_1px_2px_#2b6cb0]",children:"Sign Up"}),T.jsxs("p",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",T.jsx(ft,{to:"/login",className:"text-blue-500 hover:underline","aria-label":"Sign Up",children:"Login"})]})]})})};var c2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ow=Me.createContext&&Me.createContext(c2),r5=["attr","size","title"];function i5(t,e){if(t==null)return{};var n=s5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function Dw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(n),!0).forEach(function(r){o5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5(t,e,n){return e=a5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a5(t){var e=l5(t,"string");return typeof e=="symbol"?e:e+""}function l5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d2(t){return t&&t.map((e,n)=>Me.createElement(e.tag,ph({key:n},e.attr),d2(e.child)))}function je(t){return e=>Me.createElement(u5,fh({attr:ph({},t.attr)},e),d2(t.child))}function u5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=i5(t,r5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Me.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ph(ph({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),t.children)};return Ow!==void 0?Me.createElement(Ow.Consumer,null,n=>e(n)):e(c2)}function Mw(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"},child:[]}]})(t)}function c5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function h2(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function d5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function h5(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function uu(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Gg(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function f5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(t)}function f2(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function p5(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function m5(t){return je({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(t)}function qg(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(t)}function g5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function v5(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Wo(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Lw(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function Vw(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Fw(t){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function p2(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function _s(t){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function a0(t){return je({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function l0(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(t)}function y5(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function jw(t){return je({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Uw(t){return je({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function u0(t){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function _5(t,e){N.useEffect(()=>{const n=r=>{const i=t==null?void 0:t.current;!i||i.contains(r.target)||e(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}var m2={exports:{}},b5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w5=b5,E5=w5;function g2(){}function v2(){}v2.resetWarningCache=g2;var T5=function(){function t(r,i,s,o,a,l){if(l!==E5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:v2,resetWarningCache:g2};return n.PropTypes=n,n};m2.exports=T5();var I5=m2.exports;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var y2=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mh=y2.join(","),_2=typeof Element>"u",Os=_2?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gh=!_2&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},vh=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},S5=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},b2=function(e,n,r){if(vh(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(mh));return n&&Os.call(e,mh)&&i.unshift(e),i=i.filter(r),i},w2=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!vh(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var d=Os.call(o,mh);d&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!vh(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&f){var m=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},E2=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},hi=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||S5(e))&&!E2(e)?0:e.tabIndex},x5=function(e,n){var r=hi(e);return r<0&&n&&!E2(e)?0:r},C5=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},T2=function(e){return e.tagName==="INPUT"},R5=function(e){return T2(e)&&e.type==="hidden"},P5=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},A5=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},k5=function(e){if(!e.name)return!0;var n=e.form||gh(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=A5(i,e.form);return!s||s===e},N5=function(e){return T2(e)&&e.type==="radio"},O5=function(e){return N5(e)&&!k5(e)},D5=function(e){var n,r=e&&gh(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var u,d,h;r=gh(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((d=i)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},$w=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},M5=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Os.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Os.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,u=gh(e);if(l&&!l.shadowRoot&&i(l)===!0)return $w(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(D5(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return $w(e);return!1},L5=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Os.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},yh=function(e,n){return!(n.disabled||vh(n)||R5(n)||M5(n,e)||P5(n)||L5(n))},Kg=function(e,n){return!(O5(n)||hi(n)<0||!yh(e,n))},V5=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},F5=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=x5(a,o),u=o?t(i.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),r.sort(C5).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},I2=function(e,n){n=n||{};var r;return n.getShadowRoot?r=w2([e],n.includeContainer,{filter:Kg.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:V5}):r=b2(e,n.includeContainer,Kg.bind(null,n)),F5(r)},S2=function(e,n){n=n||{};var r;return n.getShadowRoot?r=w2([e],n.includeContainer,{filter:yh.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=b2(e,n.includeContainer,yh.bind(null,n)),r},ls=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Os.call(e,mh)===!1?!1:Kg(n,e)},j5=y2.concat("iframe").join(","),ld=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Os.call(e,j5)===!1?!1:yh(n,e)};const U5=Object.freeze(Object.defineProperty({__proto__:null,focusable:S2,getTabIndex:hi,isFocusable:ld,isTabbable:ls,tabbable:I2},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.6.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function $5(t,e,n){return(e=z5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(n),!0).forEach(function(r){$5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z5(t){var e=B5(t,"string");return typeof e=="symbol"?e:e+""}var Hw={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},H5=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},W5=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},gl=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},G5=function(e){return gl(e)&&!e.shiftKey},q5=function(e){return gl(e)&&e.shiftKey},Ww=function(e){return setTimeout(e,0)},Gw=function(e,n){var r=-1;return e.every(function(i,s){return n(i)?(r=s,!1):!0}),r},Oa=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Nc=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},K5=[],Q5=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||K5,s=zw({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:G5,isKeyBackward:q5},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(S,V,$){return S&&S[V]!==void 0?S[V]:s[$||V]},u=function(S,V){var $=typeof(V==null?void 0:V.composedPath)=="function"?V.composedPath():void 0;return o.containerGroups.findIndex(function(Y){var U=Y.container,F=Y.tabbableNodes;return U.contains(S)||($==null?void 0:$.includes(U))||F.find(function(W){return W===S})})},d=function(S){var V=s[S];if(typeof V=="function"){for(var $=arguments.length,Y=new Array($>1?$-1:0),U=1;U<$;U++)Y[U-1]=arguments[U];V=V.apply(void 0,Y)}if(V===!0&&(V=void 0),!V){if(V===void 0||V===!1)return V;throw new Error("`".concat(S,"` was specified but was not a node, or did not return a node"))}var F=V;if(typeof V=="string"&&(F=r.querySelector(V),!F))throw new Error("`".concat(S,"` as selector refers to no known node"));return F},h=function(){var S=d("initialFocus");if(S===!1)return!1;if(S===void 0||!ld(S,s.tabbableOptions))if(u(r.activeElement)>=0)S=r.activeElement;else{var V=o.tabbableGroups[0],$=V&&V.firstTabbableNode;S=$||d("fallbackFocus")}if(!S)throw new Error("Your focus-trap needs to have at least one focusable element");return S},f=function(){if(o.containerGroups=o.containers.map(function(S){var V=I2(S,s.tabbableOptions),$=S2(S,s.tabbableOptions),Y=V.length>0?V[0]:void 0,U=V.length>0?V[V.length-1]:void 0,F=$.find(function(Z){return ls(Z)}),W=$.slice().reverse().find(function(Z){return ls(Z)}),z=!!V.find(function(Z){return hi(Z)>0});return{container:S,tabbableNodes:V,focusableNodes:$,posTabIndexesFound:z,firstTabbableNode:Y,lastTabbableNode:U,firstDomTabbableNode:F,lastDomTabbableNode:W,nextTabbableNode:function(X){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,we=V.indexOf(X);return we<0?ie?$.slice($.indexOf(X)+1).find(function(fe){return ls(fe)}):$.slice(0,$.indexOf(X)).reverse().find(function(fe){return ls(fe)}):V[we+(ie?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(S){return S.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(S){return S.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function(S){var V=S.activeElement;if(V)return V.shadowRoot&&V.shadowRoot.activeElement!==null?m(V.shadowRoot):V},v=function(S){if(S!==!1&&S!==m(document)){if(!S||!S.focus){v(h());return}S.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=S,H5(S)&&S.select()}},E=function(S){var V=d("setReturnFocus",S);return V||(V===!1?!1:S)},_=function(S){var V=S.target,$=S.event,Y=S.isBackward,U=Y===void 0?!1:Y;V=V||Nc($),f();var F=null;if(o.tabbableGroups.length>0){var W=u(V,$),z=W>=0?o.containerGroups[W]:void 0;if(W<0)U?F=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:F=o.tabbableGroups[0].firstTabbableNode;else if(U){var Z=Gw(o.tabbableGroups,function($e){var Tt=$e.firstTabbableNode;return V===Tt});if(Z<0&&(z.container===V||ld(V,s.tabbableOptions)&&!ls(V,s.tabbableOptions)&&!z.nextTabbableNode(V,!1))&&(Z=W),Z>=0){var X=Z===0?o.tabbableGroups.length-1:Z-1,ie=o.tabbableGroups[X];F=hi(V)>=0?ie.lastTabbableNode:ie.lastDomTabbableNode}else gl($)||(F=z.nextTabbableNode(V,!1))}else{var we=Gw(o.tabbableGroups,function($e){var Tt=$e.lastTabbableNode;return V===Tt});if(we<0&&(z.container===V||ld(V,s.tabbableOptions)&&!ls(V,s.tabbableOptions)&&!z.nextTabbableNode(V))&&(we=W),we>=0){var fe=we===o.tabbableGroups.length-1?0:we+1,Se=o.tabbableGroups[fe];F=hi(V)>=0?Se.firstTabbableNode:Se.firstDomTabbableNode}else gl($)||(F=z.nextTabbableNode(V))}}else F=d("fallbackFocus");return F},y=function(S){var V=Nc(S);if(!(u(V,S)>=0)){if(Oa(s.clickOutsideDeactivates,S)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Oa(s.allowOutsideClick,S)||S.preventDefault()}},w=function(S){var V=Nc(S),$=u(V,S)>=0;if($||V instanceof Document)$&&(o.mostRecentlyFocusedNode=V);else{S.stopImmediatePropagation();var Y,U=!0;if(o.mostRecentlyFocusedNode)if(hi(o.mostRecentlyFocusedNode)>0){var F=u(o.mostRecentlyFocusedNode),W=o.containerGroups[F].tabbableNodes;if(W.length>0){var z=W.findIndex(function(Z){return Z===o.mostRecentlyFocusedNode});z>=0&&(s.isKeyForward(o.recentNavEvent)?z+1<W.length&&(Y=W[z+1],U=!1):z-1>=0&&(Y=W[z-1],U=!1))}}else o.containerGroups.some(function(Z){return Z.tabbableNodes.some(function(X){return hi(X)>0})})||(U=!1);else U=!1;U&&(Y=_({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),v(Y||o.mostRecentlyFocusedNode||h())}o.recentNavEvent=void 0},x=function(S){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=S;var $=_({event:S,isBackward:V});$&&(gl(S)&&S.preventDefault(),v($))},C=function(S){(s.isKeyForward(S)||s.isKeyBackward(S))&&x(S,s.isKeyBackward(S))},D=function(S){W5(S)&&Oa(s.escapeDeactivates,S)!==!1&&(S.preventDefault(),a.deactivate())},M=function(S){var V=Nc(S);u(V,S)>=0||Oa(s.clickOutsideDeactivates,S)||Oa(s.allowOutsideClick,S)||(S.preventDefault(),S.stopImmediatePropagation())},I=function(){if(o.active)return Hw.activateTrap(i,a),o.delayInitialFocusTimer=s.delayInitialFocus?Ww(function(){v(h())}):v(h()),r.addEventListener("focusin",w,!0),r.addEventListener("mousedown",y,{capture:!0,passive:!1}),r.addEventListener("touchstart",y,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",C,{capture:!0,passive:!1}),r.addEventListener("keydown",D),a},b=function(){if(o.active)return r.removeEventListener("focusin",w,!0),r.removeEventListener("mousedown",y,!0),r.removeEventListener("touchstart",y,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",C,!0),r.removeEventListener("keydown",D),a},P=function(S){var V=S.some(function($){var Y=Array.from($.removedNodes);return Y.some(function(U){return U===o.mostRecentlyFocusedNode})});V&&v(h())},A=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(P):void 0,k=function(){A&&(A.disconnect(),o.active&&!o.paused&&o.containers.map(function(S){A.observe(S,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(S){if(o.active)return this;var V=l(S,"onActivate"),$=l(S,"onPostActivate"),Y=l(S,"checkCanFocusTrap");Y||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,V==null||V();var U=function(){Y&&f(),I(),k(),$==null||$()};return Y?(Y(o.containers.concat()).then(U,U),this):(U(),this)},deactivate:function(S){if(!o.active)return this;var V=zw({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},S);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,k(),Hw.deactivateTrap(i,a);var $=l(V,"onDeactivate"),Y=l(V,"onPostDeactivate"),U=l(V,"checkCanReturnFocus"),F=l(V,"returnFocus","returnFocusOnDeactivate");$==null||$();var W=function(){Ww(function(){F&&v(E(o.nodeFocusedBeforeActivation)),Y==null||Y()})};return F&&U?(U(E(o.nodeFocusedBeforeActivation)).then(W,W),this):(W(),this)},pause:function(S){if(o.paused||!o.active)return this;var V=l(S,"onPause"),$=l(S,"onPostPause");return o.paused=!0,V==null||V(),b(),k(),$==null||$(),this},unpause:function(S){if(!o.paused||!o.active)return this;var V=l(S,"onUnpause"),$=l(S,"onPostUnpause");return o.paused=!1,V==null||V(),f(),I(),k(),$==null||$(),this},updateContainerElements:function(S){var V=[].concat(S).filter(Boolean);return o.containers=V.map(function($){return typeof $=="string"?r.querySelector($):$}),o.active&&f(),k(),this}},a.updateContainerElements(e),a};const Y5=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:Q5},Symbol.toStringTag,{value:"Module"})),Z5=aT(Y5),X5=aT(U5);function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function J5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function tj(t,e,n){return e&&ej(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nj(t,e,n){return e=_h(e),rj(t,x2()?Reflect.construct(e,n||[],_h(t).constructor):e.apply(t,n))}function rj(t,e){if(e&&(Go(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ij(t)}function ij(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}function sj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qg(t,e)}function oj(t,e,n){return(e=C2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C2(t){var e=aj(t,"string");return Go(e)=="symbol"?e:e+""}function aj(t,e){if(Go(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oc=N,de=I5,lj=Z5,uj=lj.createFocusTrap,cj=X5,dj=cj.isFocusable,c0=function(t){function e(n){var r;J5(this,e),r=nj(this,e,[n]),oj(r,"getNodeForOption",function(o){var a,l=(a=this.internalOptions[o])!==null&&a!==void 0?a:this.originalOptions[o];if(typeof l=="function"){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];l=l.apply(void 0,d)}if(l===!0&&(l=void 0),!l){if(l===void 0||l===!1)return l;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var f=l;if(typeof l=="string"){var m;if(f=(m=this.getDocument())===null||m===void 0?void 0:m.querySelector(l),!f)throw new Error("`".concat(o,"` as selector refers to no known node"))}return f}),r.handleDeactivate=r.handleDeactivate.bind(r),r.handlePostDeactivate=r.handlePostDeactivate.bind(r),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(r),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var i=n.focusTrapOptions;for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(s==="returnFocusOnDeactivate"||s==="onDeactivate"||s==="onPostDeactivate"||s==="checkCanReturnFocus"||s==="clickOutsideDeactivates"){r.originalOptions[s]=i[s];continue}r.internalOptions[s]=i[s]}return r.outsideClick=null,r.focusTrapElements=n.containerElements||[],r.updatePreviousElement(),r}return sj(e,t),tj(e,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var r=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return r||(r===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var r=this.getDocument();r&&(this.previouslyFocusedElement=r.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(r){var i=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,r):this.originalOptions.clickOutsideDeactivates;return i&&(this.outsideClick={target:r.target,allowDeactivation:i}),i}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var r=this,i=function(){var o=r.getReturnFocusNode(),a=!!(r.originalOptions.returnFocusOnDeactivate&&o!==null&&o!==void 0&&o.focus&&(!r.outsideClick||r.outsideClick.allowDeactivation&&!dj(r.outsideClick.target,r.internalOptions.tabbableOptions))),l=r.internalOptions.preventScroll,u=l===void 0?!1:l;a&&o.focus({preventScroll:u}),r.originalOptions.onPostDeactivate&&r.originalOptions.onPostDeactivate.call(null),r.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(i,i):i()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var r=this.focusTrapElements.some(Boolean);r&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(r){if(this.focusTrap){r.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var i=!r.active&&this.props.active,s=r.active&&!this.props.active,o=!r.paused&&this.props.paused,a=r.paused&&!this.props.paused;if(i&&(this.updatePreviousElement(),this.focusTrap.activate()),s){this.deactivateTrap();return}o&&this.focusTrap.pause(),a&&this.focusTrap.unpause()}else r.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var r=this,i=this.props.children?Oc.Children.only(this.props.children):void 0;if(i){if(i.type&&i.type===Oc.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var s=function(l){var u=r.props.containerElements;i&&(typeof i.ref=="function"?i.ref(l):i.ref&&(i.ref.current=l)),r.focusTrapElements=u||[l]},o=Oc.cloneElement(i,{ref:s});return o}return null}}])}(Oc.Component),Da=typeof Element>"u"?Function:Element;c0.propTypes={active:de.bool,paused:de.bool,focusTrapOptions:de.shape({document:de.object,onActivate:de.func,onPostActivate:de.func,checkCanFocusTrap:de.func,onPause:de.func,onPostPause:de.func,onUnpause:de.func,onPostUnpause:de.func,onDeactivate:de.func,onPostDeactivate:de.func,checkCanReturnFocus:de.func,initialFocus:de.oneOfType([de.instanceOf(Da),de.string,de.bool,de.func]),fallbackFocus:de.oneOfType([de.instanceOf(Da),de.string,de.func]),escapeDeactivates:de.oneOfType([de.bool,de.func]),clickOutsideDeactivates:de.oneOfType([de.bool,de.func]),returnFocusOnDeactivate:de.bool,setReturnFocus:de.oneOfType([de.instanceOf(Da),de.string,de.bool,de.func]),allowOutsideClick:de.oneOfType([de.bool,de.func]),preventScroll:de.bool,tabbableOptions:de.shape({displayCheck:de.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:de.oneOfType([de.bool,de.func])}),trapStack:de.array,isKeyForward:de.func,isKeyBackward:de.func}),containerElements:de.arrayOf(de.instanceOf(Da)),children:de.oneOfType([de.element,de.instanceOf(Da)])};c0.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:uj};var hj=c0;const fj=hv(hj),xf=({isOpen:t,onClose:e,ariaLabel:n,children:r})=>{const i=N.useRef(null);return _5(i,e),N.useEffect(()=>{const s=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="auto"}},[t,e]),t?bS.createPortal(T.jsx(fj,{children:T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity",role:"dialog","aria-modal":"true","aria-label":n,children:T.jsxs("div",{ref:i,className:"bg-white rounded-lg w-full max-w-3xl mx-4 md:mx-0 relative shadow-lg transform transition-all",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none","aria-label":"Close Modal",children:T.jsx(a0,{size:20})}),T.jsx("div",{className:"p-6 overflow-y-auto md:overflow-y-visible max-h-[95vh] md:h-fit",children:r})]})})}),document.body):null},qw=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,a]=N.useState(!1),[l,u]=N.useState(""),[d,h]=N.useState(""),f=Cu(),m=ml.string().email({message:"Invalid email address"}),v=ml.string().min(6,{message:"Password must be at least 6 characters"}),E=async C=>{C.preventDefault(),s("");try{const D=m.parse(t),M=v.parse(n);await Pb(Io,D,M),f("/summary")}catch(D){if(D instanceof Wt){const M=D.errors.map(I=>I.message).join(" ");s(M)}else D instanceof Ht||D instanceof Error?s(D.message):s("An unexpected error occurred.")}},_=async()=>{s("");try{await Pb(Io,"guest@gmail.com","guestpassword"),f("/summary")}catch(C){C instanceof Ht||C instanceof Error?s(C.message):s("Failed to log in as guest. Please try again.")}},y=()=>{u(""),h(""),a(!0)},w=()=>{a(!1)},x=async C=>{C.preventDefault(),h(""),s("");try{const D=m.parse(l);await cM(Io,D),h("Password reset email sent. Please check your inbox.")}catch(D){if(D instanceof Wt){const M=D.errors.map(I=>I.message).join(" ");s(M)}else D instanceof Ht||D instanceof Error?s(D.message):s("An unexpected error occurred.")}};return T.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-100 to-purple-100 p-4",role:"main","aria-labelledby":"login-heading",children:[T.jsxs("form",{onSubmit:E,className:"bg-white p-8 rounded-lg shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] w-full max-w-md min-w-[35vw]","aria-labelledby":"login-heading",children:[T.jsx("h2",{id:"login-heading",className:"text-3xl md:text-4xl mb-6 text-center font-bold flex items-center justify-center",children:"Log In"}),i&&T.jsx("div",{className:"mb-4 text-red-500 text-md",role:"alert",children:i}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"login-email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),T.jsxs("div",{className:"relative",children:[T.jsx(Gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"login-email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:C=>e(C.target.value),placeholder:"Email","aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"login-password",className:"block text-gray-700 text-lg font-medium mb-2",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(g5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"login-password",type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:C=>r(C.target.value),placeholder:"Password","aria-required":"true"})]})]}),T.jsx("div",{className:"mb-6 text-right",children:T.jsx("button",{type:"button",onClick:y,className:"text-blue-600 hover:text-blue-800 hover:underline text-md font-medium","aria-label":"Forgot Password",children:"Forgot Password?"})}),T.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":"Log In",children:"Log In"}),T.jsx("button",{type:"button",onClick:_,className:"w-full outline-[1px] border border-gray-700 py-3 rounded-lg hover:outline-0 hover:text-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Continue as Guest",children:"Continue as Guest"}),T.jsxs("p",{className:"mt-6 text-center text-md",children:["Don't have an account?"," ",T.jsx(ft,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-medium hover:underline","aria-label":"Sign Up",children:"Sign Up"})]})]}),T.jsx(xf,{isOpen:o,onClose:w,ariaLabel:"Password Reset Modal",children:T.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded-lg","aria-labelledby":"reset-password-heading",children:[T.jsx("h2",{id:"reset-password-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:"Reset Password"}),i&&T.jsx("div",{className:"mb-4 text-red-500 text-md",role:"alert",children:i}),d&&T.jsx("div",{className:"mb-4 text-green-500 text-md",role:"status",children:d}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"reset-email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),T.jsxs("div",{className:"relative",children:[T.jsx(Gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"reset-email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:C=>u(C.target.value),placeholder:"Email","aria-required":"true"})]})]}),T.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 text-lg font-semibold mb-4 hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Send Password Reset Email",children:"Send Reset Email"}),T.jsx("button",{type:"button",onClick:w,className:"w-full border-gray-700 border-[1px] hover:text-blue-700 py-3 rounded-lg hover:border-blue-700 transition duration-200 text-lg font-semibold hover:shadow-[1px_1px_1px_2px_#2b6cb0]","aria-label":"Cancel Password Reset",children:"Cancel"})]})})]})},Xi=N.createContext({currentUser:null,loading:!0}),pj=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(!0);return N.useEffect(()=>{const s=Io.onAuthStateChanged(o=>{n(o),i(!1)});return()=>{s()}},[]),T.jsx(Xi.Provider,{value:{currentUser:e,loading:r},children:t})};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function mj(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2(t){var e=mj(t,"string");return Ds(e)=="symbol"?e:e+""}function Xa(t,e,n){return(e=R2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(n),!0).forEach(function(r){Xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gj(t){if(Array.isArray(t))return t}function vj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function P2(t,e){if(t){if(typeof t=="string")return Yg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yg(t,e):void 0}}function yj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lr(t,e){return gj(t)||vj(t,e)||P2(t,e)||yj()}function _j(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function wr(t,e){if(t==null)return{};var n,r,i=_j(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var bj=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function A2(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,m=t.value,v=wr(t,bj),E=N.useState(a!==void 0?a:n),_=Lr(E,2),y=_[0],w=_[1],x=N.useState(l!==void 0?l:i),C=Lr(x,2),D=C[0],M=C[1],I=N.useState(m!==void 0?m:o),b=Lr(I,2),P=b[0],A=b[1],k=N.useCallback(function(F,W){typeof u=="function"&&u(F,W),A(F)},[u]),O=N.useCallback(function(F,W){var z;typeof d=="function"&&(z=d(F,W)),w(z!==void 0?z:F)},[d]),S=N.useCallback(function(){typeof f=="function"&&f(),M(!0)},[f]),V=N.useCallback(function(){typeof h=="function"&&h(),M(!1)},[h]),$=a!==void 0?a:y,Y=l!==void 0?l:D,U=m!==void 0?m:P;return ae(ae({},v),{},{inputValue:$,menuIsOpen:Y,onChange:k,onInputChange:O,onMenuClose:V,onMenuOpen:S,value:U})}function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(null,arguments)}function wj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R2(r.key),r)}}function Ej(t,e,n){return e&&Qw(t.prototype,e),n&&Qw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zg(t,e){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zg(t,e)}function Tj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function Ij(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sj(t,e){if(e&&(Ds(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ij(t)}function xj(t){var e=k2();return function(){var n,r=bh(t);if(e){var i=bh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sj(this,n)}}function Cj(t){if(Array.isArray(t))return Yg(t)}function Rj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xo(t){return Cj(t)||Rj(t)||P2(t)||Pj()}var Aj=!1;function kj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Nj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Oj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Aj:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Nj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kj(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ut="-ms-",wh="-moz-",Ne="-webkit-",N2="comm",d0="rule",h0="decl",Dj="@import",O2="@keyframes",Mj="@layer",Lj=Math.abs,Cf=String.fromCharCode,Vj=Object.assign;function Fj(t,e){return Ct(t,0)^45?(((e<<2^Ct(t,0))<<2^Ct(t,1))<<2^Ct(t,2))<<2^Ct(t,3):0}function D2(t){return t.trim()}function jj(t,e){return(t=e.exec(t))?t[0]:t}function Oe(t,e,n){return t.replace(e,n)}function Xg(t,e){return t.indexOf(e)}function Ct(t,e){return t.charCodeAt(e)|0}function cu(t,e,n){return t.slice(e,n)}function rr(t){return t.length}function f0(t){return t.length}function Dc(t,e){return e.push(t),t}function Uj(t,e){return t.map(e).join("")}var Rf=1,qo=1,M2=0,fn=0,ut=0,oa="";function Pf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Rf,column:qo,length:o,return:""}}function Ma(t,e){return Vj(Pf("",null,null,"",null,null,0),t,{length:-t.length},e)}function $j(){return ut}function Bj(){return ut=fn>0?Ct(oa,--fn):0,qo--,ut===10&&(qo=1,Rf--),ut}function bn(){return ut=fn<M2?Ct(oa,fn++):0,qo++,ut===10&&(qo=1,Rf++),ut}function mr(){return Ct(oa,fn)}function ud(){return fn}function zu(t,e){return cu(oa,t,e)}function du(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L2(t){return Rf=qo=1,M2=rr(oa=t),fn=0,[]}function V2(t){return oa="",t}function cd(t){return D2(zu(fn-1,Jg(t===91?t+2:t===40?t+1:t)))}function zj(t){for(;(ut=mr())&&ut<33;)bn();return du(t)>2||du(ut)>3?"":" "}function Hj(t,e){for(;--e&&bn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return zu(t,ud()+(e<6&&mr()==32&&bn()==32))}function Jg(t){for(;bn();)switch(ut){case t:return fn;case 34:case 39:t!==34&&t!==39&&Jg(ut);break;case 40:t===41&&Jg(t);break;case 92:bn();break}return fn}function Wj(t,e){for(;bn()&&t+ut!==57;)if(t+ut===84&&mr()===47)break;return"/*"+zu(e,fn-1)+"*"+Cf(t===47?t:bn())}function Gj(t){for(;!du(mr());)bn();return zu(t,fn)}function qj(t){return V2(dd("",null,null,null,[""],t=L2(t),0,[0],t))}function dd(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,v=0,E=1,_=1,y=1,w=0,x="",C=i,D=s,M=r,I=x;_;)switch(v=w,w=bn()){case 40:if(v!=108&&Ct(I,h-1)==58){Xg(I+=Oe(cd(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:I+=cd(w);break;case 9:case 10:case 13:case 32:I+=zj(v);break;case 92:I+=Hj(ud()-1,7);continue;case 47:switch(mr()){case 42:case 47:Dc(Kj(Wj(bn(),ud()),e,n),l);break;default:I+="/"}break;case 123*E:a[u++]=rr(I)*y;case 125*E:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+d:y==-1&&(I=Oe(I,/\f/g,"")),m>0&&rr(I)-h&&Dc(m>32?Zw(I+";",r,n,h-1):Zw(Oe(I," ","")+";",r,n,h-2),l);break;case 59:I+=";";default:if(Dc(M=Yw(I,e,n,u,d,i,a,x,C=[],D=[],h),s),w===123)if(d===0)dd(I,e,M,M,C,s,h,a,D);else switch(f===99&&Ct(I,3)===110?100:f){case 100:case 108:case 109:case 115:dd(t,M,M,r&&Dc(Yw(t,M,M,0,0,i,a,x,i,C=[],h),D),i,D,h,a,r?C:D);break;default:dd(I,M,M,M,[""],D,0,a,D)}}u=d=m=0,E=y=1,x=I="",h=o;break;case 58:h=1+rr(I),m=v;default:if(E<1){if(w==123)--E;else if(w==125&&E++==0&&Bj()==125)continue}switch(I+=Cf(w),w*E){case 38:y=d>0?1:(I+="\f",-1);break;case 44:a[u++]=(rr(I)-1)*y,y=1;break;case 64:mr()===45&&(I+=cd(bn())),f=mr(),d=h=rr(x=I+=Gj(ud())),w++;break;case 45:v===45&&rr(I)==2&&(E=0)}}return s}function Yw(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=f0(f),v=0,E=0,_=0;v<r;++v)for(var y=0,w=cu(t,h+1,h=Lj(E=o[v])),x=t;y<m;++y)(x=D2(E>0?f[y]+" "+w:Oe(w,/&\f/g,f[y])))&&(l[_++]=x);return Pf(t,e,n,i===0?d0:a,l,u,d)}function Kj(t,e,n){return Pf(t,e,n,N2,Cf($j()),cu(t,2,-2),0)}function Zw(t,e,n,r){return Pf(t,e,n,h0,cu(t,0,r),cu(t,r+1,-1),r)}function Co(t,e){for(var n="",r=f0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Qj(t,e,n,r){switch(t.type){case Mj:if(t.children.length)break;case Dj:case h0:return t.return=t.return||t.value;case N2:return"";case O2:return t.return=t.value+"{"+Co(t.children,r)+"}";case d0:t.value=t.props.join(",")}return rr(n=Co(t.children,r))?t.return=t.value+"{"+n+"}":""}function Yj(t){var e=f0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Zj(t){return function(e){e.root||(e=e.return)&&t(e)}}function Xj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Jj=function(e,n,r){for(var i=0,s=0;i=s,s=mr(),i===38&&s===12&&(n[r]=1),!du(s);)bn();return zu(e,fn)},e9=function(e,n){var r=-1,i=44;do switch(du(i)){case 0:i===38&&mr()===12&&(n[r]=1),e[r]+=Jj(fn-1,n,r);break;case 2:e[r]+=cd(i);break;case 4:if(i===44){e[++r]=mr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Cf(i)}while(i=bn());return e},t9=function(e,n){return V2(e9(L2(e),n))},Xw=new WeakMap,n9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Xw.get(r))&&!i){Xw.set(e,!0);for(var s=[],o=t9(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},r9=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function F2(t,e){switch(Fj(t,e)){case 5103:return Ne+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ne+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+t+wh+t+Ut+t+t;case 6828:case 4268:return Ne+t+Ut+t+t;case 6165:return Ne+t+Ut+"flex-"+t+t;case 5187:return Ne+t+Oe(t,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Ut+"flex-$1$2")+t;case 5443:return Ne+t+Ut+"flex-item-"+Oe(t,/flex-|-self/,"")+t;case 4675:return Ne+t+Ut+"flex-line-pack"+Oe(t,/align-content|flex-|-self/,"")+t;case 5548:return Ne+t+Ut+Oe(t,"shrink","negative")+t;case 5292:return Ne+t+Ut+Oe(t,"basis","preferred-size")+t;case 6060:return Ne+"box-"+Oe(t,"-grow","")+Ne+t+Ut+Oe(t,"grow","positive")+t;case 4554:return Ne+Oe(t,/([^-])(transform)/g,"$1"+Ne+"$2")+t;case 6187:return Oe(Oe(Oe(t,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),t,"")+t;case 5495:case 3959:return Oe(t,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return Oe(Oe(t,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ne+t+t;case 4095:case 3583:case 4068:case 2532:return Oe(t,/(.+)-inline(.+)/,Ne+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rr(t)-1-e>6)switch(Ct(t,e+1)){case 109:if(Ct(t,e+4)!==45)break;case 102:return Oe(t,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+wh+(Ct(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Xg(t,"stretch")?F2(Oe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ct(t,e+1)!==115)break;case 6444:switch(Ct(t,rr(t)-3-(~Xg(t,"!important")&&10))){case 107:return Oe(t,":",":"+Ne)+t;case 101:return Oe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ne+(Ct(t,14)===45?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Ut+"$2box$3")+t}break;case 5936:switch(Ct(t,e+11)){case 114:return Ne+t+Ut+Oe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ne+t+Ut+Oe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ne+t+Ut+Oe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ne+t+Ut+t+t}return t}var i9=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case h0:e.return=F2(e.value,e.length);break;case O2:return Co([Ma(e,{value:Oe(e.value,"@","@"+Ne)})],i);case d0:if(e.length)return Uj(e.props,function(s){switch(jj(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Co([Ma(e,{props:[Oe(s,/:(read-\w+)/,":"+wh+"$1")]})],i);case"::placeholder":return Co([Ma(e,{props:[Oe(s,/:(plac\w+)/,":"+Ne+"input-$1")]}),Ma(e,{props:[Oe(s,/:(plac\w+)/,":"+wh+"$1")]}),Ma(e,{props:[Oe(s,/:(plac\w+)/,Ut+"input-$1")]})],i)}return""})}},s9=[i9],o9=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var _=E.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||s9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var _=E.getAttribute("data-emotion").split(" "),y=1;y<_.length;y++)s[_[y]]=!0;a.push(E)});var l,u=[n9,r9];{var d,h=[Qj,Zj(function(E){d.insert(E)})],f=Yj(u.concat(i,h)),m=function(_){return Co(qj(_),f)};l=function(_,y,w,x){d=w,m(_?_+"{"+y.styles+"}":y.styles),x&&(v.inserted[y.name]=!0)}}var v={key:n,sheet:new Oj({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},j2={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,p0=Et?Symbol.for("react.element"):60103,m0=Et?Symbol.for("react.portal"):60106,Af=Et?Symbol.for("react.fragment"):60107,kf=Et?Symbol.for("react.strict_mode"):60108,Nf=Et?Symbol.for("react.profiler"):60114,Of=Et?Symbol.for("react.provider"):60109,Df=Et?Symbol.for("react.context"):60110,g0=Et?Symbol.for("react.async_mode"):60111,Mf=Et?Symbol.for("react.concurrent_mode"):60111,Lf=Et?Symbol.for("react.forward_ref"):60112,Vf=Et?Symbol.for("react.suspense"):60113,a9=Et?Symbol.for("react.suspense_list"):60120,Ff=Et?Symbol.for("react.memo"):60115,jf=Et?Symbol.for("react.lazy"):60116,l9=Et?Symbol.for("react.block"):60121,u9=Et?Symbol.for("react.fundamental"):60117,c9=Et?Symbol.for("react.responder"):60118,d9=Et?Symbol.for("react.scope"):60119;function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p0:switch(t=t.type,t){case g0:case Mf:case Af:case Nf:case kf:case Vf:return t;default:switch(t=t&&t.$$typeof,t){case Df:case Lf:case jf:case Ff:case Of:return t;default:return e}}case m0:return e}}}function U2(t){return xn(t)===Mf}Ue.AsyncMode=g0;Ue.ConcurrentMode=Mf;Ue.ContextConsumer=Df;Ue.ContextProvider=Of;Ue.Element=p0;Ue.ForwardRef=Lf;Ue.Fragment=Af;Ue.Lazy=jf;Ue.Memo=Ff;Ue.Portal=m0;Ue.Profiler=Nf;Ue.StrictMode=kf;Ue.Suspense=Vf;Ue.isAsyncMode=function(t){return U2(t)||xn(t)===g0};Ue.isConcurrentMode=U2;Ue.isContextConsumer=function(t){return xn(t)===Df};Ue.isContextProvider=function(t){return xn(t)===Of};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p0};Ue.isForwardRef=function(t){return xn(t)===Lf};Ue.isFragment=function(t){return xn(t)===Af};Ue.isLazy=function(t){return xn(t)===jf};Ue.isMemo=function(t){return xn(t)===Ff};Ue.isPortal=function(t){return xn(t)===m0};Ue.isProfiler=function(t){return xn(t)===Nf};Ue.isStrictMode=function(t){return xn(t)===kf};Ue.isSuspense=function(t){return xn(t)===Vf};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Af||t===Mf||t===Nf||t===kf||t===Vf||t===a9||typeof t=="object"&&t!==null&&(t.$$typeof===jf||t.$$typeof===Ff||t.$$typeof===Of||t.$$typeof===Df||t.$$typeof===Lf||t.$$typeof===u9||t.$$typeof===c9||t.$$typeof===d9||t.$$typeof===l9)};Ue.typeOf=xn;j2.exports=Ue;var h9=j2.exports,$2=h9,f9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},B2={};B2[$2.ForwardRef]=f9;B2[$2.Memo]=p9;var m9=!0;function g9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var z2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||m9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},v9=function(e,n,r){z2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function y9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b9=!1,w9=/[A-Z]|^ms/g,E9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,H2=function(e){return e.charCodeAt(1)===45},Jw=function(e){return e!=null&&typeof e!="boolean"},nm=Xj(function(t){return H2(t)?t:t.replace(w9,"-$&").toLowerCase()}),eE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(E9,function(r,i,s){return ir={name:i,styles:s,next:ir},i})}return _9[e]!==1&&!H2(e)&&typeof n=="number"&&n!==0?n+"px":n},T9="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function hu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ir={name:i.name,styles:i.styles,next:ir},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ir={name:o.name,styles:o.styles,next:ir},o=o.next;var a=s.styles+";";return a}return I9(t,e,n)}case"function":{if(t!==void 0){var l=ir,u=n(t);return ir=l,hu(t,e,u)}break}}var d=n;return d}function I9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;Jw(a)&&(r+=nm(s)+":"+eE(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&b9)throw new Error(T9);if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)Jw(o[l])&&(r+=nm(s)+":"+eE(s,o[l])+";");else{var u=hu(t,e,o);switch(s){case"animation":case"animationName":{r+=nm(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var tE=/label:\s*([^\s;{]+)\s*(;|$)/g,ir;function W2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ir=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=hu(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=hu(n,e,t[a]),r){var l=s;i+=l[a]}tE.lastIndex=0;for(var u="",d;(d=tE.exec(i))!==null;)u+="-"+d[1];var h=y9(i)+u;return{name:h,styles:i,next:ir}}var S9=function(e){return e()},x9=_l.useInsertionEffect?_l.useInsertionEffect:!1,C9=x9||S9,R9=!1,G2=N.createContext(typeof HTMLElement<"u"?o9({key:"css"}):null);G2.Provider;var P9=function(e){return N.forwardRef(function(n,r){var i=N.useContext(G2);return e(n,i,r)})},A9=N.createContext({}),v0={}.hasOwnProperty,ev="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",k9=function(e,n){var r={};for(var i in n)v0.call(n,i)&&(r[i]=n[i]);return r[ev]=e,r},N9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return z2(n,r,i),C9(function(){return v9(n,r,i)}),null},O9=P9(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[ev],s=[r],o="";typeof t.className=="string"?o=g9(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=W2(s,void 0,N.useContext(A9));o+=e.key+"-"+a.name;var l={};for(var u in t)v0.call(t,u)&&u!=="css"&&u!==ev&&!R9&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),N.createElement(N.Fragment,null,N.createElement(N9,{cache:e,serialized:a,isStringTag:typeof i=="string"}),N.createElement(i,l))}),D9=O9,ce=function(e,n){var r=arguments;if(n==null||!v0.call(n,"css"))return N.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=D9,s[1]=k9(e,n);for(var o=2;o<i;o++)s[o]=r[o];return N.createElement.apply(null,s)};function y0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W2(e)}var M9=function(){var e=y0.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function L9(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const V9=Math.min,F9=Math.max,Eh=Math.round,Mc=Math.floor,Th=t=>({x:t,y:t});function j9(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Uf(){return typeof window<"u"}function q2(t){return Q2(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function K2(t){var e;return(e=(Q2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Q2(t){return Uf()?t instanceof Node||t instanceof Gr(t).Node:!1}function U9(t){return Uf()?t instanceof Element||t instanceof Gr(t).Element:!1}function _0(t){return Uf()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function nE(t){return!Uf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}function Y2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=b0(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function $9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function B9(t){return["html","body","#document"].includes(q2(t))}function b0(t){return Gr(t).getComputedStyle(t)}function z9(t){if(q2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nE(t)&&t.host||K2(t);return nE(e)?e.host:e}function Z2(t){const e=z9(t);return B9(e)?t.ownerDocument?t.ownerDocument.body:t.body:_0(e)&&Y2(e)?e:Z2(e)}function Ih(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Z2(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gr(i);if(s){const a=tv(o);return e.concat(o,o.visualViewport||[],Y2(i)?i:[],a&&n?Ih(a):[])}return e.concat(i,Ih(i,[],n))}function tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H9(t){const e=b0(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_0(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Eh(n)!==s||Eh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function w0(t){return U9(t)?t:t.contextElement}function rE(t){const e=w0(t);if(!_0(e))return Th(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=H9(e);let o=(s?Eh(n.width):n.width)/r,a=(s?Eh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const W9=Th(0);function G9(t){const e=Gr(t);return!$9()||!e.visualViewport?W9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q9(t,e,n){return!1}function iE(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=w0(t);let o=Th(1);e&&(o=rE(t));const a=q9()?G9(s):Th(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Gr(s),m=r;let v=f,E=tv(v);for(;E&&r&&m!==v;){const _=rE(E),y=E.getBoundingClientRect(),w=b0(E),x=y.left+(E.clientLeft+parseFloat(w.paddingLeft))*_.x,C=y.top+(E.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,h*=_.y,l+=x,u+=C,v=Gr(E),E=tv(v)}}return j9({width:d,height:h,x:l,y:u})}function K9(t,e){let n=null,r;const i=K2(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=Mc(d),v=Mc(i.clientWidth-(u+h)),E=Mc(i.clientHeight-(d+f)),_=Mc(u),w={rootMargin:-m+"px "+-v+"px "+-E+"px "+-_+"px",threshold:F9(0,V9(1,l))||1};let x=!0;function C(D){const M=D[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return o(!0),s}function Q9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=w0(t),d=i||s?[...u?Ih(u):[],...Ih(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=u&&a?K9(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,E=l?iE(t):null;l&&_();function _(){const y=iE(t);E&&(y.x!==E.x||y.y!==E.y||y.width!==E.width||y.height!==E.height)&&n(),E=y,v=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}var nv=N.useLayoutEffect,Y9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Sh=function(){};function Z9(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function X9(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Z9(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var xh=function(e){return a8(e)?e.filter(Boolean):Ds(e)==="object"&&e!==null?[e]:[]},X2=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=wr(e,Y9);return ae({},n)},rt=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function $f(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function J9(t){return $f(t)?window.innerHeight:t.clientHeight}function J2(t){return $f(t)?window.pageYOffset:t.scrollTop}function Ch(t,e){if($f(t)){window.scrollTo(0,e);return}t.scrollTop=e}function e8(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function t8(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Lc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Sh,i=J2(t),s=e-i,o=10,a=0;function l(){a+=o;var u=t8(a,i,s,n);Ch(t,u),a<n?window.requestAnimationFrame(l):r(t)}l()}function sE(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ch(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ch(t,Math.max(e.offsetTop-i,0))}function n8(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function oE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function r8(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var eR=!1,i8={get passive(){return eR=!0}},Vc=typeof window<"u"?window:{};Vc.addEventListener&&Vc.removeEventListener&&(Vc.addEventListener("p",Sh,i8),Vc.removeEventListener("p",Sh,!1));var s8=eR;function o8(t){return t!=null}function a8(t){return Array.isArray(t)}function Ja(t,e,n){return t?e:n}var l8=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Lr(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Lr(a,2),u=l[0],d=l[1];return o[u]=d,o},{})},u8=["children","innerProps"],c8=["children","innerProps"];function d8(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=e8(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var d=l.getBoundingClientRect(),h=d.height,f=n.getBoundingClientRect(),m=f.bottom,v=f.height,E=f.top,_=n.offsetParent.getBoundingClientRect(),y=_.top,w=o?window.innerHeight:J9(l),x=J2(l),C=parseInt(getComputedStyle(n).marginBottom,10),D=parseInt(getComputedStyle(n).marginTop,10),M=y-D,I=w-E,b=M+x,P=h-x-E,A=m-w+x+C,k=x+E-D,O=160;switch(i){case"auto":case"bottom":if(I>=v)return{placement:"bottom",maxHeight:e};if(P>=v&&!o)return s&&Lc(l,A,O),{placement:"bottom",maxHeight:e};if(!o&&P>=r||o&&I>=r){s&&Lc(l,A,O);var S=o?I-C:P-C;return{placement:"bottom",maxHeight:S}}if(i==="auto"||o){var V=e,$=o?M:b;return $>=r&&(V=Math.min($-C-a,e)),{placement:"top",maxHeight:V}}if(i==="bottom")return s&&Ch(l,A),{placement:"bottom",maxHeight:e};break;case"top":if(M>=v)return{placement:"top",maxHeight:e};if(b>=v&&!o)return s&&Lc(l,k,O),{placement:"top",maxHeight:e};if(!o&&b>=r||o&&M>=r){var Y=e;return(!o&&b>=r||o&&M>=r)&&(Y=o?M-D:b-D),s&&Lc(l,k,O),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function h8(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var tR=function(e){return e==="auto"?"bottom":e},f8=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return ae((r={label:"menu"},Xa(r,h8(i),"100%"),Xa(r,"position","absolute"),Xa(r,"width","100%"),Xa(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},nR=N.createContext(null),p8=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=N.useContext(nR)||{},d=u.setPortalPlacement,h=N.useRef(null),f=N.useState(i),m=Lr(f,2),v=m[0],E=m[1],_=N.useState(null),y=Lr(_,2),w=y[0],x=y[1],C=l.spacing.controlHeight;return nv(function(){var D=h.current;if(D){var M=o==="fixed",I=a&&!M,b=d8({maxHeight:i,menuEl:D,minHeight:r,placement:s,shouldScroll:I,isFixedPosition:M,controlHeight:C});E(b.maxHeight),x(b.placement),d==null||d(b.placement)}},[i,s,o,a,r,d,C]),n({ref:h,placerProps:ae(ae({},e),{},{placement:w||tR(s),maxHeight:v})})},m8=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ce("div",ue({},rt(e,"menu",{menu:!0}),{ref:r},i),n)},g8=m8,v8=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},y8=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ce("div",ue({},rt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},rR=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ae({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},_8=rR,b8=rR,w8=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=wr(e,u8);return ce("div",ue({},rt(ae(ae({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},E8=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=wr(e,c8);return ce("div",ue({},rt(ae(ae({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},T8=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},I8=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=N.useRef(null),u=N.useRef(null),d=N.useState(tR(o)),h=Lr(d,2),f=h[0],m=h[1],v=N.useMemo(function(){return{setPortalPlacement:m}},[]),E=N.useState(null),_=Lr(E,2),y=_[0],w=_[1],x=N.useCallback(function(){if(i){var I=n8(i),b=a==="fixed"?0:window.pageYOffset,P=I[f]+b;(P!==(y==null?void 0:y.offset)||I.left!==(y==null?void 0:y.rect.left)||I.width!==(y==null?void 0:y.rect.width))&&w({offset:P,rect:I})}},[i,a,f,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);nv(function(){x()},[x]);var C=N.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=Q9(i,l.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);nv(function(){C()},[C]);var D=N.useCallback(function(I){l.current=I,C()},[C]);if(!n&&a!=="fixed"||!y)return null;var M=ce("div",ue({ref:D},rt(ae(ae({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ce(nR.Provider,{value:v},n?Su.createPortal(M,n):M)},S8=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},x8=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ce("div",ue({},rt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},C8=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},R8=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ce("div",ue({},rt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},P8=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},A8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"indicatorsContainer",{indicators:!0}),r),n)},aE,k8=["size"],N8=["innerProps","isRtl","size"],O8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},iR=function(e){var n=e.size,r=wr(e,k8);return ce("svg",ue({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:O8},r))},E0=function(e){return ce(iR,ue({size:20},e),ce("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sR=function(e){return ce(iR,ue({size:20},e),ce("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},oR=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},D8=oR,M8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ce(sR,null))},L8=oR,V8=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ce(E0,null))},F8=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},j8=function(e){var n=e.innerProps;return ce("span",ue({},n,rt(e,"indicatorSeparator",{"indicator-separator":!0})))},U8=M9(aE||(aE=L9([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$8=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},rm=function(e){var n=e.delay,r=e.offset;return ce("span",{css:y0({animation:"".concat(U8," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},B8=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=wr(e,N8);return ce("div",ue({},rt(ae(ae({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ce(rm,{delay:0,offset:r}),ce(rm,{delay:160,offset:!0}),ce(rm,{delay:320,offset:!r}))},z8=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},H8=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ce("div",ue({ref:s},rt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},W8=H8,G8=["data"],q8=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},K8=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,d=e.theme,h=e.selectProps;return ce("div",ue({},rt(e,"group",{group:!0}),l),ce(o,ue({},a,{selectProps:h,theme:d,getStyles:i,getClassNames:s,cx:r}),u),ce("div",null,n))},Q8=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Y8=function(e){var n=X2(e);n.data;var r=wr(n,G8);return ce("div",ue({},rt(e,"groupHeading",{"group-heading":!0}),r))},Z8=K8,X8=["innerRef","isDisabled","isHidden","inputClassName"],J8=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},eU),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},aR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},eU={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},aR)},tU=function(e){return ae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},aR)},nU=function(e){var n=e.cx,r=e.value,i=X2(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,u=wr(i,X8);return ce("div",ue({},rt(e,"input",{"input-container":!0}),{"data-value":r||""}),ce("input",ue({className:n({input:!0},l),ref:s,style:tU(a),disabled:o},u)))},rU=nU,iU=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},sU=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},oU=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},lR=function(e){var n=e.children,r=e.innerProps;return ce("div",r,n)},aU=lR,lU=lR;function uU(t){var e=t.children,n=t.innerProps;return ce("div",ue({role:"button"},n),e||ce(E0,{size:14}))}var cU=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,u=r.Container,d=r.Label,h=r.Remove;return ce(u,{data:i,innerProps:ae(ae({},rt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},ce(d,{data:i,innerProps:ae({},rt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ce(h,{data:i,innerProps:ae(ae({},rt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},dU=cU,hU=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},fU=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return ce("div",ue({},rt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},pU=fU,mU=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},gU=function(e){var n=e.children,r=e.innerProps;return ce("div",ue({},rt(e,"placeholder",{placeholder:!0}),r),n)},vU=gU,yU=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},_U=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ce("div",ue({},rt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},bU=_U,wU={ClearIndicator:V8,Control:W8,DropdownIndicator:M8,DownChevron:sR,CrossIcon:E0,Group:Z8,GroupHeading:Y8,IndicatorsContainer:A8,IndicatorSeparator:j8,Input:rU,LoadingIndicator:B8,Menu:g8,MenuList:y8,MenuPortal:I8,LoadingMessage:E8,NoOptionsMessage:w8,MultiValue:dU,MultiValueContainer:aU,MultiValueLabel:lU,MultiValueRemove:uU,Option:pU,Placeholder:vU,SelectContainer:x8,SingleValue:bU,ValueContainer:R8},EU=function(e){return ae(ae({},wU),e.components)},lE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function TU(t,e){return!!(t===e||lE(t)&&lE(e))}function IU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!TU(t[n],e[n]))return!1;return!0}function gt(t,e){e===void 0&&(e=IU);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var SU={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},xU=function(e){return ce("span",ue({css:SU},e))},uE=xU,CU={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,h=function(E,_){return E&&E.length?"".concat(E.indexOf(_)+1," of ").concat(E.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"&&d){var f=l?" disabled":"",m="".concat(u?" selected":"").concat(f);return"".concat(o).concat(m,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},RU=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,m=l.inputValue,v=l.isMulti,E=l.isOptionDisabled,_=l.isSearchable,y=l.menuIsOpen,w=l.options,x=l.screenReaderStatus,C=l.tabSelectsValue,D=l.isLoading,M=l["aria-label"],I=l["aria-live"],b=N.useMemo(function(){return ae(ae({},CU),h||{})},[h]),P=N.useMemo(function(){var $="";if(n&&b.onChange){var Y=n.option,U=n.options,F=n.removedValue,W=n.removedValues,z=n.value,Z=function(Tt){return Array.isArray(Tt)?null:Tt},X=F||Y||Z(z),ie=X?f(X):"",we=U||W||void 0,fe=we?we.map(f):[],Se=ae({isDisabled:X&&E(X,a),label:ie,labels:fe},n);$=b.onChange(Se)}return $},[n,b,E,a,f]),A=N.useMemo(function(){var $="",Y=r||i,U=!!(r&&a&&a.includes(r));if(Y&&b.onFocus){var F={focused:Y,label:f(Y),isDisabled:E(Y,a),isSelected:U,options:s,context:Y===r?"menu":"value",selectValue:a,isAppleDevice:d};$=b.onFocus(F)}return $},[r,i,f,E,b,s,a,d]),k=N.useMemo(function(){var $="";if(y&&w.length&&!D&&b.onFilter){var Y=x({count:s.length});$=b.onFilter({inputValue:m,resultsMessage:Y})}return $},[s,m,y,b,w,x,D]),O=(n==null?void 0:n.action)==="initial-input-focus",S=N.useMemo(function(){var $="";if(b.guidance){var Y=i?"value":y?"menu":"input";$=b.guidance({"aria-label":M,context:Y,isDisabled:r&&E(r,a),isMulti:v,isSearchable:_,tabSelectsValue:C,isInitialFocus:O})}return $},[M,r,i,v,E,_,y,b,a,C,O]),V=ce(N.Fragment,null,ce("span",{id:"aria-selection"},P),ce("span",{id:"aria-focused"},A),ce("span",{id:"aria-results"},k),ce("span",{id:"aria-guidance"},S));return ce(N.Fragment,null,ce(uE,{id:u},O&&V),ce(uE,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!O&&V))},PU=RU,rv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],AU=new RegExp("["+rv.map(function(t){return t.letters}).join("")+"]","g"),uR={};for(var im=0;im<rv.length;im++)for(var sm=rv[im],om=0;om<sm.letters.length;om++)uR[sm.letters[om]]=sm.base;var cR=function(e){return e.replace(AU,function(n){return uR[n]})},kU=gt(cR),cE=function(e){return e.replace(/^\s+|\s+$/g,"")},NU=function(e){return"".concat(e.label," ").concat(e.value)},OU=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:NU,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,u=i.matchFrom,d=l?cE(r):r,h=l?cE(a(n)):a(n);return s&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=kU(d),h=cR(h)),u==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},DU=["innerRef"];function MU(t){var e=t.innerRef,n=wr(t,DU),r=l8(n,"onExited","in","enter","exit","appear");return ce("input",ue({ref:e},r,{css:y0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var LU=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function VU(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=N.useRef(!1),a=N.useRef(!1),l=N.useRef(0),u=N.useRef(null),d=N.useCallback(function(_,y){if(u.current!==null){var w=u.current,x=w.scrollTop,C=w.scrollHeight,D=w.clientHeight,M=u.current,I=y>0,b=C-D-x,P=!1;b>y&&o.current&&(r&&r(_),o.current=!1),I&&a.current&&(s&&s(_),a.current=!1),I&&y>b?(n&&!o.current&&n(_),M.scrollTop=C,P=!0,o.current=!0):!I&&-y>x&&(i&&!a.current&&i(_),M.scrollTop=0,P=!0,a.current=!0),P&&LU(_)}},[n,r,i,s]),h=N.useCallback(function(_){d(_,_.deltaY)},[d]),f=N.useCallback(function(_){l.current=_.changedTouches[0].clientY},[]),m=N.useCallback(function(_){var y=l.current-_.changedTouches[0].clientY;d(_,y)},[d]),v=N.useCallback(function(_){if(_){var y=s8?{passive:!1}:!1;_.addEventListener("wheel",h,y),_.addEventListener("touchstart",f,y),_.addEventListener("touchmove",m,y)}},[m,f,h]),E=N.useCallback(function(_){_&&(_.removeEventListener("wheel",h,!1),_.removeEventListener("touchstart",f,!1),_.removeEventListener("touchmove",m,!1))},[m,f,h]);return N.useEffect(function(){if(e){var _=u.current;return v(_),function(){E(_)}}},[e,v,E]),function(_){u.current=_}}var dE=["boxSizing","height","overflow","paddingRight","position"],hE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function fE(t){t.preventDefault()}function pE(t){t.stopPropagation()}function mE(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function gE(){return"ontouchstart"in window||navigator.maxTouchPoints}var vE=!!(typeof window<"u"&&window.document&&window.document.createElement),La=0,Ks={capture:!1,passive:!1};function FU(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=N.useRef({}),s=N.useRef(null),o=N.useCallback(function(l){if(vE){var u=document.body,d=u&&u.style;if(r&&dE.forEach(function(v){var E=d&&d[v];i.current[v]=E}),r&&La<1){var h=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+h||0;Object.keys(hE).forEach(function(v){var E=hE[v];d&&(d[v]=E)}),d&&(d.paddingRight="".concat(m,"px"))}u&&gE()&&(u.addEventListener("touchmove",fE,Ks),l&&(l.addEventListener("touchstart",mE,Ks),l.addEventListener("touchmove",pE,Ks))),La+=1}},[r]),a=N.useCallback(function(l){if(vE){var u=document.body,d=u&&u.style;La=Math.max(La-1,0),r&&La<1&&dE.forEach(function(h){var f=i.current[h];d&&(d[h]=f)}),u&&gE()&&(u.removeEventListener("touchmove",fE,Ks),l&&(l.removeEventListener("touchstart",mE,Ks),l.removeEventListener("touchmove",pE,Ks)))}},[r]);return N.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var jU=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},UU={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $U(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,u=VU({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),d=FU({isEnabled:n}),h=function(m){u(m),d(m)};return ce(N.Fragment,null,n&&ce("div",{onClick:jU,css:UU}),e(h))}var BU={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},zU=function(e){var n=e.name,r=e.onFocus;return ce("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:BU,value:"",onChange:function(){}})},HU=zU;function T0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function WU(){return T0(/^iPhone/i)}function dR(){return T0(/^Mac/i)}function GU(){return T0(/^iPad/i)||dR()&&navigator.maxTouchPoints>1}function qU(){return WU()||GU()}function KU(){return dR()||qU()}var QU=function(e){return e.label},hR=function(e){return e.label},fR=function(e){return e.value},YU=function(e){return!!e.isDisabled},ZU={clearIndicator:L8,container:S8,control:z8,dropdownIndicator:D8,group:q8,groupHeading:Q8,indicatorsContainer:P8,indicatorSeparator:F8,input:J8,loadingIndicator:$8,loadingMessage:b8,menu:f8,menuList:v8,menuPortal:T8,multiValue:iU,multiValueLabel:sU,multiValueRemove:oU,noOptionsMessage:_8,option:hU,placeholder:mU,singleValue:yU,valueContainer:C8},XU={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},JU=4,pR=4,e$=38,t$=pR*2,n$={baseUnit:pR,controlHeight:e$,menuGutter:t$},am={borderRadius:JU,colors:XU,spacing:n$},r$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:oE(),captureMenuScroll:!oE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:OU(),formatGroupLabel:QU,getOptionLabel:hR,getOptionValue:fR,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:YU,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!r8(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function yE(t,e,n,r){var i=vR(t,e,n),s=yR(t,e,n),o=gR(t,e),a=Rh(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function hd(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return yE(t,o,e,a)}).filter(function(o){return bE(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=yE(t,n,e,r);return bE(t,s)?s:void 0}).filter(o8)}function mR(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,xo(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function _E(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,xo(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function i$(t,e){return mR(hd(t,e))}function bE(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!bR(t)||!s)&&_R(t,{label:o,value:a,data:i},r)}function s$(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function o$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var lm=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},gR=function(e,n){return e.getOptionLabel(n)},Rh=function(e,n){return e.getOptionValue(n)};function vR(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function yR(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Rh(t,e);return n.some(function(i){return Rh(t,i)===r})}function _R(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var bR=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},a$=1,I0=function(t){Tj(n,t);var e=xj(n);function n(r){var i;if(wj(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=KU(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var d=i.props,h=d.onChange,f=d.name;u.name=f,i.ariaOnChange(l,u),h(l,u)},i.setValue=function(l,u,d){var h=i.props,f=h.closeMenuOnSelect,m=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),f&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:d})},i.selectOption=function(l){var u=i.props,d=u.blurInputOnSelect,h=u.isMulti,f=u.name,m=i.state.selectValue,v=h&&i.isOptionSelected(l,m),E=i.isOptionDisabled(l,m);if(v){var _=i.getOptionValue(l);i.setValue(m.filter(function(y){return i.getOptionValue(y)!==_}),"deselect-option",l)}else if(!E)h?i.setValue([].concat(xo(m),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:f});return}d&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),f=d.filter(function(v){return i.getOptionValue(v)!==h}),m=Ja(u,f,f[0]||null);i.onChange(m,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Ja(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,d=u[u.length-1],h=u.slice(0,u.length-1),f=Ja(l,h,h[0]||null);d&&i.onChange(f,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return lm(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return _E(hd(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return X9.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return gR(i.props,l)},i.getOptionValue=function(l){return Rh(i.props,l)},i.getStyles=function(l,u){var d=i.props.unstyled,h=ZU[l](u,d);h.boxSizing="border-box";var f=i.props.styles[l];return f?f(h,u):h},i.getClassNames=function(l,u){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return EU(i.props)},i.buildCategorizedOptions=function(){return hd(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mR(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:ae({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,d=u.isMulti,h=u.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&$f(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),f=Math.abs(d.clientY-i.initialTouchY),m=5;i.userIsDragging=h>m||f>m}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),d=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return bR(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,d=u.isMulti,h=u.backspaceRemovesValue,f=u.escapeClearsValue,m=u.inputValue,v=u.isClearable,E=u.isDisabled,_=u.menuIsOpen,y=u.onKeyDown,w=u.tabSelectsValue,x=u.openMenuOnFocus,C=i.state,D=C.focusedOption,M=C.focusedValue,I=C.selectValue;if(!E&&!(typeof y=="function"&&(y(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||m)return;i.focusValue("previous");break;case"ArrowRight":if(!d||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(M)i.removeValue(M);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!_||!w||!D||x&&i.isOptionSelected(D,I))return;i.selectOption(D);break;case"Enter":if(l.keyCode===229)break;if(_){if(!D||i.isComposing)return;i.selectOption(D);break}return;case"Escape":_?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):v&&f&&i.clearValue();break;case" ":if(m)return;if(!_){i.openMenu("first");break}if(!D)return;i.selectOption(D);break;case"ArrowUp":_?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":_?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!_)return;i.focusOption("pageup");break;case"PageDown":if(!_)return;i.focusOption("pagedown");break;case"Home":if(!_)return;i.focusOption("first");break;case"End":if(!_)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++a$),i.state.selectValue=xh(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=lm(s,o[a])}return i}return Ej(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&sE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(sE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(o);o||(u=-1),i==="up"?l=u>0?u-1:a.length-1:i==="down"?l=(u+1)%a.length:i==="pageup"?(l=u-s,l<0&&(l=0)):i==="pagedown"?(l=u+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(am):ae(ae({},am),this.props.theme):am}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,h=this.props,f=h.isMulti,m=h.isRtl,v=h.options,E=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:E,isMulti:f,isRtl:m,options:v,selectOption:u,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return vR(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return yR(this.props,i,s)}},{key:"filterOption",value:function(i,s){return _R(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,u=i.tabIndex,d=i.form,h=i.menuIsOpen,f=i.required,m=this.getComponents(),v=m.Input,E=this.state,_=E.inputIsHidden,y=E.ariaSelection,w=this.commonProps,x=a||this.getElementId("input"),C=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?N.createElement(v,ue({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:_,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},C)):N.createElement(MU,ue({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sh,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,h=s.Placeholder,f=this.commonProps,m=this.props,v=m.controlShouldRenderValue,E=m.isDisabled,_=m.isMulti,y=m.inputValue,w=m.placeholder,x=this.state,C=x.selectValue,D=x.focusedValue,M=x.isFocused;if(!this.hasValue()||!v)return y?null:N.createElement(h,ue({},f,{key:"placeholder",isDisabled:E,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),w);if(_)return C.map(function(b,P){var A=b===D,k="".concat(i.getOptionLabel(b),"-").concat(i.getOptionValue(b));return N.createElement(o,ue({},f,{components:{Container:a,Label:l,Remove:u},isFocused:A,isDisabled:E,key:k,index:P,removeProps:{onClick:function(){return i.removeValue(b)},onTouchEnd:function(){return i.removeValue(b)},onMouseDown:function(S){S.preventDefault()}},data:b}),i.formatOptionLabel(b,"value"))});if(y)return null;var I=C[0];return N.createElement(d,ue({},f,{data:I,isDisabled:E}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,d=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return N.createElement(o,ue({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(s,ue({},o,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,v=this.commonProps,E=this.state.focusedOption,_=this.props,y=_.captureMenuScroll,w=_.inputValue,x=_.isLoading,C=_.loadingMessage,D=_.minMenuHeight,M=_.maxMenuHeight,I=_.menuIsOpen,b=_.menuPlacement,P=_.menuPosition,A=_.menuPortalTarget,k=_.menuShouldBlockScroll,O=_.menuShouldScrollIntoView,S=_.noOptionsMessage,V=_.onMenuScrollToTop,$=_.onMenuScrollToBottom;if(!I)return null;var Y=function(ie,we){var fe=ie.type,Se=ie.data,$e=ie.isDisabled,Tt=ie.isSelected,Ln=ie.label,er=ie.value,Zr=E===Se,ht=$e?void 0:function(){return i.onOptionHover(Se)},Vn=$e?void 0:function(){return i.selectOption(Se)},Bs="".concat(i.getElementId("option"),"-").concat(we),ca={id:Bs,onClick:Vn,onMouseMove:ht,onMouseOver:ht,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Tt};return N.createElement(m,ue({},v,{innerProps:ca,data:Se,isDisabled:$e,isSelected:Tt,key:Bs,label:Ln,type:fe,value:er,isFocused:Zr,innerRef:Zr?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(ie.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var ie=X.data,we=X.options,fe=X.index,Se="".concat(i.getElementId("group"),"-").concat(fe),$e="".concat(Se,"-heading");return N.createElement(o,ue({},v,{key:Se,data:ie,options:we,Heading:a,headingProps:{id:$e,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Tt){return Y(Tt,"".concat(fe,"-").concat(Tt.index))}))}else if(X.type==="option")return Y(X,"".concat(X.index))});else if(x){var F=C({inputValue:w});if(F===null)return null;U=N.createElement(h,v,F)}else{var W=S({inputValue:w});if(W===null)return null;U=N.createElement(f,v,W)}var z={minMenuHeight:D,maxMenuHeight:M,menuPlacement:b,menuPosition:P,menuShouldScrollIntoView:O},Z=N.createElement(p8,ue({},v,z),function(X){var ie=X.ref,we=X.placerProps,fe=we.placement,Se=we.maxHeight;return N.createElement(l,ue({},v,z,{innerRef:ie,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:fe}),N.createElement($U,{captureEnabled:y,onTopArrive:V,onBottomArrive:$,lockEnabled:k},function($e){return N.createElement(u,ue({},v,{innerRef:function(Ln){i.getMenuListRef(Ln),$e(Ln)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:Se,focusedOption:E}),U)}))});return A||P==="fixed"?N.createElement(d,ue({},v,{appendTo:A,controlElement:this.controlRef,menuPlacement:b,menuPosition:P}),Z):Z}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!a)return N.createElement(HU,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(o){var f=h.map(function(E){return i.getOptionValue(E)}).join(o);return N.createElement("input",{name:u,type:"hidden",value:f})}else{var m=h.length>0?h.map(function(E,_){return N.createElement("input",{key:"i-".concat(_),name:u,type:"hidden",value:i.getOptionValue(E)})}):N.createElement("input",{name:u,type:"hidden",value:""});return N.createElement("div",null,m)}else{var v=h[0]?this.getOptionValue(h[0]):"";return N.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,h=this.getFocusableOptions();return N.createElement(PU,ue({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,u=this.props,d=u.className,h=u.id,f=u.isDisabled,m=u.menuIsOpen,v=this.state.isFocused,E=this.commonProps=this.getCommonProps();return N.createElement(a,ue({},E,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),N.createElement(s,ue({},E,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:m}),N.createElement(l,ue({},E,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(o,ue({},E,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,m=i.options,v=i.value,E=i.menuIsOpen,_=i.inputValue,y=i.isMulti,w=xh(v),x={};if(o&&(v!==o.value||m!==o.options||E!==o.menuIsOpen||_!==o.inputValue)){var C=E?i$(i,w):[],D=E?_E(hd(i,w),"".concat(f,"-option")):[],M=a?s$(s,w):null,I=o$(s,C),b=lm(D,I);x={selectValue:w,focusedOption:I,focusedOptionId:b,focusableOptionsWithIds:D,focusedValue:M,clearFocusValueOnUpdate:!1}}var P=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,k=d&&h;return d&&!k&&(A={value:Ja(y,w,w[0]||null),options:w,action:"initial-input-focus"},k=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(A=null),ae(ae(ae({},x),P),{},{prevProps:i,ariaSelection:A,prevWasFocused:k})}}]),n}(N.Component);I0.defaultProps=r$;var l$=N.forwardRef(function(t,e){var n=A2(t);return N.createElement(I0,ue({ref:e},n))}),wR=l$,u$=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],wE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return s===i||o===i},um={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,i){return!(!e||n.some(function(s){return wE(e,s,i)})||r.some(function(s){return wE(e,s,i)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function c$(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,i=r===void 0?"last":r,s=t.formatCreateLabel,o=s===void 0?um.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?um.isValidNewOption:a,u=t.getNewOptionData,d=u===void 0?um.getNewOptionData:u,h=t.onCreateOption,f=t.options,m=f===void 0?[]:f,v=t.onChange,E=wr(t,u$),_=E.getOptionValue,y=_===void 0?fR:_,w=E.getOptionLabel,x=w===void 0?hR:w,C=E.inputValue,D=E.isLoading,M=E.isMulti,I=E.value,b=E.name,P=N.useMemo(function(){return l(C,xh(I),m,{getOptionValue:y,getOptionLabel:x})?d(C,o(C)):void 0},[o,d,x,y,C,l,m,I]),A=N.useMemo(function(){return(n||!D)&&P?i==="first"?[P].concat(xo(m)):[].concat(xo(m),[P]):m},[n,i,D,P,m]),k=N.useCallback(function(O,S){if(S.action!=="select-option")return v(O,S);var V=Array.isArray(O)?O:[O];if(V[V.length-1]===P){if(h)h(C);else{var $=d(C,C),Y={action:"create-option",name:b,option:$};v(Ja(M,[].concat(xo(xh(I)),[$]),$),Y)}return}v(O,S)},[d,C,M,b,P,h,v,I]);return ae(ae({},E),{},{options:A,onChange:k})}var d$=N.forwardRef(function(t,e){var n=A2(t),r=c$(n);return N.createElement(I0,ue({ref:e},r))}),ER=d$;const h$=({task:t,contacts:e,categories:n,onClose:r,onUpdate:i})=>{const[s,o]=N.useState(t.title),[a,l]=N.useState(t.description),[u,d]=N.useState(t.priority||"Normal"),[h,f]=N.useState([]),[m,v]=N.useState(t.category),[E,_]=N.useState(n),[y,w]=N.useState(t.dueDate instanceof Date?t.dueDate.toISOString().substr(0,10):t.dueDate.toDate().toISOString().substr(0,10)),[x,C]=N.useState(""),[D,M]=N.useState(t.subtask||[]),[I,b]=N.useState(t.status),[P,A]=N.useState("");N.useContext(Xi),N.useEffect(()=>{const U=e.filter(F=>t.assignedTo.includes(F.id||""));f(U)},[e,t.assignedTo]);const k=U=>{const F=U.trim();F&&!E.includes(F)&&_(W=>[...W,F]),v(F)},O=async U=>{if(U.preventDefault(),A(""),s.trim()===""||a.trim()===""||h.length===0||m.trim()===""||y.trim()===""){A("Title, Description, Assigned To, Category, and Due Date are required.");return}const F={...t,title:s,description:a,priority:u,assignedTo:h.map(W=>W.id),category:m,dueDate:Qe.fromDate(new Date(y)),subtask:D,status:I};try{const W=Cr(_t,"tasks",t.id);await s0(W,{title:F.title,description:F.description,priority:F.priority,assignedTo:F.assignedTo,category:F.category,dueDate:F.dueDate,subtask:F.subtask,status:F.status}),i(F),r()}catch(W){console.error("Error updating task:",W),A("Failed to update task. Please try again.")}},S=()=>{if(x.trim()!==""){const U={description:x.trim(),status:"not done"};M([...D,U]),C("")}},V=U=>{const F=D.filter((W,z)=>z!==U);M(F)},$=U=>{const F=[...D];F[U].status=F[U].status==="done"?"not done":"done",M(F)},Y=(U,F)=>{const W=[...D];W[U].description=F,M(W)};return T.jsxs("form",{onSubmit:O,className:"bg-white p-8 rounded-lg","aria-labelledby":"edit-task-heading",children:[T.jsxs("h2",{id:"edit-task-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:[T.jsx(uu,{className:"mr-3 text-blue-700 text-4xl","aria-hidden":"true"}),"Edit Task"]}),P&&T.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert",children:P}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-title",className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),T.jsxs("div",{className:"relative",children:[T.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"edit-title",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:U=>o(U.target.value),placeholder:"Task Title","aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-description",className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),T.jsxs("div",{className:"relative",children:[T.jsx(qg,{className:"absolute left-3 top-3 text-gray-400","aria-hidden":"true"}),T.jsx("textarea",{id:"edit-description",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500  resize-none",value:a,onChange:U=>l(U.target.value),placeholder:"Task Description",rows:4,"aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-assignedTo",className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),T.jsxs("div",{className:"relative",children:[T.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("div",{className:"pl-12",children:T.jsx("div",{onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),children:T.jsx(wR,{id:"edit-assignedTo",isMulti:!0,options:e.map(U=>({value:U.id,label:`${U.name}`})),className:"react-select-container",classNamePrefix:"react-select",value:h.map(U=>({value:U.id,label:`${U.name}`})),onChange:U=>{f(U.map(F=>e.find(z=>z.id===F.value)))},placeholder:"Select Contacts","aria-label":"Select Contacts to Assign"})})})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-category",className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),T.jsxs("div",{className:"relative",children:[T.jsx(p2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("div",{className:"pl-12",children:T.jsx("div",{onClick:U=>U.stopPropagation(),onMouseDown:U=>U.stopPropagation(),children:T.jsx(ER,{id:"edit-category",isClearable:!0,options:E.map(U=>({value:U,label:U})),value:m?{value:m,label:m}:null,onChange:U=>{v(U?U.value:"")},onCreateOption:k,placeholder:"Enter or select a category","aria-label":"Select or Create Category"})})})]})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-dueDate",className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),T.jsxs("div",{className:"relative",children:[T.jsx(h2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"edit-dueDate",type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:U=>w(U.target.value),"aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-subtaskInput",className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),T.jsxs("div",{className:"flex",children:[T.jsxs("div",{className:"relative w-full",children:[T.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"edit-subtaskInput",type:"text",className:"w-full pl-10 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:U=>C(U.target.value),placeholder:"Enter a subtask","aria-label":"Subtask Description"})]}),T.jsx("button",{type:"button",onClick:S,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200","aria-label":"Add Subtask",children:"Add"})]}),D.length>0&&T.jsx("ul",{className:"mt-4",children:D.map((U,F)=>T.jsxs("li",{className:"flex items-center justify-center md:justify-between bg-gray-200 p-3  rounded-lg mt-2 w-fit md:w-auto",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",className:" mr-2",checked:U.status==="done",onChange:()=>$(F),"aria-label":`Mark subtask ${F+1} as ${U.status==="done"?"not done":"done"}`}),T.jsx("input",{type:"text",className:`flex-1 bg-transparent border-none focus:outline-none  ${U.status==="done"?"line-through text-gray-500":""}`,value:U.description,onChange:W=>Y(F,W.target.value),"aria-label":`Subtask ${F+1} Description`})]}),T.jsx("button",{type:"button",onClick:()=>V(F),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":`Remove subtask ${F+1}`,children:T.jsx(l0,{"aria-hidden":"true"})})]},F))})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-priority",className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),T.jsxs("div",{className:"relative",children:[T.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsxs("select",{id:"edit-priority",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:U=>d(U.target.value),"aria-label":"Select Task Priority","aria-required":"true",children:[T.jsx("option",{value:"Low",children:"Low"}),T.jsx("option",{value:"Normal",children:"Normal"}),T.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"edit-status",className:"block text-gray-700 text-lg font-medium mb-2",children:"Status"}),T.jsxs("div",{className:"relative",children:[T.jsx(qg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsxs("select",{id:"edit-status",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:I,onChange:U=>b(U.target.value),"aria-label":"Select Task Status","aria-required":"true",children:[T.jsx("option",{value:"To do",children:"To do"}),T.jsx("option",{value:"In progress",children:"In progress"}),T.jsx("option",{value:"Awaiting Feedback",children:"Awaiting Feedback"}),T.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})]}),T.jsx("div",{className:"flex justify-center mt-6",children:T.jsxs("button",{type:"submit",className:"w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold flex items-center justify-center","aria-label":"Update Task",children:[T.jsx(uu,{className:"mr-2","aria-hidden":"true"}),"Update Task"]})})]})};function f$(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},child:[]},{tag:"path",attr:{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},child:[]}]})(t)}function EE(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},child:[]},{tag:"path",attr:{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},child:[]}]})(t)}function p$(t){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},child:[]},{tag:"path",attr:{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},child:[]}]})(t)}function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var m$=typeof Symbol=="function"&&Symbol.observable||"@@observable",TE=m$,cm=()=>Math.random().toString(36).substring(7).split("").join("."),g$={INIT:`@@redux/INIT${cm()}`,REPLACE:`@@redux/REPLACE${cm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cm()}`},IE=g$;function v$(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function TR(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(TR)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((_,y)=>{o.set(y,_)}))}function d(){if(l)throw new Error(Xt(3));return i}function h(_){if(typeof _!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let y=!0;u();const w=a++;return o.set(w,_),function(){if(y){if(l)throw new Error(Xt(6));y=!1,u(),o.delete(w),s=null}}}function f(_){if(!v$(_))throw new Error(Xt(7));if(typeof _.type>"u")throw new Error(Xt(8));if(typeof _.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(w=>{w()}),_}function m(_){if(typeof _!="function")throw new Error(Xt(10));r=_,f({type:IE.REPLACE})}function v(){const _=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Xt(11));function w(){const C=y;C.next&&C.next(d())}return w(),{unsubscribe:_(w)}},[TE](){return this}}}return f({type:IE.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[TE]:v}}function SE(t,e){return function(...n){return e(t.apply(this,n))}}function xE(t,e){if(typeof t=="function")return SE(t,e);if(typeof t!="object"||t===null)throw new Error(Xt(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=SE(i,e))}return n}function IR(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function y$(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Xt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=IR(...a)(i.dispatch),{...i,dispatch:s}}}var _$={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=N;function b$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var w$=typeof Object.is=="function"?Object.is:b$,E$=Hu.useSyncExternalStore,T$=Hu.useRef,I$=Hu.useEffect,S$=Hu.useMemo,x$=Hu.useDebugValue;_$.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=T$(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=S$(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,w$(d,m))return v;var E=r(m);return i!==void 0&&i(v,E)?v:(d=m,h=E)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=E$(t,s[0],s[1]);return I$(function(){o.hasValue=!0,o.value=a},[a]),x$(a),a};var De="default"in _l?Me:_l,CE=Symbol.for("react-redux-context"),RE=typeof globalThis<"u"?globalThis:{};function C$(){if(!De.createContext)return{};const t=RE[CE]??(RE[CE]=new Map);let e=t.get(De.createContext);return e||(e=De.createContext(null),t.set(De.createContext,e)),e}var SR=C$(),R$=()=>{throw new Error("uSES not initialized!")},P$=Symbol.for("react.element"),A$=Symbol.for("react.portal"),k$=Symbol.for("react.fragment"),N$=Symbol.for("react.strict_mode"),O$=Symbol.for("react.profiler"),D$=Symbol.for("react.provider"),M$=Symbol.for("react.context"),L$=Symbol.for("react.server_context"),xR=Symbol.for("react.forward_ref"),V$=Symbol.for("react.suspense"),F$=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),j$=Symbol.for("react.lazy"),U$=xR,$$=S0;function B$(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case P$:{const n=t.type;switch(n){case k$:case O$:case N$:case V$:case F$:return n;default:{const r=n&&n.$$typeof;switch(r){case L$:case M$:case xR:case j$:case S0:case D$:return r;default:return e}}}}case A$:return e}}}function z$(t){return B$(t)===S0}function H$(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,d,h,f;function m(w,x){return l=w,u=x,d=t(l,u),h=e(r,u),f=n(d,h,u),a=!0,f}function v(){return d=t(l,u),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function E(){return t.dependsOnOwnProps&&(d=t(l,u)),e.dependsOnOwnProps&&(h=e(r,u)),f=n(d,h,u),f}function _(){const w=t(l,u),x=!o(w,d);return d=w,x&&(f=n(d,h,u)),f}function y(w,x){const C=!s(x,u),D=!i(w,l,x,u);return l=w,u=x,C&&D?v():C?E():D?_():f}return function(x,C){return a?y(x,C):m(x,C)}}function W$(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=e(t,i),o=n(t,i),a=r(t,i);return H$(s,o,a,t,i)}function G$(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...s)=>e(i(...s)))}return n}function iv(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function PE(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function CR(t,e){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=PE(t);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=PE(u),u=s(a,l)),u},s}}function x0(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function q$(t){return t&&typeof t=="object"?iv(e=>G$(t,e)):t?typeof t=="function"?CR(t):x0(t,"mapDispatchToProps"):iv(e=>({dispatch:e}))}function K$(t){return t?typeof t=="function"?CR(t):x0(t,"mapStateToProps"):iv(()=>({}))}function Q$(t,e,n){return{...n,...t,...e}}function Y$(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,d){const h=t(l,u,d);return s?i(h,o)||(o=h):(s=!0,o=h),o}}}function Z$(t){return t?typeof t=="function"?Y$(t):x0(t,"mergeProps"):()=>Q$}function X$(t){t()}function J$(){let t=null,e=null;return{clear(){t=null,e=null},notify(){X$(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var AE={notify(){},get:()=>[]};function RR(t,e){let n,r=AE,i=0,s=!1;function o(E){d();const _=r.subscribe(E);let y=!1;return()=>{y||(y=!0,_(),h())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=J$())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=AE)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return v}var eB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tB=typeof navigator<"u"&&navigator.product==="ReactNative",Ph=eB||tB?De.useLayoutEffect:De.useEffect;function kE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function dm(t,e){if(kE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!kE(t[n[i]],e[n[i]]))return!1;return!0}var nB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},PR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sB={[U$]:iB,[$$]:PR};function NE(t){return z$(t)?PR:sB[t.$$typeof]||nB}var oB=Object.defineProperty,aB=Object.getOwnPropertyNames,OE=Object.getOwnPropertySymbols,lB=Object.getOwnPropertyDescriptor,uB=Object.getPrototypeOf,DE=Object.prototype;function sv(t,e){if(typeof e!="string"){if(DE){const s=uB(e);s&&s!==DE&&sv(t,s)}let n=aB(e);OE&&(n=n.concat(OE(e)));const r=NE(t),i=NE(e);for(let s=0;s<n.length;++s){const o=n[s];if(!rB[o]&&!(i&&i[o])&&!(r&&r[o])){const a=lB(e,o);try{oB(t,o,a)}catch{}}}}return t}var AR=R$,cB=t=>{AR=t},dB=[null,null];function hB(t,e,n){Ph(()=>t(...e),n)}function fB(t,e,n,r,i,s){t.current=r,n.current=!1,i.current&&(i.current=null,s())}function pB(t,e,n,r,i,s,o,a,l,u,d){if(!t)return()=>{};let h=!1,f=null;const m=()=>{if(h||!a.current)return;const E=e.getState();let _,y;try{_=r(E,i.current)}catch(w){y=w,f=w}y||(f=null),_===s.current?o.current||u():(s.current=_,l.current=_,o.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function mB(t,e){return t===e}function gB(t,e,n,{pure:r,areStatesEqual:i=mB,areOwnPropsEqual:s=dm,areStatePropsEqual:o=dm,areMergedPropsEqual:a=dm,forwardRef:l=!1,context:u=SR}={}){const d=u,h=K$(t),f=q$(e),m=Z$(n),v=!!t;return _=>{const y=_.displayName||_.name||"Component",w=`Connect(${y})`,x={shouldHandleStateChanges:v,displayName:w,wrappedComponentName:y,WrappedComponent:_,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function C(I){const[b,P,A]=De.useMemo(()=>{const{reactReduxForwardedRef:ht,...Vn}=I;return[I.context,ht,Vn]},[I]),k=De.useMemo(()=>{let ht=d;return b!=null&&b.Consumer,ht},[b,d]),O=De.useContext(k),S=!!I.store&&!!I.store.getState&&!!I.store.dispatch,V=!!O&&!!O.store,$=S?I.store:O.store,Y=V?O.getServerState:$.getState,U=De.useMemo(()=>W$($.dispatch,x),[$]),[F,W]=De.useMemo(()=>{if(!v)return dB;const ht=RR($,S?void 0:O.subscription),Vn=ht.notifyNestedSubs.bind(ht);return[ht,Vn]},[$,S,O]),z=De.useMemo(()=>S?O:{...O,subscription:F},[S,O,F]),Z=De.useRef(void 0),X=De.useRef(A),ie=De.useRef(void 0),we=De.useRef(!1),fe=De.useRef(!1),Se=De.useRef(void 0);Ph(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const $e=De.useMemo(()=>()=>ie.current&&A===X.current?ie.current:U($.getState(),A),[$,A]),Tt=De.useMemo(()=>Vn=>F?pB(v,$,F,U,X,Z,we,fe,ie,W,Vn):()=>{},[F]);hB(fB,[X,Z,we,A,ie,W]);let Ln;try{Ln=AR(Tt,$e,Y?()=>U(Y(),A):$e)}catch(ht){throw Se.current&&(ht.message+=`
The error may be correlated with this previous error:
${Se.current.stack}

`),ht}Ph(()=>{Se.current=void 0,ie.current=void 0,Z.current=Ln});const er=De.useMemo(()=>De.createElement(_,{...Ln,ref:P}),[P,_,Ln]);return De.useMemo(()=>v?De.createElement(k.Provider,{value:z},er):er,[k,er,z])}const M=De.memo(C);if(M.WrappedComponent=_,M.displayName=C.displayName=w,l){const b=De.forwardRef(function(A,k){return De.createElement(M,{...A,reactReduxForwardedRef:k})});return b.displayName=w,b.WrappedComponent=_,sv(b,_)}return sv(M,_)}}var kR=gB;function vB({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=De.useMemo(()=>{const u=RR(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=De.useMemo(()=>t.getState(),[t]);Ph(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||SR;return De.createElement(l.Provider,{value:o},n)}var yB=vB;cB(N.useSyncExternalStore);function _B(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function NR(t,e){var n=N.useState(function(){return{inputs:e,result:t()}})[0],r=N.useRef(!0),i=N.useRef(n),s=r.current||!!(e&&i.current.inputs&&_B(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return N.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function bB(t,e){return NR(function(){return t},e)}var Re=NR,oe=bB,wB="Invariant failed";function EB(t,e){throw new Error(wB)}var Wn=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},C0=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},ME=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},TB=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},hm={top:0,right:0,bottom:0,left:0},R0=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?hm:r,s=e.border,o=s===void 0?hm:s,a=e.padding,l=a===void 0?hm:a,u=Wn(C0(n,i)),d=Wn(ME(n,o)),h=Wn(ME(d,l));return{marginBox:u,borderBox:Wn(n),paddingBox:d,contentBox:h,margin:i,border:o,padding:l}},Cn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&EB(),i},IB=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ah=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=TB(r,n);return R0({borderBox:a,border:i,margin:s,padding:o})},kh=function(e,n){return n===void 0&&(n=IB()),Ah(e,n)},OR=function(e,n){var r={top:Cn(n.marginTop),right:Cn(n.marginRight),bottom:Cn(n.marginBottom),left:Cn(n.marginLeft)},i={top:Cn(n.paddingTop),right:Cn(n.paddingRight),bottom:Cn(n.paddingBottom),left:Cn(n.paddingLeft)},s={top:Cn(n.borderTopWidth),right:Cn(n.borderRightWidth),bottom:Cn(n.borderBottomWidth),left:Cn(n.borderLeftWidth)};return R0({borderBox:e,margin:r,padding:i,border:s})},DR=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return OR(n,r)},fu=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function MR(t,e){}MR.bind(null,"warn");MR.bind(null,"error");function ki(){}function SB(t,e){return{...t,...e}}function kn(t,e,n){const r=e.map(i=>{const s=SB(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const xB="Invariant failed";class Nh extends Error{}Nh.prototype.toString=function(){return this.message};function K(t,e){throw new Nh(xB)}class CB extends Me.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ki,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Nh&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=kn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Nh){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const RB=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Oh=t=>t+1,PB=t=>`
  You have lifted an item in position ${Oh(t.source.index)}
`,LR=(t,e)=>{const n=t.droppableId===e.droppableId,r=Oh(t.index),i=Oh(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},VR=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,AB=t=>{const e=t.destination;if(e)return LR(t.source,e);const n=t.combine;return n?VR(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},LE=t=>`
  The item has returned to its starting position
  of ${Oh(t.index)}
`,kB=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${LE(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${LR(t.source,e)}
    `:n?`
      You have dropped the item.
      ${VR(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${LE(t.source)}
  `},fd={dragHandleUsageInstructions:RB,onDragStart:PB,onDragUpdate:AB,onDragEnd:kB},wt={x:0,y:0},Pt=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),yn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Ni=(t,e)=>t.x===e.x&&t.y===e.y,aa=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ms=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},pu=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),VE=(t,e)=>Math.min(...e.map(n=>pu(t,n))),FR=t=>e=>({x:t(e.x),y:t(e.y)});var NB=(t,e)=>{const n=Wn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Wu=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),FE=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],OB={top:0,right:0,bottom:0,left:0},DB=(t,e)=>e?Wu(t,e.scroll.diff.displacement):t,MB=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,LB=(t,e)=>e&&e.shouldClipSubject?NB(e.pageMarginBox,t):Wn(t);var Ko=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=DB(t.marginBox,r),s=MB(i,n,e),o=LB(s,r);return{page:t,withPlaceholder:e,active:o}},P0=(t,e)=>{t.frame||K();const n=t.frame,r=yn(e,n.scroll.initial),i=aa(r),s={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},o=Ko({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s});return{...t,frame:s,subject:o}};const jR=gt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),UR=gt(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),Bf=gt(t=>Object.values(t)),VB=gt(t=>Object.values(t));var la=gt((t,e)=>VB(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function A0(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function zf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Hf=gt((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),FB=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!A0(i))return null;function o(m){const v={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:v}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?o(l):null;const u=Hf(e,r);if(!l){if(!u.length)return null;const m=u[u.length-1];return o(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===l);d===-1&&K();const h=d-1;if(h<0)return null;const f=u[h];return o(f.descriptor.id)},ua=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const $R={point:wt,value:0},mu={invisible:{},visible:{},all:[]},jB={displaced:mu,displacedBy:$R,at:null};var On=(t,e)=>n=>t<=n&&n<=e,BR=t=>{const e=On(t.top,t.bottom),n=On(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return l&&u?!0:l&&o||u&&s}},UB=t=>{const e=On(t.top,t.bottom),n=On(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const k0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},zR={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var $B=t=>e=>{const n=On(e.top,e.bottom),r=On(e.left,e.right);return i=>t===k0?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const BB=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:wt;return Wu(t,n)},zB=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,HB=(t,e,n)=>n(e)(t),N0=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?BB(t,e):t;return zB(s,e,i)&&HB(s,n,i)},WB=t=>N0({...t,isVisibleThroughFrameFn:BR}),HR=t=>N0({...t,isVisibleThroughFrameFn:UB}),GB=t=>N0({...t,isVisibleThroughFrameFn:$B(t.destination.axis)}),qB=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const s=i[t];return s?s.shouldAnimate:!0};function KB(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Wn(C0(n,r))}function gu({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return t.reduce(function(a,l){const u=KB(l,n),d=l.descriptor.id;if(a.all.push(d),!WB({target:u,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=qB(d,s,i),m={draggableId:d,shouldAnimate:f};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function QB(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function jE({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=QB(t,{inHomeList:e});return{displaced:mu,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Dh({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=ua(t,n);if(o==null)return jE({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=e.find(v=>v.descriptor.index===o);if(!u)return jE({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const d=Hf(t,e),h=e.indexOf(u),f=d.slice(h);return{displaced:gu({afterDragging:f,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Hi(t,e){return!!e.effected[t]}var YB=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Hi(s,i)?t?a:a-1:t?a+1:a},ZB=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return s<o||s>l?null:s},XB=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const u=o.at;if(u||K(),u.type==="REORDER"){const h=ZB({isMovingForward:t,isInHomeList:e,location:u.destination,insideDestination:s});return h==null?null:Dh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const d=YB({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:l});return d==null?null:Dh({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})},JB=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Hi(n,e)?i?wt:aa(r.point):i?r.point:wt},e7=({afterCritical:t,impact:e,draggables:n})=>{const r=zf(e);r||K();const i=r.draggableId,s=n[i].page.borderBox.center,o=JB({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Pt(s,o)};const WR=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,t7=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,O0=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,UE=({axis:t,moveRelativeTo:e,isMoving:n})=>Ms(t.line,e.marginBox[t.end]+WR(t,n),O0(t,e.marginBox,n)),$E=({axis:t,moveRelativeTo:e,isMoving:n})=>Ms(t.line,e.marginBox[t.start]-t7(t,n),O0(t,e.marginBox,n)),n7=({axis:t,moveInto:e,isMoving:n})=>Ms(t.line,e.contentBox[t.start]+WR(t,n),O0(t,e.contentBox,n));var r7=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const s=la(r.descriptor.id,n),o=e.page,a=r.axis;if(!s.length)return n7({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:u}=t,d=l.all[0];if(d){const f=n[d];if(Hi(d,i))return $E({axis:a,moveRelativeTo:f.page,isMoving:o});const m=Ah(f.page,u.point);return $E({axis:a,moveRelativeTo:m,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Hi(h.descriptor.id,i)){const f=Ah(h.page,aa(i.displacedBy.point));return UE({axis:a,moveRelativeTo:f,isMoving:o})}return UE({axis:a,moveRelativeTo:h.page,isMoving:o})},ov=(t,e)=>{const n=t.frame;return n?Pt(e,n.scroll.diff.displacement):e};const i7=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=t.at;return!n||!o?s:o.type==="REORDER"?r7({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):e7({impact:t,draggables:r,afterCritical:i})};var Wf=t=>{const e=i7(t),n=t.droppable;return n?ov(n,e):e},GR=(t,e)=>{const n=yn(e,t.scroll.initial),r=aa(n);return{frame:Wn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function BE(t,e){return t.map(n=>e[n])}function s7(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var o7=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const s=GR(e,Pt(e.scroll.current,i)),o=n.frame?P0(n,Pt(n.frame.scroll.current,i)):n,a=t.displaced,l=gu({afterDragging:BE(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),u=gu({afterDragging:BE(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},h={},f=[a,l,u];return a.all.forEach(v=>{const E=s7(v,f);if(E){h[v]=E;return}d[v]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:h}}},a7=(t,e)=>Pt(t.scroll.diff.displacement,e),D0=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=a7(n,t),i=yn(r,e.page.borderBox.center);return Pt(e.client.borderBox.center,i)},qR=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=yn(n,t.page.borderBox.center),l={target:Wu(t.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?GB(l):HR(l)},l7=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=la(n.descriptor.id,r),d=ua(e,n),h=FB({isMovingForward:t,draggable:e,destination:n,insideDestination:u,previousImpact:i})||XB({isMovingForward:t,isInHomeList:d,draggable:e,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:l});if(!h)return null;const f=Wf({impact:h,draggable:e,droppable:n,draggables:r,afterCritical:l});if(qR({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:D0({pageBorderBoxCenter:f,draggable:e,viewport:s}),impact:h,scrollJumpRequest:null};const v=yn(f,o),E=o7({impact:h,viewport:s,destination:n,draggables:r,maxScrollChange:v});return{clientSelection:a,impact:E,scrollJumpRequest:v}};const Zt=t=>{const e=t.subject.active;return e||K(),e};var u7=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=On(s[o.start],s[o.end]),l=Bf(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>BR(i.frame)(Zt(d))).filter(d=>{const h=Zt(d);return t?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(d=>{const h=Zt(d),f=On(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||f(s[o.start])||f(s[o.end])}).sort((d,h)=>{const f=Zt(d)[o.crossAxisStart],m=Zt(h)[o.crossAxisStart];return t?f-m:m-f}).filter((d,h,f)=>Zt(d)[o.crossAxisStart]===Zt(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(d=>On(Zt(d)[o.start],Zt(d)[o.end])(e[o.line]));return u.length===1?u[0]:u.length>1?u.sort((d,h)=>Zt(d)[o.start]-Zt(h)[o.start])[0]:l.sort((d,h)=>{const f=VE(e,FE(Zt(d))),m=VE(e,FE(Zt(h)));return f!==m?f-m:Zt(d)[o.start]-Zt(h)[o.start]})[0]};const zE=(t,e)=>{const n=t.page.borderBox.center;return Hi(t.descriptor.id,e)?yn(n,e.displacedBy.point):n},c7=(t,e)=>{const n=t.page.borderBox;return Hi(t.descriptor.id,e)?Wu(n,aa(e.displacedBy.point)):n};var d7=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>HR({target:c7(o,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=pu(t,ov(n,zE(o,i))),u=pu(t,ov(n,zE(a,i)));return l<u?-1:u<l?1:o.descriptor.index-a.descriptor.index})[0]||null,Gu=gt(function(e,n){const r=n[e.line];return{value:r,point:Ms(e.line,r)}});const h7=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Ms(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=la(t.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:Ms(r.line,l)},KR=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),QR=(t,e,n)=>{const r=t.frame;ua(e,t)&&K(),t.subject.withPlaceholder&&K();const i=Gu(t.axis,e.displaceBy).point,s=h7(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=Ko({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=s?Pt(r.scroll.max,s):r.scroll.max,l=KR(r,a),u=Ko({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:l});return{...t,subject:u,frame:l}},f7=t=>{const e=t.subject.withPlaceholder;e||K();const n=t.frame;if(!n){const o=Ko({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:o}}const r=e.oldFrameMaxScroll;r||K();const i=KR(n,r),s=Ko({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:s,frame:i}};var p7=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!e){if(n.length)return null;const h={displaced:mu,displacedBy:$R,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=Wf({impact:h,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=ua(r,s)?s:QR(s,r,i);return qR({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=t[s.axis.line]<=e.page.borderBox.center[s.axis.line],u=(()=>{const h=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?h:h+1})(),d=Gu(s.axis,r.displaceBy);return Dh({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:d,last:mu,index:u})},m7=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=u7({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!l)return null;const u=la(l.descriptor.id,i),d=d7({pageBorderBoxCenter:e,viewport:o,destination:l,insideDestination:u,afterCritical:a}),h=p7({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:a});if(!h)return null;const f=Wf({impact:h,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:D0({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},wn=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const g7=(t,e)=>{const n=wn(t);return n?e[n]:null};var v7=({state:t,type:e})=>{const n=g7(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return a?l7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):m7({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function us(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function YR(t){const e=On(t.top,t.bottom),n=On(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function y7(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function _7({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=Ms(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:pu(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function b7({pageBorderBox:t,draggable:e,droppables:n}){const r=Bf(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!y7(t,s))return!1;if(YR(s)(t.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=t[o.crossAxisStart],u=t[o.crossAxisEnd],d=On(s[o.crossAxisStart],s[o.crossAxisEnd]),h=d(l),f=d(u);return!h&&!f?!0:h?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:_7({pageBorderBox:t,draggable:e,candidates:r}):null}const ZR=(t,e)=>Wn(Wu(t,e));var w7=(t,e)=>{const n=t.frame;return n?ZR(e,n.scroll.diff.value):e};function XR({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function E7({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var T7=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=Gu(n.axis,e.displaceBy),u=l.value,d=t[a.start],h=t[a.end],m=Hf(e,r).find(E=>{const _=E.descriptor.id,y=E.page.borderBox.center[a.line],w=Hi(_,o),x=XR({displaced:i,id:_});return w?x?h<=y:d<y-u:x?h<=y+u:d<y})||null,v=E7({draggable:e,closest:m,inHomeList:ua(e,n)});return Dh({draggable:e,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:v})};const I7=4;var S7=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=Gu(r.axis,t.displaceBy),l=a.value,u=e[o.start],d=e[o.end],f=Hf(t,i).find(v=>{const E=v.descriptor.id,_=v.page.borderBox,w=_[o.size]/I7,x=Hi(E,s),C=XR({displaced:n.displaced,id:E});return x?C?d>_[o.start]+w&&d<_[o.end]-w:u>_[o.start]-l+w&&u<_[o.end]-l-w:C?d>_[o.start]+l+w&&d<_[o.end]+l-w:u>_[o.start]+w&&u<_[o.end]-w});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},JR=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=ZR(e.page.borderBox,t),l=b7({pageBorderBox:a,draggable:e,droppables:r});if(!l)return jB;const u=r[l],d=la(u.descriptor.id,n),h=w7(u,a);return S7({pageBorderBoxWithDroppableScroll:h,draggable:e,previousImpact:i,destination:u,insideDestination:d,afterCritical:o})||T7({pageBorderBoxWithDroppableScroll:h,draggable:e,destination:u,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},M0=(t,e)=>({...t,[e.descriptor.id]:e});const x7=({previousImpact:t,impact:e,droppables:n})=>{const r=wn(t),i=wn(e);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=f7(s);return M0(n,o)};var C7=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const s=x7({previousImpact:r,impact:i,droppables:n}),o=wn(i);if(!o)return s;const a=n[o];if(ua(t,a)||a.subject.withPlaceholder)return s;const l=QR(a,t,e);return M0(s,l)},vl=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,u=yn(l,t.initial.client.selection),d={offset:u,selection:l,borderBoxCenter:Pt(t.initial.client.borderBoxCenter,u)},h={selection:Pt(d.selection,o.scroll.current),borderBoxCenter:Pt(d.borderBoxCenter,o.scroll.current),offset:Pt(d.offset,o.scroll.diff.value)},f={client:d,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:o,current:f};const m=a.draggables[t.critical.draggable.id],v=i||JR({pageOffset:h.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),E=C7({draggable:m,impact:v,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:E},impact:v,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function R7(t,e){return t.map(n=>e[n])}var eP=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=t.displaced,o=R7(s.all,n),a=gu({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...t,displaced:a}},tP=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=Wf({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:s});return D0({pageBorderBoxCenter:o,draggable:e,viewport:i})},nP=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&K();const r=t.impact,i=n||t.viewport,s=e||t.dimensions,{draggables:o,droppables:a}=s,l=o[t.critical.draggable.id],u=wn(r);u||K();const d=a[u],h=eP({impact:r,viewport:i,destination:d,draggables:o}),f=tP({impact:h,draggable:l,droppable:d,draggables:o,viewport:i,afterCritical:t.afterCritical});return vl({impact:h,clientSelection:f,state:t,dimensions:s,viewport:i})},P7=t=>({index:t.index,droppableId:t.droppableId}),rP=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Gu(e.axis,t.displaceBy),s=la(e.descriptor.id,n),o=s.indexOf(t);o===-1&&K();const a=s.slice(o+1),l=a.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),u={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:gu({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:P7(t.descriptor)}},afterCritical:u}},A7=(t,e)=>({draggables:t.draggables,droppables:M0(t.droppables,e)}),k7=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Ah(t.client,e),i=kh(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},N7=t=>{const e=t.frame;return e||K(),e},O7=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const s=i.descriptor.droppableId,o=e[s],l=N7(o).scroll.diff.value,u=Pt(r,l);return k7({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},D7=({state:t,published:e})=>{const n=e.modified.map(y=>{const w=t.dimensions.droppables[y.droppableId];return P0(w,y.scroll)}),r={...t.dimensions.droppables,...jR(n)},i=UR(O7({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),s={...t.dimensions.draggables,...i};e.removals.forEach(y=>{delete s[y]});const o={droppables:r,draggables:s},a=wn(t.impact),l=a?o.droppables[a]:null,u=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=rP({draggable:u,home:d,draggables:s,viewport:t.viewport}),m=l&&l.isCombineEnabled?t.impact:h,v=JR({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:t.viewport,afterCritical:f}),E={...t,phase:"DRAGGING",impact:v,onLiftImpact:h,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?E:{...E,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const av=t=>t.movementMode==="SNAP",fm=(t,e,n)=>{const r=A7(t.dimensions,e);return!av(t)||n?vl({state:t,dimensions:r}):nP({state:t,dimensions:r})};function pm(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const HE={phase:"IDLE",completed:null,shouldFlush:!1};var M7=(t=HE,e)=>{if(e.type==="FLUSH")return{...HE,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&K();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:wt},d={client:u,page:{selection:Pt(u.selection,i.scroll.initial),borderBoxCenter:Pt(u.selection,i.scroll.initial),offset:Pt(u.selection,i.scroll.diff.value)}},h=Bf(s.droppables).every(E=>!E.isFixedOnPage),{impact:f,afterCritical:m}=rP({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:m,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&K(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||K(),D7({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;us(t)||K();const{client:n}=e.payload;return Ni(n,t.current.client.selection)?t:vl({state:t,clientSelection:n,impact:av(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return pm(t);us(t)||K();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const s=P0(i,r);return fm(t,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;us(t)||K();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||K(),i.isEnabled===r&&K();const s={...i,isEnabled:r};return fm(t,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;us(t)||K();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||K(),i.isCombineEnabled===r&&K();const s={...i,isCombineEnabled:r};return fm(t,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;us(t)||K(),t.isWindowScrollAllowed||K();const n=e.payload.newScroll;if(Ni(t.viewport.scroll.current,n))return pm(t);const r=GR(t.viewport,n);return av(t)?nP({state:t,viewport:r}):vl({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!us(t))return t;const n=e.payload.maxScroll;if(Ni(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&K();const n=v7({state:t,type:e.type});return n?vl({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&K(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||K(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Le(t,e){return t instanceof Object&&"type"in t&&t.type===e}const L7=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),V7=t=>({type:"LIFT",payload:t}),F7=t=>({type:"INITIAL_PUBLISH",payload:t}),j7=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),U7=()=>({type:"COLLECTION_STARTING",payload:null}),$7=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),B7=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),z7=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),iP=t=>({type:"MOVE",payload:t}),H7=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),W7=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),G7=()=>({type:"MOVE_UP",payload:null}),q7=()=>({type:"MOVE_DOWN",payload:null}),K7=()=>({type:"MOVE_RIGHT",payload:null}),Q7=()=>({type:"MOVE_LEFT",payload:null}),L0=()=>({type:"FLUSH",payload:null}),Y7=t=>({type:"DROP_ANIMATE",payload:t}),V0=t=>({type:"DROP_COMPLETE",payload:t}),sP=t=>({type:"DROP",payload:t}),Z7=t=>({type:"DROP_PENDING",payload:t}),oP=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var X7=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Le(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(V0({completed:l.completed})),e().phase!=="IDLE"&&K(),n(L0()),n(L7({draggableId:s,movementMode:a}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:f,viewport:m}=t.startPublishing(d);n(F7({critical:h,dimensions:f,clientSelection:o,movementMode:a,viewport:m}))},J7=t=>()=>e=>n=>{Le(n,"INITIAL_PUBLISH")&&t.dragging(),Le(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Le(n,"FLUSH")||Le(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const F0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vu={opacity:{drop:0,combining:.7},scale:{drop:.75}},aP={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},rs=`${aP.outOfTheWay}s ${F0.outOfTheWay}`,yl={fluid:`opacity ${rs}`,snap:`transform ${rs}, opacity ${rs}`,drop:t=>{const e=`${t}s ${F0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${rs}`,placeholder:`height ${rs}, width ${rs}, margin ${rs}`},WE=t=>Ni(t,wt)?void 0:`translate(${t.x}px, ${t.y}px)`,lv={moveTo:WE,drop:(t,e)=>{const n=WE(t);if(n)return e?`${n} scale(${vu.scale.drop})`:n}},{minDropTime:uv,maxDropTime:lP}=aP,ez=lP-uv,GE=1500,tz=.6;var nz=({current:t,destination:e,reason:n})=>{const r=pu(t,e);if(r<=0)return uv;if(r>=GE)return lP;const i=r/GE,s=uv+ez*i,o=n==="CANCEL"?s*tz:s;return Number(o.toFixed(2))},rz=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=wn(t),l=a?o[a]:null,u=o[e.descriptor.droppableId],d=tP({impact:t,draggable:e,draggables:s,afterCritical:i,droppable:l||u,viewport:r});return yn(d,e.client.borderBox.center)},iz=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||e!=="DROP"?{impact:eP({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:mu},didDropInsideDroppable:!0};const sz=({getState:t,dispatch:e})=>n=>r=>{if(!Le(r,"DROP")){n(r);return}const i=t(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(Z7({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&K(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||K();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=iz({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=h?A0(d):null,m=h?zf(d):null,v={index:a.draggable.index,droppableId:a.droppable.id},E={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:s,mode:i.movementMode,destination:f,combine:m},_=rz({impact:d,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:E,impact:d};if(!(!Ni(i.current.client.offset,_)||!!E.combine)){e(V0({completed:y}));return}const x=nz({current:i.current.client.offset,destination:_,reason:s});e(Y7({newHomeClientOffset:_,dropDuration:x,completed:y}))};var uP=()=>({x:window.pageXOffset,y:window.pageYOffset});function oz(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function az({onWindowScroll:t}){function e(){t(uP())}const n=fu(e),r=oz(n);let i=ki;function s(){return i!==ki}function o(){s()&&K(),i=kn(window,[r])}function a(){s()||K(),n.cancel(),i(),i=ki}return{start:o,stop:a,isActive:s}}const lz=t=>Le(t,"DROP_COMPLETE")||Le(t,"DROP_ANIMATE")||Le(t,"FLUSH"),uz=t=>{const e=az({onWindowScroll:n=>{t.dispatch(H7({newScroll:n}))}});return n=>r=>{!e.isActive()&&Le(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&lz(r)&&e.stop(),n(r)}};var cz=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=()=>e,i},dz=()=>{const t=[],e=i=>{const s=t.findIndex(a=>a.timerId===i);s===-1&&K();const[o]=t.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};t.push(o)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const hz=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,fz=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,pz=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},Va=(t,e)=>{e()},Fc=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function mm(t,e,n,r){if(!t){n(r(e));return}const i=cz(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var mz=(t,e)=>{const n=dz();let r=null;const i=(h,f)=>{r&&K(),Va("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:h,mode:f})})},s=(h,f)=>{r&&K(),Va("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(Fc(h,f))})},o=(h,f)=>{r&&K();const m=Fc(h,f);r={mode:f,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{Va("onDragStart",()=>mm(t().onDragStart,m,e,fd.onDragStart))})},a=(h,f)=>{const m=A0(f),v=zf(f);r||K();const E=!pz(h,r.lastCritical);E&&(r.lastCritical=h);const _=!hz(r.lastLocation,m);_&&(r.lastLocation=m);const y=!fz(r.lastCombine,v);if(y&&(r.lastCombine=v),!E&&!_&&!y)return;const w={...Fc(h,r.mode),combine:v,destination:m};n.add(()=>{Va("onDragUpdate",()=>mm(t().onDragUpdate,w,e,fd.onDragUpdate))})},l=()=>{r||K(),n.flush()},u=h=>{r||K(),r=null,Va("onDragEnd",()=>mm(t().onDragEnd,h,e,fd.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const h={...Fc(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},gz=(t,e)=>{const n=mz(t,e);return r=>i=>s=>{if(Le(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Le(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Le(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Le(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const vz=t=>e=>n=>{if(!Le(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&K(),t.dispatch(V0({completed:r.completed}))},yz=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>s=>{if((Le(s,"FLUSH")||Le(s,"DROP_COMPLETE")||Le(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Le(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(oP())}};n=requestAnimationFrame(()=>{n=null,e=kn(window,[o])})}};var _z=t=>()=>e=>n=>{(Le(n,"DROP_COMPLETE")||Le(n,"FLUSH")||Le(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},bz=t=>{let e=!1;return()=>n=>r=>{if(Le(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Le(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Le(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const wz=t=>Le(t,"DROP_COMPLETE")||Le(t,"DROP_ANIMATE")||Le(t,"FLUSH");var Ez=t=>e=>n=>r=>{if(wz(r)){t.stop(),n(r);return}if(Le(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&K(),t.start(i);return}n(r),t.scroll(e.getState())};const Tz=t=>e=>n=>{if(e(n),!Le(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(sP({reason:r.reason})))},Iz=IR;var Sz=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>TR(M7,Iz(y$(J7(n),_z(t),X7(t),sz,vz,yz,Tz,Ez(s),uz,bz(e),gz(r,i))));const gm=()=>({additions:{},removals:{},modified:{}});function xz({registry:t,callbacks:e}){let n=gm(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:d}=n,h=Object.keys(l).map(v=>t.draggable.getById(v).getDimension(wt)).sort((v,E)=>v.descriptor.index-E.descriptor.index),f=Object.keys(d).map(v=>{const _=t.droppable.getById(v).callbacks.getScrollWhileDragging();return{droppableId:v,scroll:_}}),m={additions:h,removals:Object.keys(u),modified:f};n=gm(),e.publish(m)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=gm())}}}var cP=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=yn({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},dP=()=>{const t=document.documentElement;return t||K(),t},hP=()=>{const t=dP();return cP({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Cz=()=>{const t=uP(),e=hP(),n=t.y,r=t.x,i=dP(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:Wn({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:wt,displacement:wt}}}},Rz=({critical:t,scrollOptions:e,registry:n})=>{const r=Cz(),i=r.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:UR(a),droppables:jR(o)},critical:t,viewport:r}};function qE(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Pz=(t,e)=>{let n=null;const r=xz({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,m)=>{t.droppable.exists(f)||K(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:m})},s=(f,m)=>{n&&(t.droppable.exists(f)||K(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},o=(f,m)=>{n&&(t.droppable.exists(f)||K(),e.updateDroppableScroll({id:f,newScroll:m}))},a=(f,m)=>{n&&t.droppable.getById(f).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||K();const m=n.critical.draggable;f.type==="ADDITION"&&qE(t,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&qE(t,m,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{n&&K();const m=t.draggable.getById(f.draggableId),v=t.droppable.getById(m.descriptor.droppableId),E={draggable:m.descriptor,droppable:v.descriptor},_=t.subscribe(u);return n={critical:E,unsubscribe:_},Rz({critical:E,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},fP=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Az=t=>{window.scrollBy(t.x,t.y)};const kz=gt(t=>Bf(t).filter(e=>!(!e.isEnabled||!e.frame))),Nz=(t,e)=>kz(e).find(r=>(r.frame||K(),YR(r.frame.pageMarginBox)(t)))||null;var Oz=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return Nz(t,n)};const yu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Dz=(t,e,n=()=>yu)=>{const r=n(),i=t[e.size]*r.startFromPercentage,s=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},pP=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},j0=1,Mz=(t,e,n=()=>yu)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return j0;const s=1-pP({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},Lz=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,a=s,u=Date.now()-o;if(u>=s)return t;if(u<i)return j0;const d=pP({startOfRange:i,endOfRange:a,current:u}),h=t*r.ease(d);return Math.ceil(h)},KE=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=Mz(t,e,i);return s===0?0:r?Math.max(Lz(s,n,i),j0):s},QE=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=Dz(t,r,s);return e[r.end]<e[r.start]?KE({distanceToEdge:e[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*KE({distanceToEdge:e[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},Vz=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Fz=FR(t=>t===0?0:t);var mP=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=QE({container:e,distanceToEdges:o,dragStartTime:t,axis:k0,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=QE({container:e,distanceToEdges:o,dragStartTime:t,axis:zR,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),u=Fz({x:l,y:a});if(Ni(u,wt))return null;const d=Vz({container:e,subject:n,proposedScroll:u});return d?Ni(d,wt)?null:d:null};const jz=FR(t=>t===0?0:t>0?1:-1),U0=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Pt(e,r),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ni(s,wt)?null:s}})(),gP=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=jz(n),s=U0({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},$0=(t,e)=>gP({current:t.scroll.current,max:t.scroll.max,change:e}),Uz=(t,e)=>{if(!$0(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return U0({current:r,max:n,change:e})},B0=(t,e)=>{const n=t.frame;return n?gP({current:n.scroll.current,max:n.scroll.max,change:e}):!1},$z=(t,e)=>{const n=t.frame;return!n||!B0(t,e)?null:U0({current:n.scroll.current,max:n.scroll.max,change:e})};var Bz=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=mP({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&$0(t,o)?o:null},zz=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=t.frame;if(!o)return null;const a=mP({dragStartTime:r,container:o.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&B0(t,a)?a:null},YE=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,f=Bz({dragStartTime:e,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(f){r(f);return}}const u=Oz({center:o,destination:wn(t.impact),droppables:t.dimensions.droppables});if(!u)return;const d=zz({dragStartTime:e,droppable:u,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});d&&i(u.descriptor.id,d)},Hz=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>yu})=>{const r=fu(t),i=fu(e);let s=null;const o=u=>{s||K();const{shouldUseTimeDampening:d,dragStartTime:h}=s;YE({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{s&&K();const d=Date.now();let h=!1;const f=()=>{h=!0};YE({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&o(u)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},Wz=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const u=Pt(a.current.client.selection,l);t({client:u})},i=(a,l)=>{if(!B0(a,l))return l;const u=$z(a,l);if(!u)return e(a.descriptor.id,l),null;const d=yn(l,u);return e(a.descriptor.id,d),yn(l,d)},s=(a,l,u)=>{if(!a||!$0(l,u))return u;const d=Uz(l,u);if(!d)return n(u),null;const h=yn(u,d);return n(h),yn(u,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=wn(a.impact);u||K();const d=i(a.dimensions.droppables[u],l);if(!d)return;const h=a.viewport,f=s(a.isWindowScrollAllowed,h,d);f&&r(a,f)}},Gz=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=Hz({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),s=Wz({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const Qo="data-rfd",Yo=(()=>{const t=`${Qo}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),cv=(()=>{const t=`${Qo}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),qz=(()=>{const t=`${Qo}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),ZE={contextId:`${Qo}-scroll-container-context-id`},Kz=t=>e=>`[${e}="${t}"]`,Fa=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),Qz="pointer-events: none;";var Yz=t=>{const e=Kz(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Yo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Qz,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${yl.outOfTheWay};
    `;return{selector:e(cv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(qz.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Fa(o,"always"),resting:Fa(o,"resting"),dragging:Fa(o,"dragging"),dropAnimating:Fa(o,"dropAnimating"),userCancel:Fa(o,"userCancel")}};const En=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,vm=()=>{const t=document.querySelector("head");return t||K(),t},XE=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Zz(t,e){const n=Re(()=>Yz(t),[t]),r=N.useRef(null),i=N.useRef(null),s=oe(gt(h=>{const f=i.current;f||K(),f.textContent=h}),[]),o=oe(h=>{const f=r.current;f||K(),f.textContent=h},[]);En(()=>{!r.current&&!i.current||K();const h=XE(e),f=XE(e);return r.current=h,i.current=f,h.setAttribute(`${Qo}-always`,t),f.setAttribute(`${Qo}-dynamic`,t),vm().appendChild(h),vm().appendChild(f),o(n.always),s(n.resting),()=>{const m=v=>{const E=v.current;E||K(),vm().removeChild(E),v.current=null};m(r),m(i)}},[e,o,s,n.always,n.resting,t]);const a=oe(()=>s(n.dragging),[s,n.dragging]),l=oe(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=oe(()=>{i.current&&s(n.resting)},[s,n.resting]);return Re(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function vP(t,e){return Array.from(t.querySelectorAll(e))}var yP=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Gf(t){return t instanceof yP(t).HTMLElement}function Xz(t,e){const n=`[${Yo.contextId}="${t}"]`,r=vP(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(Yo.draggableId)===e);return!i||!Gf(i)?null:i}function Jz(t){const e=N.useRef({}),n=N.useRef(null),r=N.useRef(null),i=N.useRef(!1),s=oe(function(f,m){const v={id:f,focus:m};return e.current[f]=v,function(){const _=e.current;_[f]!==v&&delete _[f]}},[]),o=oe(function(f){const m=Xz(t,f);m&&m!==document.activeElement&&m.focus()},[t]),a=oe(function(f,m){n.current===f&&(n.current=m)},[]),l=oe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&o(f)}))},[o]),u=oe(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(Yo.draggableId)===f&&(n.current=f)},[]);return En(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Re(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,u,l,a])}function eH(){const t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){const m=e.indexOf(h);m!==-1&&e.splice(m,1)}}function r(h){e.length&&e.forEach(f=>f(h))}function i(h){return t.draggables[h]||null}function s(h){const f=i(h);return f||K(),f}const o={register:h=>{t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,f)=>{const m=t.draggables[f.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const f=h.descriptor.id,m=i(f);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[f],t.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(t.draggables).filter(f=>f.descriptor.type===h)};function a(h){return t.droppables[h]||null}function l(h){const f=a(h);return f||K(),f}const u={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const f=a(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(t.droppables).filter(f=>f.descriptor.type===h)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:d}}function tH(){const t=Re(eH,[]);return N.useEffect(()=>function(){t.clean()},[t]),t}var z0=Me.createContext(null),Mh=()=>{const t=document.body;return t||K(),t};const nH={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},rH=t=>`rfd-announcement-${t}`;function iH(t){const e=Re(()=>rH(t),[t]),n=N.useRef(null);return N.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ue(s.style,nH),Mh().appendChild(s),function(){setTimeout(function(){const l=Mh();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]),oe(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const sH={separator:"::"};function H0(t,e=sH){const n=Me.useId();return Re(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function oH({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function aH({contextId:t,text:e}){const n=H0("hidden-text",{separator:"-"}),r=Re(()=>oH({contextId:t,uniqueId:n}),[n,t]);return N.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",Mh().appendChild(s),function(){const a=Mh();a.contains(s)&&a.removeChild(s)}},[r,e]),r}var qf=Me.createContext(null);function _P(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),e}function lH(){let t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&K();const a={abandon:o};return t=a,a}function i(){t||K(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}function _u(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const uH=9,cH=13,W0=27,bP=32,dH=33,hH=34,fH=35,pH=36,mH=37,gH=38,vH=39,yH=40,_H={[cH]:!0,[uH]:!0};var wP=t=>{_H[t.keyCode]&&t.preventDefault()};const Kf=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),EP=0,JE=5;function bH(t,e){return Math.abs(e.x-t.x)>=JE||Math.abs(e.y-t.y)>=JE}const eT={type:"IDLE"};function wH({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==EP)return;const l={x:o,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&K();const d=u.point;if(!bH(d,l))return;i.preventDefault();const h=u.actions.fluidLift(l);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===W0){i.preventDefault(),t();return}wP(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&K(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Kf,fn:t}]}function EH(t){const e=N.useRef(eT),n=N.useRef(ki),r=Re(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==EP||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const f=t.findClosestDraggableId(h);if(!f)return;const m=t.tryGetLock(f,o,{sourceEvent:h});if(!m)return;h.preventDefault();const v={x:h.clientX,y:h.clientY};n.current(),u(m,v)}}),[t]),i=Re(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=t.findClosestDraggableId(d);if(!h)return;const f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}),[t]),s=oe(function(){const h={passive:!1,capture:!0};n.current=kn(window,[i,r],h)},[i,r]),o=oe(()=>{e.current.type!=="IDLE"&&(e.current=eT,n.current(),s())},[s]),a=oe(()=>{const d=e.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=oe(function(){const h={capture:!0,passive:!1},f=wH({cancel:a,completed:o,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=kn(window,f,h)},[a,o]),u=oe(function(h,f){e.current.type!=="IDLE"&&K(),e.current={type:"PENDING",point:f,actions:h},l()},[l]);En(function(){return s(),function(){n.current()}},[s])}function TH(){}const IH={[hH]:!0,[dH]:!0,[pH]:!0,[fH]:!0};function SH(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===W0){i.preventDefault(),n();return}if(i.keyCode===bP){i.preventDefault(),r();return}if(i.keyCode===yH){i.preventDefault(),t.moveDown();return}if(i.keyCode===gH){i.preventDefault(),t.moveUp();return}if(i.keyCode===vH){i.preventDefault(),t.moveRight();return}if(i.keyCode===mH){i.preventDefault(),t.moveLeft();return}if(IH[i.keyCode]){i.preventDefault();return}wP(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Kf,fn:n}]}function xH(t){const e=N.useRef(TH),n=Re(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==bP)return;const o=t.findClosestDraggableId(s);if(!o)return;const a=t.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const u=a.snapLift();e.current();function d(){l||K(),l=!1,e.current(),r()}e.current=kn(window,SH(u,d),{capture:!0,passive:!1})}}),[t]),r=oe(function(){const s={passive:!1,capture:!0};e.current=kn(window,[n],s)},[n]);En(function(){return r(),function(){e.current()}},[r])}const ym={type:"IDLE"},CH=120,RH=.15;function PH({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===W0&&n.preventDefault(),t()}},{eventName:Kf,fn:t}]}function AH({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&K();const s=r.touches[0];if(!s||!(s.force>=RH))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:Kf,fn:t}]}function kH(t){const e=N.useRef(ym),n=N.useRef(ki),r=oe(function(){return e.current},[]),i=oe(function(m){e.current=m},[]),s=Re(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const v=t.findClosestDraggableId(m);if(!v)return;const E=t.tryGetLock(v,a,{sourceEvent:m});if(!E)return;const _=m.touches[0],{clientX:y,clientY:w}=_,x={x:y,y:w};n.current(),h(E,x)}}),[t]),o=oe(function(){const m={capture:!0,passive:!1};n.current=kn(window,[s],m)},[s]),a=oe(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(ym),n.current(),o())},[o,i]),l=oe(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=oe(function(){const m={capture:!0,passive:!1},v={cancel:l,completed:a,getPhase:r},E=kn(window,AH(v),m),_=kn(window,PH(v),m);n.current=function(){E(),_()}},[l,r,a]),d=oe(function(){const m=r();m.type!=="PENDING"&&K();const v=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),h=oe(function(m,v){r().type!=="IDLE"&&K();const E=setTimeout(d,CH);i({type:"PENDING",point:v,actions:m,longPressTimerId:E}),u()},[u,r,i,d]);En(function(){return o(),function(){n.current();const v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(ym))}},[r,o,i]),En(function(){return kn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const NH=["input","button","textarea","select","option","optgroup","video","audio"];function TP(t,e){if(e==null)return!1;if(NH.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:TP(t,e.parentElement)}function OH(t,e){const n=e.target;return Gf(n)?TP(t,n):!1}var DH=t=>Wn(t.getBoundingClientRect()).center;function MH(t){return t instanceof yP(t).Element}const LH=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function IP(t,e){return t==null?null:t[LH](e)?t:IP(t.parentElement,e)}function VH(t,e){return t.closest?t.closest(e):IP(t,e)}function FH(t){return`[${Yo.contextId}="${t}"]`}function jH(t,e){const n=e.target;if(!MH(n))return null;const r=FH(t),i=VH(n,r);return!i||!Gf(i)?null:i}function UH(t,e){const n=jH(t,e);return n?n.getAttribute(Yo.draggableId):null}function $H(t,e){const n=`[${cv.contextId}="${t}"]`,i=vP(document,n).find(s=>s.getAttribute(cv.id)===e);return!i||!Gf(i)?null:i}function BH(t){t.preventDefault()}function jc({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function SP({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!fP(e.getState(),r))}function zH({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!SP({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=$H(e,l.descriptor.id);if(!u||o&&!l.options.canDragInteractiveElements&&OH(u,o))return null;const d=t.claim(s||ki);let h="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function m(){return t.isActive(d)}function v(D,M){jc({expected:D,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(M())}const E=v.bind(null,"DRAGGING");function _(D){function M(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(M(),K()),n.dispatch(V7(D.liftActionArgs)),h="DRAGGING";function I(b,P={shouldBlockNextClick:!1}){if(D.cleanup(),P.shouldBlockNextClick){const A=kn(window,[{eventName:"click",fn:BH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}M(),n.dispatch(sP({reason:b}))}return{isActive:()=>jc({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,drop:b=>I("DROP",b),cancel:b=>I("CANCEL",b),...D.actions}}function y(D){const M=fu(b=>{E(()=>iP({client:b}))});return{..._({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>M.cancel(),actions:{move:M}}),move:M}}function w(){const D={moveUp:()=>E(G7),moveRight:()=>E(K7),moveDown:()=>E(q7),moveLeft:()=>E(Q7)};return _({liftActionArgs:{id:i,clientSelection:DH(u),movementMode:"SNAP"},cleanup:ki,actions:D})}function x(){jc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>jc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:y,snapLift:w,abort:x}}const HH=[EH,xH,kH];function WH({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?HH:[],...r||[]],o=N.useState(()=>lH())[0],a=oe(function(_,y){_u(_)&&!_u(y)&&o.tryAbandon()},[o]);En(function(){let _=e.getState();return e.subscribe(()=>{const w=e.getState();a(_,w),_=w})},[o,e,a]),En(()=>o.tryAbandon,[o.tryAbandon]);const l=oe(E=>SP({lockAPI:o,registry:n,store:e,draggableId:E}),[o,n,e]),u=oe((E,_,y)=>zH({lockAPI:o,registry:n,contextId:t,store:e,draggableId:E,forceSensorStop:_||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[t,o,n,e]),d=oe(E=>UH(t,E),[t]),h=oe(E=>{const _=n.draggable.findById(E);return _?_.options:null},[n.draggable]),f=oe(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(L0()))},[o,e]),m=oe(()=>o.isClaimed(),[o]),v=Re(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:m}),[l,u,d,h,f,m]);for(let E=0;E<s.length;E++)s[E](v)}const GH=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Su.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),qH=t=>({...yu,...t.autoScrollerOptions,durationDampening:{...yu.durationDampening,...t.autoScrollerOptions}});function ja(t){return t.current||K(),t.current}function KH(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=t,o=N.useRef(null),a=_P(t),l=oe(()=>GH(a.current),[a]),u=oe(()=>qH(a.current),[a]),d=iH(e),h=aH({contextId:e,text:s}),f=Zz(e,i),m=oe(A=>{ja(o).dispatch(A)},[]),v=Re(()=>xE({publishWhileDragging:j7,updateDroppableScroll:$7,updateDroppableIsEnabled:B7,updateDroppableIsCombineEnabled:z7,collectionStarting:U7},m),[m]),E=tH(),_=Re(()=>Pz(E,v),[E,v]),y=Re(()=>Gz({scrollWindow:Az,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:u,...xE({move:iP},m)}),[_.scrollDroppable,m,u]),w=Jz(e),x=Re(()=>Sz({announce:d,autoScroller:y,dimensionMarshal:_,focusMarshal:w,getResponders:l,styleMarshal:f}),[d,y,_,w,l,f]);o.current=x;const C=oe(()=>{const A=ja(o);A.getState().phase!=="IDLE"&&A.dispatch(L0())},[]),D=oe(()=>{const A=ja(o).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),M=Re(()=>({isDragging:D,tryAbort:C}),[D,C]);n(M);const I=oe(A=>fP(ja(o).getState(),A),[]),b=oe(()=>us(ja(o).getState()),[]),P=Re(()=>({marshal:_,focus:w,contextId:e,canLift:I,isMovementAllowed:b,dragHandleUsageInstructionsId:h,registry:E}),[e,_,h,w,I,b,E]);return WH({contextId:e,store:x,registry:E,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),N.useEffect(()=>C,[C]),Me.createElement(qf.Provider,{value:P},Me.createElement(yB,{context:z0,store:x},t.children))}function QH(){return Me.useId()}function YH(t){const e=QH(),n=t.dragHandleUsageInstructions||fd.dragHandleUsageInstructions;return Me.createElement(CB,null,r=>Me.createElement(KH,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const tT={dragging:5e3,dropAnimating:4500},ZH=(t,e)=>e?yl.drop(e.duration):t?yl.snap:yl.fluid,XH=(t,e)=>{if(t)return e?vu.opacity.drop:vu.opacity.combining},JH=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function eW(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:s}=t,o=!!i,a=JH(t),l=!!s,u=l?lv.drop(r,o):lv.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ZH(a,s),transform:u,opacity:XH(o,l),zIndex:l?tT.dropAnimating:tT.dragging,pointerEvents:"none"}}function tW(t){return{transform:lv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function nW(t){return t.type==="DRAGGING"?eW(t):tW(t)}function rW(t,e,n=wt){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=OR(i,r),o=kh(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:s,page:o}}function iW(t){const e=H0("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=t,l=Re(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),u=oe(m=>{const v=i();return v||K(),rW(n,v,m)},[n,i]),d=Re(()=>({uniqueId:e,descriptor:n,options:l,getDimension:u}),[n,u,l,e]),h=N.useRef(d),f=N.useRef(!0);En(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),En(()=>{if(f.current){f.current=!1;return}const m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}var G0=Me.createContext(null);function Lh(t){const e=N.useContext(t);return e||K(),e}function sW(t){t.preventDefault()}const oW=t=>{const e=N.useRef(null),n=oe((M=null)=>{e.current=M},[]),r=oe(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=Lh(qf),{type:a,droppableId:l}=Lh(G0),u=Re(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:v,isClone:E,mapped:_,dropAnimationFinished:y}=t;if(!E){const M=Re(()=>({descriptor:u,registry:o,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:f}),[u,o,r,v,m,f]);iW(M)}const w=Re(()=>f?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:sW}:null,[i,s,h,f]),x=oe(M=>{_.type==="DRAGGING"&&_.dropping&&M.propertyName==="transform"&&Su.flushSync(y)},[y,_]),C=Re(()=>{const M=nW(_),I=_.type==="DRAGGING"&&_.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:M,onTransitionEnd:I},dragHandleProps:w}},[i,w,h,_,x,n]),D=Re(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Me.createElement(Me.Fragment,null,d(C,_.snapshot,D))};var xP=(t,e)=>t===e,CP=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const aW=t=>t.combine?t.combine.draggableId:null,lW=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function uW(){const t=gt((i,s)=>({x:i,y:s})),e=gt((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=gt((i,s,o,a,l=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:d,snapshot:e(s,a,l,u,null)}}));return(i,s)=>{if(_u(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=wn(i.impact),u=lW(i.impact),d=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,s.isClone,l,u,d)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],u=o.result,d=u.mode,h=CP(u),f=aW(u),v={duration:i.dropDuration,curve:F0.drop,moveTo:i.newHomeClientOffset,opacity:f?vu.opacity.drop:null,scale:f?vu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:v,draggingOver:h,combineWith:f,mode:d,forceShouldAnimate:null,snapshot:e(d,a,h,f,v)}}}return null}}function RP(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const cW={mapped:{type:"SECONDARY",offset:wt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:RP(null)}};function dW(){const t=gt((o,a)=>({x:o,y:a})),e=gt(RP),n=gt((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=o=>o?n(wt,o,!0):null,i=(o,a,l,u)=>{const d=l.displaced.visible[o],h=!!(u.inVirtualList&&u.effected[o]),f=zf(l),m=f&&f.draggableId===o?a:null;if(!d){if(!h)return r(m);if(l.displaced.invisible[o])return null;const _=aa(u.displacedBy.point),y=t(_.x,_.y);return n(y,m,!0)}if(h)return r(m);const v=l.displacedBy.point,E=t(v.x,v.y);return n(E,m,d.shouldAnimate)};return(o,a)=>{if(_u(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const hW=()=>{const t=uW(),e=dW();return(r,i)=>t(r,i)||e(r,i)||cW},fW={dropAnimationFinished:oP},pW=kR(hW,fW,null,{context:z0,areStatePropsEqual:xP})(oW);function PP(t){return Lh(G0).isUsingCloneFor===t.draggableId&&!t.isClone?null:Me.createElement(pW,t)}function mW(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Me.createElement(PP,ue({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const AP=t=>e=>t===e,gW=AP("scroll"),vW=AP("auto"),nT=(t,e)=>e(t.overflowX)||e(t.overflowY),yW=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return nT(n,gW)||nT(n,vW)},_W=()=>!1,kP=t=>t==null?null:t===document.body?_W()?t:null:t===document.documentElement?null:yW(t)?t:kP(t.parentElement);var dv=t=>({x:t.scrollLeft,y:t.scrollTop});const NP=t=>t?window.getComputedStyle(t).position==="fixed"?!0:NP(t.parentElement):!1;var bW=t=>{const e=kP(t),n=NP(t);return{closestScrollable:e,isFixedOnPage:n}},wW=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:m}=a,v=cP({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:v,diff:{value:wt,displacement:wt}}}})(),u=i==="vertical"?k0:zR,d=Ko({page:o,withPlaceholder:null,axis:u,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:e,client:s,page:o,frame:l,subject:d}};const EW=(t,e)=>{const n=DR(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,l=C0({top:r,right:o,bottom:s,left:i},n.border);return R0({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var TW=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,u=EW(t,l),d=kh(u,r),h=(()=>{if(!l)return null;const m=DR(l),v={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:kh(m,r),scroll:dv(l),scrollSize:v,shouldClipSubject:a}})();return wW({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:h})};const IW={passive:!1},SW={passive:!0};var rT=t=>t.shouldPublishImmediately?IW:SW;const Uc=t=>t&&t.env.closestScrollable||null;function xW(t){const e=N.useRef(null),n=Lh(qf),r=H0("droppable"),{registry:i,marshal:s}=n,o=_P(t),a=Re(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=N.useRef(a),u=Re(()=>gt((C,D)=>{e.current||K();const M={x:C,y:D};s.updateDroppableScroll(a.id,M)}),[a.id,s]),d=oe(()=>{const C=e.current;return!C||!C.env.closestScrollable?wt:dv(C.env.closestScrollable)},[]),h=oe(()=>{const C=d();u(C.x,C.y)},[d,u]),f=Re(()=>fu(h),[h]),m=oe(()=>{const C=e.current,D=Uc(C);if(C&&D||K(),C.scrollOptions.shouldPublishImmediately){h();return}f()},[f,h]),v=oe((C,D)=>{e.current&&K();const M=o.current,I=M.getDroppableRef();I||K();const b=bW(I),P={ref:I,descriptor:a,env:b,scrollOptions:D};e.current=P;const A=TW({ref:I,descriptor:a,env:b,windowScroll:C,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),k=b.closestScrollable;return k&&(k.setAttribute(ZE.contextId,n.contextId),k.addEventListener("scroll",m,rT(P.scrollOptions))),A},[n.contextId,a,m,o]),E=oe(()=>{const C=e.current,D=Uc(C);return C&&D||K(),dv(D)},[]),_=oe(()=>{const C=e.current;C||K();const D=Uc(C);e.current=null,D&&(f.cancel(),D.removeAttribute(ZE.contextId),D.removeEventListener("scroll",m,rT(C.scrollOptions)))},[m,f]),y=oe(C=>{const D=e.current;D||K();const M=Uc(D);M||K(),M.scrollTop+=C.y,M.scrollLeft+=C.x},[]),w=Re(()=>({getDimensionAndWatchScroll:v,getScrollWhileDragging:E,dragStopped:_,scroll:y}),[_,v,E,y]),x=Re(()=>({uniqueId:r,descriptor:a,callbacks:w}),[w,a,r]);En(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&_(),i.droppable.unregister(x)}),[w,a,_,x,s,i.droppable]),En(()=>{e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),En(()=>{e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function _m(){}const iT={width:0,height:0,margin:OB},CW=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?iT:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},RW=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=CW({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?yl.placeholder:null}},PW=t=>{const e=N.useRef(null),n=oe(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=t,[a,l]=N.useState(t.animate==="open");N.useEffect(()=>a?r!=="open"?(n(),l(!1),_m):e.current?_m:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):_m,[r,a,n]);const u=oe(h=>{h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=RW({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return Me.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":o,onTransitionEnd:u,ref:t.innerRef})};var AW=Me.memo(PW);class kW extends Me.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const NW=t=>{const e=N.useContext(qf);e||K();const{contextId:n,isMovementAllowed:r}=e,i=N.useRef(null),s=N.useRef(null),{children:o,droppableId:a,type:l,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:m,snapshot:v,useClone:E,updateViewportMaxScroll:_,getContainerForClone:y}=t,w=oe(()=>i.current,[]),x=oe((k=null)=>{i.current=k},[]);oe(()=>s.current,[]);const C=oe((k=null)=>{s.current=k},[]),D=oe(()=>{r()&&_({maxScroll:hP()})},[r,_]);xW({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:w});const M=Re(()=>Me.createElement(kW,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:k,data:O,animate:S})=>Me.createElement(AW,{placeholder:O,onClose:k,innerRef:C,animate:S,contextId:n,onTransitionEnd:D})),[n,D,t.placeholder,t.shouldAnimatePlaceholder,C]),I=Re(()=>({innerRef:x,placeholder:M,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,M,x]),b=E?E.dragging.draggableId:null,P=Re(()=>({droppableId:a,type:l,isUsingCloneFor:b}),[a,b,l]);function A(){if(!E)return null;const{dragging:k,render:O}=E,S=Me.createElement(PP,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(V,$)=>O(V,$,k));return bS.createPortal(S,y())}return Me.createElement(G0.Provider,{value:P},o(I,v),A())};function OW(){return document.body||K(),document.body}const sT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:OW},OP=t=>{let e={...t},n;for(n in sT)t[n]===void 0&&(e={...e,[n]:sT[n]});return e},bm=(t,e)=>t===e.droppable.type,oT=(t,e)=>e.draggables[t.draggable.id],DW=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=gt(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=gt((s,o,a,l,u,d)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===s){const v=d?{render:d,dragging:n(u.descriptor)}:null,E={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:E,useClone:v}}if(!o)return e;if(!l)return t;const m={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=OP(o),l=a.droppableId,u=a.type,d=!a.isDropDisabled,h=a.renderClone;if(_u(s)){const f=s.critical;if(!bm(u,f))return e;const m=oT(f,s.dimensions),v=wn(s.impact)===l;return r(l,d,v,v,m,h)}if(s.phase==="DROP_ANIMATING"){const f=s.completed;if(!bm(u,f.critical))return e;const m=oT(f.critical,s.dimensions);return r(l,d,CP(f.result)===l,wn(f.impact)===l,m,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const f=s.completed;if(!bm(u,f.critical))return e;const m=wn(f.impact)===l,v=!!(f.impact.at&&f.impact.at.type==="COMBINE"),E=f.critical.droppable.id===l;return m?v?t:e:E?t:e}return e}},MW={updateViewportMaxScroll:W7},LW=kR(DW,MW,(t,e,n)=>({...OP(n),...t,...e}),{context:z0,areStatePropsEqual:xP})(NW);var VW=LW;const FW=["To do","In progress","Awaiting Feedback","Completed"],jW=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState([]),{currentUser:o}=N.useContext(Xi),[a,l]=N.useState({isOpen:!1});N.useEffect(()=>{let C,D,M;if(o){const I=Or(_t,"tasks"),b=vs(I,vi("userId","==",o.uid),$g("status"),$g("order"));C=pl(b,k=>{const O=k.docs.map(S=>{const V=S.data(),$=Array.isArray(V.assignedTo)?V.assignedTo:[V.assignedTo],Y=Array.isArray(V.subtask)?V.subtask:[];return{id:S.id,title:V.title,description:V.description,priority:V.priority,createdAt:V.createdAt,userId:V.userId,assignedTo:$,category:V.category,dueDate:V.dueDate,subtask:Y,status:V.status||"To do",order:typeof V.order=="number"?V.order:0}});e(O)});const P=Or(_t,"contacts"),A=vs(P,vi("userId","==",o.uid));D=pl(A,k=>{const O=k.docs.map(S=>({id:S.id,...S.data()}));r(O)}),M=pl(b,k=>{const O=new Set;k.forEach(S=>{const V=S.data();V.category&&O.add(V.category)}),s(Array.from(O))})}return()=>{C&&C(),D&&D(),M&&M()}},[o]);const u=C=>{const D=n.find(M=>M.id===C);return D?D.name:"Unknown Contact"},d=C=>{const D=n.find(M=>M.id===C);return D&&D.name?D.name.split(" ").map(b=>b[0]).join("").toUpperCase():"?"},h=C=>{var I,b;const D=((I=C.subtask)==null?void 0:I.length)||0;return`${((b=C.subtask)==null?void 0:b.filter(P=>P.status==="done").length)||0}/${D}`},f=C=>{switch(C){case"Urgent":return"text-red-500";case"Normal":return"text-yellow-500";case"Low":return"text-green-500";default:return"text-gray-500"}},m=C=>{switch(C){case"Urgent":return T.jsx(p$,{"aria-label":"Urgent Priority"});case"Normal":return T.jsx(EE,{"aria-label":"Normal Priority"});case"Low":return T.jsx(f$,{"aria-label":"Low Priority"});default:return T.jsx(EE,{"aria-label":"Normal Priority"})}},v=C=>{l({isOpen:!0,task:C})},E=()=>{l({isOpen:!1})},_=async C=>{if(o&&C.id)try{const D=Cr(_t,"tasks",C.id);await s0(D,{title:C.title,description:C.description,priority:C.priority,assignedTo:C.assignedTo,category:C.category,dueDate:C.dueDate,subtask:C.subtask,status:C.status,order:C.order}),E()}catch(D){console.error("Error updating task:",D)}},y=async C=>{if(o&&C){if(!window.confirm("Are you sure you want to delete this task? This action cannot be undone."))return;try{const M=Cr(_t,"tasks",C);await QC(M)}catch(M){console.error("Error deleting task:",M)}}},w=async C=>{const{destination:D,source:M,draggableId:I}=C;if(!D||D.droppableId===M.droppableId&&D.index===M.index||!t.find(V=>V.id===I))return;const P=D.droppableId,A=M.droppableId,k=D.droppableId;let O=[...t];if(A===k){const V=O.filter(F=>F.status===A),$=O.filter(F=>F.status!==A),[Y]=V.splice(M.index,1);V.splice(D.index,0,Y);const U=V.map((F,W)=>({...F,order:W}));O=[...$,...U]}else{const V=O.filter(z=>z.status===A),$=O.filter(z=>z.status===k),Y=O.filter(z=>z.status!==A&&z.status!==k),[U]=V.splice(M.index,1);U.status=P,$.splice(D.index,0,U);const F=V.map((z,Z)=>({...z,order:Z})),W=$.map((z,Z)=>({...z,order:Z}));O=[...Y,...F,...W]}e(O);const S=E3(_t);if(A===k)O.filter($=>$.status===A).forEach(($,Y)=>{const U=Cr(_t,"tasks",$.id);S.update(U,{order:Y})});else{const V=O.filter(Y=>Y.status===A),$=O.filter(Y=>Y.status===k);V.forEach((Y,U)=>{const F=Cr(_t,"tasks",Y.id);S.update(F,{order:U})}),$.forEach((Y,U)=>{const F=Cr(_t,"tasks",Y.id);S.update(F,{order:U,status:k})})}try{await S.commit()}catch(V){console.error("Error moving task:",V),e(t),alert("Failed to update task order. Please try again.")}},x={"To do":[],"In progress":[],"Awaiting Feedback":[],Completed:[]};return t.forEach(C=>{const D=C.status||"To do";x[D]?x[D].push(C):x["To do"].push(C)}),Object.keys(x).forEach(C=>{x[C].sort((D,M)=>D.order-M.order)}),o?T.jsxs("main",{className:"p-6 min-h-screen",role:"main","aria-labelledby":"task-board-heading",children:[T.jsx("h1",{id:"task-board-heading",className:"text-3xl md:text-4xl mb-6 text-center font-bold",children:"Task Board"}),t.length===0?T.jsx("p",{className:"text-gray-700 text-center text-lg",role:"status",children:"Your tasks will appear here."}):T.jsx(YH,{onDragEnd:w,children:T.jsx("section",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0","aria-label":"Task Columns",children:FW.map(C=>T.jsx(VW,{droppableId:C,children:(D,M)=>T.jsxs("div",{ref:D.innerRef,...D.droppableProps,className:`flex-1 bg-gray-100 p-4 rounded-md shadow-md ${M.isDraggingOver?"bg-blue-50":""}`,"aria-labelledby":`column-${C}-heading`,children:[T.jsx("h2",{id:`column-${C}-heading`,className:"text-xl font-semibold mb-4 text-center",children:C}),T.jsxs("ul",{role:"list",children:[x[C].map((I,b)=>T.jsx(mW,{draggableId:I.id,index:b,children:(P,A)=>T.jsxs("li",{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,className:`flex flex-col justify-between bg-white p-4 rounded-lg shadow mb-4 ${A.isDragging?"bg-blue-100":"bg-white"} transition-colors duration-200`,"aria-labelledby":`task-title-${I.id}`,"aria-describedby":`task-description-${I.id}`,children:[T.jsxs("div",{children:[T.jsx("h3",{id:`task-title-${I.id}`,className:"text-lg font-semibold mb-2",children:I.title}),T.jsx("p",{id:`task-description-${I.id}`,className:"text-gray-700 mb-2 hidden sm:block",children:I.description.length>50?I.description.slice(0,47)+"...":I.description}),T.jsx("div",{className:"sm:flex items-center mb-2 hidden",children:I.assignedTo.map(k=>T.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mr-2 text-xs",title:u(k),"aria-label":`Assigned to ${u(k)}`,children:d(k)},k))}),I.subtask&&I.subtask.length>0&&T.jsxs("p",{className:"text-gray-600 mb-2",children:[T.jsx("strong",{children:"Subtasks:"})," ",h(I)]})]}),T.jsxs("div",{className:"flex justify-between items-center sm:mt-4",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:`${f(I.priority)} mr-2`,style:{fontSize:"1.5rem"},children:m(I.priority)}),T.jsx("span",{className:"text-black font-medium",children:I.priority})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>v(I),className:"text-blue-500 hover:text-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded","aria-label":`Edit task ${I.title}`,children:T.jsx(uu,{size:30,"aria-hidden":"true",className:"md:scale-125"})}),T.jsx("button",{onClick:()=>y(I.id),className:"text-red-700 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 rounded","aria-label":`Delete task ${I.title}`,children:T.jsx(l0,{size:25,"aria-hidden":"true",className:"md:scale-125"})})]})]})]})},I.id)),D.placeholder]})]})},C))})}),T.jsx(xf,{isOpen:a.isOpen,onClose:E,ariaLabel:"Edit Task Modal",children:a.task&&T.jsx(h$,{task:a.task,contacts:n,categories:i,onClose:E,onUpdate:_})})]}):T.jsx("div",{className:"p-6",role:"main","aria-labelledby":"login-prompt",children:T.jsx("h1",{id:"login-prompt",className:"text-3xl font-bold mb-4 text-center text-blue-700",children:"Please log in to view your tasks."})})},UW=({openCreateTaskModal:t})=>{var s;const{currentUser:e}=N.useContext(Xi),[n,r]=N.useState(!1),i=async()=>{try{await pM(Io)}catch(o){console.error("Error signing out:",o)}};return T.jsxs("nav",{className:"bg-gray-800 ",children:[T.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex justify-between items-center h-16",children:[T.jsxs(ft,{to:"/summary",className:"text-white text-2xl md:text-3xl font-bold flex items-center",children:[T.jsx(_s,{className:"mr-2"})," Kanban"]}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:()=>r(!n),className:"text-white focus:outline-none","aria-label":"Toggle navigation menu","aria-expanded":n,children:n?T.jsx(a0,{className:"text-2xl"}):T.jsx(c5,{className:"text-2xl"})})}),T.jsx("div",{className:"hidden md:flex md:items-center md:space-x-2",children:e?T.jsxs(T.Fragment,{children:[T.jsxs(ft,{to:"/summary",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[T.jsx(_s,{className:"mr-2"}),"Summary"]}),T.jsxs(ft,{to:"/dashboard",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[T.jsx(Fw,{className:"mr-2"}),"Dashboard"]}),T.jsxs("button",{onClick:t,className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200","aria-label":"Create Task",children:[T.jsx(Wo,{className:"mr-2"}),"Create Task"]}),T.jsxs(ft,{to:"/contacts",className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[T.jsx(Mw,{className:"mr-2"}),"Contacts"]}),T.jsxs("div",{className:"text-white px-4 flex items-center",children:[T.jsx(jw,{className:"mr-2",size:30}),(s=e.email)==null?void 0:s.slice(0,1)]}),T.jsxs("button",{onClick:i,className:"flex items-center text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200","aria-label":"Logout",children:[T.jsx(Vw,{className:"mr-2"}),"Logout"]})]}):T.jsxs(T.Fragment,{children:[T.jsxs(ft,{to:"/login",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[T.jsx(Lw,{className:"mr-2"}),"Login"]}),T.jsxs(ft,{to:"/signup",className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[T.jsx(Uw,{className:"mr-2"}),"Sign Up"]})]})})]}),n&&T.jsx("div",{className:"md:hidden",children:T.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:e?T.jsxs(T.Fragment,{children:[T.jsxs(ft,{to:"/summary",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:[T.jsx(_s,{className:"mr-2"}),"Summary"]}),T.jsxs(ft,{to:"/dashboard",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[T.jsx(Fw,{className:"mr-2"}),"Dashboard"]}),T.jsxs("button",{onClick:()=>{t(),r(!1)},className:"flex items-center w-full bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2","aria-label":"Create Task",children:[T.jsx(Wo,{className:"mr-2"}),"Create Task"]}),T.jsxs(ft,{to:"/contacts",onClick:()=>r(!1),className:"flex items-center bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2",children:[T.jsx(Mw,{className:"mr-2"}),"Contacts"]}),T.jsxs("button",{onClick:()=>{i(),r(!1)},className:"flex items-center w-full bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200 mt-2","aria-label":"Logout",children:[T.jsx(Vw,{className:"mr-2"}),"Logout"]}),T.jsxs("span",{className:"text-white flex  items-center mt-2",children:[T.jsx(jw,{className:"mr-2"}),e.email]})]}):T.jsxs(T.Fragment,{children:[T.jsxs(ft,{to:"/login",onClick:()=>r(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200",children:[T.jsx(Lw,{className:"mr-2"}),"Login"]}),T.jsxs(ft,{to:"/signup",onClick:()=>r(!1),className:"flex items-center text-white hover:text-gray-300 transition-colors duration-200 mt-2",children:[T.jsx(Uw,{className:"mr-2"}),"Sign Up"]})]})})})]})},$W=({children:t,onClose:e,isOpen:n})=>{const[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState("Normal"),[u,d]=N.useState([]),[h,f]=N.useState([]),[m,v]=N.useState(""),[E,_]=N.useState([]),[y,w]=N.useState(""),[x,C]=N.useState(""),[D,M]=N.useState([]),[I,b]=N.useState(""),P=Cu(),{currentUser:A}=N.useContext(Xi);N.useEffect(()=>{const z=async()=>{if(A)try{const X=Or(_t,"contacts"),ie=vs(X,vi("userId","==",A.uid)),fe=(await Xp(ie)).docs.map(Se=>({id:Se.id,...Se.data()}));f(fe)}catch(X){console.error("Error fetching contacts:",X)}},Z=async()=>{if(A)try{const X=Or(_t,"tasks"),ie=vs(X,vi("userId","==",A.uid)),we=await Xp(ie),fe=new Set;we.forEach(Se=>{const $e=Se.data();$e.category&&fe.add($e.category)}),_(Array.from(fe))}catch(X){console.error("Error fetching categories:",X)}};z(),Z()},[A]),N.useEffect(()=>{n&&Y()},[n]);const k=z=>{const Z=[...D];Z[z].status=Z[z].status==="done"?"not done":"done",M(Z)},O=(z,Z)=>{const X=[...D];X[z].description=Z,M(X)},S=async z=>{if(z.preventDefault(),b(""),!A){b("You must be logged in to create a task.");return}if(r.trim()===""||s.trim()===""||u.length===0||m.trim()===""||y.trim()===""){b("Title, Description, Assigned To, Category, and Due Date are required.");return}try{const Z=Or(_t,"tasks"),X=vs(Z,vi("userId","==",A.uid),vi("status","==","To do"),$g("order","desc"),v3(1)),ie=await Xp(X);let we=0;if(!ie.empty){const fe=ie.docs[0].data();we={id:ie.docs[0].id,title:fe.title,description:fe.description,priority:fe.priority,createdAt:fe.createdAt,userId:fe.userId,assignedTo:fe.assignedTo,category:fe.category,dueDate:fe.dueDate,subtask:fe.subtask,status:fe.status||"To do",order:typeof fe.order=="number"?fe.order:0}.order+1}await YC(Or(_t,"tasks"),{title:r,description:s,priority:a,assignedTo:u.map(fe=>fe.id),category:m,dueDate:Qe.fromDate(new Date(y)),createdAt:Qe.fromDate(new Date),userId:A.uid,subtask:D,status:"To do",order:we}),Y(),e(),P("/dashboard")}catch(Z){console.error("Error adding task:",Z),Z instanceof Ht||Z instanceof Error?b(Z.message):b("Failed to create task. Please try again.")}},V=()=>{if(x.trim()!==""){const z={description:x.trim(),status:"not done"};M([...D,z]),C("")}},$=z=>{const Z=D.filter((X,ie)=>ie!==z);M(Z)},Y=()=>{i(""),o(""),l("Normal"),d([]),v(""),w(""),M([]),C(""),b("")},W={title:r,setTitle:i,description:s,setDescription:o,priority:a,setPriority:l,assignedTo:u,setAssignedTo:d,contacts:h,category:m,setCategory:v,categories:E,dueDate:y,setDueDate:w,subtaskInput:x,setSubtaskInput:C,subtask:D,setSubtask:M,error:I,setError:b,handleSubtaskStatusChange:k,handleSubtaskDescriptionChange:O,handleCreateTask:S,handleAddSubtask:V,handleRemoveSubtask:$,handleClearFields:Y,handleCreateCategory:z=>{const Z=z.trim();Z&&!E.includes(Z)&&_(X=>[...X,Z]),v(Z)},handleRemoveCategory:z=>{_(Z=>Z.filter(X=>X!==z)),m===z&&v("")}};return T.jsx(T.Fragment,{children:t(W)})},BW=({isOpen:t,onClose:e,title:n,setTitle:r,description:i,setDescription:s,priority:o,setPriority:a,assignedTo:l,setAssignedTo:u,contacts:d,category:h,setCategory:f,categories:m,dueDate:v,setDueDate:E,subtaskInput:_,setSubtaskInput:y,subtask:w,error:x,handleSubtaskStatusChange:C,handleSubtaskDescriptionChange:D,handleCreateTask:M,handleAddSubtask:I,handleRemoveSubtask:b,handleClearFields:P,handleCreateCategory:A})=>T.jsx(xf,{isOpen:t,onClose:e,ariaLabel:"Create Task Modal",children:T.jsxs("form",{onSubmit:M,className:"bg-white p-8 rounded-lg ","aria-labelledby":"create-task-heading",children:[T.jsxs("h2",{id:"create-task-heading",className:"text-3xl md:text-4xl mb-6 text-center font-bold flex items-center justify-center",children:[T.jsx(Wo,{className:"mr-3 text-blue-700 text-4xl","aria-hidden":"true"}),"Create New Task"]}),x&&T.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert","aria-live":"assertive",children:x}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"title",className:"block text-gray-700 text-lg font-medium mb-2",children:"Title"}),T.jsxs("div",{className:"relative",children:[T.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"title",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:k=>r(k.target.value),placeholder:"Task Title","aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-lg font-medium mb-2",children:"Description"}),T.jsxs("div",{className:"relative",children:[T.jsx(qg,{className:"absolute left-3 top-3 text-gray-400","aria-hidden":"true"}),T.jsx("textarea",{id:"description",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:k=>s(k.target.value),placeholder:"Task Description",rows:4,"aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"assignedTo",className:"block text-gray-700 text-lg font-medium mb-2",children:"Assigned To"}),T.jsxs("div",{className:"relative",children:[T.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("div",{className:"pl-12",children:T.jsx("div",{onClick:k=>k.stopPropagation(),onMouseDown:k=>k.stopPropagation(),children:T.jsx(wR,{id:"assignedTo",isMulti:!0,options:d.map(k=>({value:k.id,label:`${k.name} (${k.email})`})),className:"react-select-container",classNamePrefix:"react-select",value:l.map(k=>({value:k.id,label:`${k.name} (${k.email})`})),onChange:k=>{u(k.map(O=>d.find(V=>V.id===O.value)))},placeholder:"Select Contacts","aria-label":"Select Contacts to Assign"})})})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"category",className:"block text-gray-700 text-lg font-medium mb-2",children:"Category"}),T.jsxs("div",{className:"relative",children:[T.jsx(p2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("div",{className:"pl-12",children:T.jsx("div",{onClick:k=>k.stopPropagation(),onMouseDown:k=>k.stopPropagation(),children:T.jsx(ER,{id:"category",isClearable:!0,options:m.map(k=>({value:k,label:k})),value:h?{value:h,label:h}:null,onChange:k=>{f(k?k.value:"")},onCreateOption:A,placeholder:"Enter or select a category","aria-label":"Select or Create Category"})})})]})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"dueDate",className:"block text-gray-700 text-lg font-medium mb-2",children:"Due Date"}),T.jsxs("div",{className:"relative",children:[T.jsx(h2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"dueDate",type:"date",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:v,onChange:k=>E(k.target.value),"aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"subtaskInput",className:"block text-gray-700 text-lg font-medium mb-2",children:"Subtasks"}),T.jsxs("div",{className:"flex",children:[T.jsxs("div",{className:"relative w-full",children:[T.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"subtaskInput",type:"text",className:"w-full pl-10 pr-4 py-3 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:_,onChange:k=>y(k.target.value),placeholder:"Enter a subtask","aria-label":"Subtask Description"})]}),T.jsx("button",{type:"button",onClick:I,className:"bg-gray-700 text-white px-4 py-3 rounded-r-lg hover:bg-blue-700 transition-colors duration-200","aria-label":"Add Subtask",children:"Add"})]}),w.length>0&&T.jsx("ul",{className:"mt-4",children:w.map((k,O)=>T.jsxs("li",{className:"flex items-center justify-between bg-gray-200 p-3 rounded-lg mt-2",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",className:"mr-2",checked:k.status==="done",onChange:()=>C(O),"aria-label":`Mark subtask ${O+1} as ${k.status==="done"?"not done":"done"}`}),T.jsx("input",{type:"text",className:`flex-1 bg-transparent border-none focus:outline-none ${k.status==="done"?"line-through text-gray-500":""}`,value:k.description,onChange:S=>D(O,S.target.value),"aria-label":`Subtask ${O+1} Description`})]}),T.jsx("button",{type:"button",onClick:()=>b(O),className:"text-red-500 hover:text-red-700 transition-colors duration-200","aria-label":`Remove subtask ${O+1}`,children:T.jsx(l0,{"aria-hidden":"true"})})]},O))})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"priority",className:"block text-gray-700 text-lg font-medium mb-2",children:"Priority"}),T.jsxs("div",{className:"relative",children:[T.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsxs("select",{id:"priority",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:k=>a(k.target.value),"aria-label":"Select Task Priority","aria-required":"true",children:[T.jsx("option",{value:"Low",children:"Low"}),T.jsx("option",{value:"Normal",children:"Normal"}),T.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]})]})]}),T.jsxs("div",{className:"flex justify-between mt-6",children:[T.jsxs("button",{type:"button",onClick:P,className:"w-full lg:w-1/2 py-3 rounded-lg hover:text-blue-800 hover:bg-blue-100 transition-colors duration-200 text-lg font-semibold mr-2 flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":"Clear All Fields",children:[T.jsx(f5,{className:"mr-2","aria-hidden":"true"}),"Clear"]}),T.jsxs("button",{type:"submit",className:" w-full lg:w-1/2 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] py-3 rounded-lg bg-gray-500 hover:bg-green-700 text-white transition-colors duration-200 text-lg font-semibold ml-2 flex items-center justify-center","aria-label":"Create Task",children:[T.jsx(Wo,{className:"ml-2 md:mr-2","aria-hidden":"true"}),"Create Task"]})]})]})}),zW=({isOpen:t,onClose:e})=>T.jsx($W,{onClose:e,isOpen:t,children:n=>T.jsx(BW,{...n,isOpen:t,onClose:e})}),HW=({children:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(""),[s,o]=N.useState(""),[a,l]=N.useState(""),[u,d]=N.useState([]),[h,f]=N.useState(!1),[m,v]=N.useState(null),{currentUser:E}=N.useContext(Xi),[_,y]=N.useState({isOpen:!1,type:"new"});N.useEffect(()=>{let b;if(E){const P=Or(_t,"contacts"),A=vs(P,vi("userId","==",E.uid));b=pl(A,k=>{const O=k.docs.map(S=>({id:S.id,...S.data()}));d(O)})}return()=>{b&&b()}},[E]);const w=async b=>{if(b.preventDefault(),l(""),!E){l("You must be logged in to create a contact.");return}if(e.trim()===""||r.trim()===""||s.trim()===""){l("All fields are required.");return}try{const P={name:e,email:r,phoneNumber:s,createdAt:Qe.fromDate(new Date),userId:E.uid};if(h&&m){const A=Cr(_t,"contacts",m);await s0(A,P),f(!1),v(null),y({isOpen:!1,type:"edit"})}else await YC(Or(_t,"contacts"),P),y({isOpen:!1,type:"new"});n(""),i(""),o("")}catch(P){console.error("Error adding/updating contact:",P),P instanceof Ht||P instanceof Error?l(P.message):l("Failed to create/update contact. Please try again.")}},x=()=>{f(!1),n(""),i(""),o(""),l(""),y({isOpen:!0,type:"new"})},C=b=>{f(!0),n(b.name),i(b.email),o(b.phoneNumber),l(""),v(b.id||null),y({isOpen:!0,type:"edit",contact:b})},D=()=>{y({isOpen:!1,type:"new"}),n(""),i(""),o(""),f(!1),l(""),v(null)};return t({name:e,setName:n,email:r,setEmail:i,phoneNumber:s,setPhoneNumber:o,error:a,contacts:u,openNewContactModal:x,openEditContactModal:C,handleCreateOrUpdateContact:w,modalState:_,closeModal:D,handleDeleteFromModal:async()=>{if(_.contact&&_.contact.id&&E){if(!window.confirm("Are you sure you want to delete this contact? This action cannot be undone."))return;try{const P=Cr(_t,"contacts",_.contact.id);await QC(P),D()}catch(P){console.error("Error deleting contact:",P),l("Failed to delete contact. Please try again.")}}},isEditMode:h})},WW=({name:t,setName:e,email:n,setEmail:r,phoneNumber:i,setPhoneNumber:s,error:o,contacts:a,openNewContactModal:l,openEditContactModal:u,handleCreateOrUpdateContact:d,modalState:h,closeModal:f,handleDeleteFromModal:m})=>!h.isOpen&&!a?null:T.jsxs("div",{className:"w-full relative",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[T.jsx("div",{className:"fixed md:top-1/2 md:left-1/2 transform -translate-x-1/2 -translate-y-1/2 top-[85vh] left-[30vw] z-50","aria-label":"New Contact Button Container",children:T.jsxs("button",{onClick:l,className:"bg-gray-700 hover:bg-blue-400 text-white py-3 md:py-6 px-4 md:px-12 rounded-full text-xl font-semibold flex items-center shadow-lg transition-transform transform hover:scale-105","aria-label":"Add New Contact",children:[T.jsx(Wo,{className:"mr-2","aria-hidden":"true"}),"New Contact"]})}),T.jsxs("div",{className:"md:min-w-[20vw] max-h-[95vh] overflow-y-auto scroll-smooth",role:"region","aria-labelledby":"contacts-heading",children:[T.jsx("h2",{id:"contacts-heading",className:"sr-only",children:"Contacts List"}),a.length===0?T.jsx("div",{className:"text-gray-700 mt-[5vh] justify-center items-center text-center text-2xl",role:"status","aria-live":"polite",children:"No contacts available."}):T.jsx("div",{className:"bg-white",children:a.map(v=>T.jsxs("button",{onClick:()=>u(v),className:"group bg-white w-[80%] mx-8 my-6 py-2 pl-4 pr-12 border-b-2 rounded-t-xl border-gray-500 flex justify-between items-center cursor-pointer hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":`Edit contact ${v.name}`,children:[T.jsx("div",{className:"min-w-12 min-h-12 rounded-full bg-blue-600 group-hover:bg-blue-400 flex items-center justify-center text-white text-xl font-light mr-4","aria-hidden":"true",children:v.name.split(" ").map(E=>E[0]).join("").toUpperCase()}),T.jsxs("div",{className:"",children:[T.jsx("p",{className:"text-xl text-center font-bold text-gray-700 group-hover:text-white",children:v.name}),T.jsx("p",{className:"text-blue-700 text-sm flex justify-center mt-2 group-hover:text-white",children:v.email}),T.jsx("p",{className:"flex justify-center mt-1 text-green-800 group-hover:text-white",children:v.phoneNumber})]})]},v.id))})]})]}),T.jsx(xf,{isOpen:h.isOpen,onClose:f,ariaLabel:h.type==="new"?"Create New Contact Modal":"Edit Contact Modal",children:T.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-lg","aria-labelledby":h.type==="new"?"create-contact-heading":"edit-contact-heading",children:[T.jsx("h2",{id:h.type==="new"?"create-contact-heading":"edit-contact-heading",className:"text-3xl mb-6 text-center font-bold flex items-center justify-center",children:h.type==="new"?"New Contact":"Edit Contact"}),o&&T.jsx("div",{className:"mb-6 text-red-500 text-md",role:"alert",children:o}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-lg font-medium mb-2",children:"Name"}),T.jsxs("div",{className:"relative",children:[T.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"name",type:"text",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:v=>e(v.target.value),placeholder:"Full Name","aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-lg font-medium mb-2",children:"Email"}),T.jsxs("div",{className:"relative",children:[T.jsx(Gg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:v=>r(v.target.value),placeholder:"you@example.com","aria-required":"true"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"phoneNumber",className:"block text-gray-700 text-lg font-medium mb-2",children:"Phone Number"}),T.jsxs("div",{className:"relative",children:[T.jsx(v5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),T.jsx("input",{id:"phoneNumber",type:"tel",required:!0,pattern:"[0-9]{10}",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:v=>s(v.target.value),placeholder:"1234567890","aria-required":"true"})]})]}),T.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4",children:[T.jsx("button",{type:"submit",className:"w-full md:w-1/2 bg-gray-500 hover:bg-green-700 text-white py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":h.type==="new"?"Create Contact":"Update Contact",children:h.type==="new"?T.jsxs(T.Fragment,{children:[T.jsx(Wo,{className:"mr-2","aria-hidden":"true"}),"Create Contact"]}):T.jsxs(T.Fragment,{children:[T.jsx(uu,{className:"mr-2","aria-hidden":"true"}),"Update Contact"]})}),h.type==="edit"&&T.jsxs("button",{type:"button",onClick:m,className:"w-full md:w-1/2 hover:text-red-700 outline outline-1 hover:outline-red-700 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0","aria-label":"Delete Contact",children:[T.jsx(y5,{className:"mr-2","aria-hidden":"true"}),"Delete Contact"]}),T.jsxs("button",{type:"button",onClick:f,className:"w-full md:w-1/2 hover:text-blue-800 hover:bg-blue-100 py-3 rounded-lg transition-colors duration-200 text-lg font-semibold flex items-center justify-center mt-2 md:mt-0","aria-label":"Cancel",children:[T.jsx(a0,{className:"mr-2","aria-hidden":"true"}),"Cancel"]})]})]})})]}),GW=()=>T.jsx(HW,{children:t=>T.jsx(WW,{...t})}),wm=({children:t})=>{const{currentUser:e,loading:n}=N.useContext(Xi);return n?null:e?t:T.jsx(wO,{to:"/login",replace:!0})},qW=({children:t})=>{const[e,n]=N.useState([]),[r,i]=N.useState({}),[s,o]=N.useState([]),[a,l]=N.useState(!0),{currentUser:u,loading:d}=N.useContext(Xi);return N.useEffect(()=>{let f;if(u){const m=Or(_t,"tasks"),v=vs(m,vi("userId","==",u.uid));f=pl(v,E=>{const _=E.docs.map(x=>{const C=x.data(),D=Array.isArray(C.assignedTo)?C.assignedTo:[C.assignedTo];return{id:x.id,...C,assignedTo:D}});n(_);const y={};_.forEach(x=>{const C=x.status;y[C]=(y[C]||0)+1}),i(y);const w=_.filter(x=>x.priority==="Urgent");o(w),l(!1)})}else l(!1);return()=>{f&&f()}},[u]),t({tasks:e,statusCounts:r,urgentTasks:s,loading:a||d,isAuthenticated:!!u})},KW=({tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})=>{if(r)return T.jsx("div",{className:"p-6",role:"main","aria-labelledby":"loading",children:T.jsx("h1",{id:"loading",className:"text-2xl font-bold mb-4",children:"Loading summary..."})});if(!i)return T.jsx("div",{className:"p-6",role:"main","aria-labelledby":"login-prompt",children:T.jsx("h1",{id:"login-prompt",className:"text-2xl font-bold mb-4",children:"Please log in to view the summary."})});const s="rounded-2xl p-8 flex flex-col items-center justify-center hover:bg-gray-700 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px] focus:outline-none focus:ring-2 focus:ring-blue-500",o="text-3xl text-center font-medium",a="text-3xl md:text-5xl font-bold";return T.jsxs("main",{className:"container mx-auto py-6 w-full",role:"main","aria-labelledby":"summary-heading",children:[T.jsx("h1",{id:"summary-heading",className:"text-4xl md:text-5xl font-bold mt-6 mb-10 text-center",children:"Summary"}),T.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-10","aria-labelledby":"tasks-in-board",children:[T.jsxs("div",{className:"bg-white rounded-lg p-8","aria-labelledby":"tasks-in-board",children:[T.jsx("h2",{id:"tasks-in-board",className:"sr-only",children:"Tasks in Board"}),T.jsxs("div",{className:"transition duration-200 text-center grid grid-cols-2 sm:grid-cols-3 gap-8",children:[T.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Total Tasks",children:[T.jsx("p",{className:o,children:"Total Tasks"}),T.jsx("p",{className:a,children:t.length})]}),T.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View To Do Tasks",children:[T.jsx(uu,{size:50,className:"text-5xl mb-4 text-blue-600","aria-hidden":"true"}),T.jsx("p",{className:"text-xl font-medium",children:"To Do"}),T.jsx("p",{className:a,children:e["To do"]||0})]}),T.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View In Progress Tasks",children:[T.jsx(m5,{className:"text-5xl mb-4 text-zinc-400","aria-hidden":"true"}),T.jsx("p",{className:"text-xl font-medium",children:"In Progress"}),T.jsx("p",{className:a,children:e["In progress"]||0})]}),T.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Awaiting Feedback Tasks",children:[T.jsx(h5,{className:"text-orange-600 text-5xl mb-4","aria-hidden":"true"}),T.jsx("p",{className:"text-xl font-medium",children:"Awaiting Feedback"}),T.jsx("p",{className:a,children:e["Awaiting Feedback"]||0})]}),T.jsxs(ft,{to:"/dashboard",className:s,"aria-label":"View Completed Tasks",children:[T.jsx(d5,{className:"text-green-600 text-5xl mb-4","aria-hidden":"true"}),T.jsx("p",{className:"text-xl font-medium",children:"Completed"}),T.jsx("p",{className:a,children:e.Completed||0})]})]})]}),T.jsxs("section",{className:"bg-white rounded-lg p-8","aria-labelledby":"urgent-tasks-heading",children:[T.jsxs("h2",{id:"urgent-tasks-heading",className:"text-3xl md:text-4xl font-semibold mb-8 text-red-700 flex items-center",children:[T.jsx(p5,{className:"mr-4 text-4xl md:text-5xl","aria-hidden":"true"}),"Urgent Tasks"]}),n.length===0?T.jsx("p",{className:"text-gray-800 text-xl",role:"status",children:"No urgent tasks."}):T.jsx("ul",{children:n.map(l=>T.jsx("li",{className:"mb-6",children:T.jsx(ft,{to:"/dashboard",className:"block border-l-4 border-red-600 rounded-xl p-6 hover:bg-red-400 hover:text-white transition-colors duration-200 shadow-[rgba(0,_0,_0,_0.24)_0px_3px_8px]","aria-label":`View task ${l.title}`,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"font-semibold text-xl",children:l.title}),T.jsxs("span",{className:"text-lg",children:["Due by"," ",l.dueDate instanceof Qe?l.dueDate.toDate().toLocaleDateString():"No Due Date"]})]})})},l.id))})]})]})]})},QW=()=>T.jsx(qW,{children:({tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})=>T.jsx(KW,{tasks:t,statusCounts:e,urgentTasks:n,loading:r,isAuthenticated:i})}),YW=()=>{const[t,e]=N.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return T.jsx(pj,{children:T.jsxs(AO,{children:[T.jsx(UW,{openCreateTaskModal:n}),T.jsxs(TO,{children:[T.jsx(os,{path:"/dashboard",element:T.jsx(wm,{children:T.jsx(jW,{})})}),T.jsx(os,{path:"/summary",element:T.jsx(wm,{children:T.jsx(QW,{})})}),T.jsx(os,{path:"/contacts",element:T.jsx(wm,{children:T.jsx(GW,{})})}),T.jsx(os,{path:"/signup",element:T.jsx(n5,{})}),T.jsx(os,{path:"/login",element:T.jsx(qw,{})}),T.jsx(os,{path:"*",element:T.jsx(qw,{})})," "]}),T.jsx(zW,{isOpen:t,onClose:r})]})})};wS(document.getElementById("root")).render(T.jsx(N.StrictMode,{children:T.jsx(YW,{})}));
